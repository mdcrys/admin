"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[560],{8560:(j,b,d)=>{d.r(b),d.d(b,{UnitsModule:()=>Y});var l=d(6814),f=d(7304),t=d(5879);let T=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275cmp=t.Xpm({type:s,selectors:[["app-units"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[f.lC]})}return s})();var m=d(1274),u=d(9862),U=d(5619),p=d(4716),g=d(6988),Z=d(3595);let _=(()=>{class s{http;authservice;isLoading$;isLoadingSubject;constructor(n,e){this.http=n,this.authservice=e,this.isLoadingSubject=new U.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}registerUnit(n){this.isLoadingSubject.next(!0);let e=new u.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(g.$g+"/units",n,{headers:e}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}listUnits(n=1,e=""){this.isLoadingSubject.next(!0);let i=new u.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(g.$g+"/units?page="+n+"&search="+e,{headers:i}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}updateUnit(n,e){this.isLoadingSubject.next(!0);let i=new u.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(g.$g+"/units/"+n,e,{headers:i}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}deleteUnit(n){this.isLoadingSubject.next(!0);let e=new u.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(g.$g+"/units/"+n,{headers:e}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}registerUnitTransform(n){this.isLoadingSubject.next(!0);let e=new u.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(g.$g+"/units/add-transform",n,{headers:e}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}deleteUnitTransform(n){this.isLoadingSubject.next(!0);let e=new u.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(g.$g+"/units/delete-transform/"+n,{headers:e}).pipe((0,p.x)(()=>this.isLoadingSubject.next(!1)))}static \u0275fac=function(e){return new(e||s)(t.LFG(u.eN),t.LFG(Z.e8))};static \u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var h=d(2425),a=d(6223);function v(s,c){1&s&&t._UZ(0,"span",20)}let C=(()=>{class s{modal;unitService;toast;UnitC=new t.vpe;name="";description="";isLoading;constructor(n,e,i){this.modal=n,this.unitService=e,this.toast=i}ngOnInit(){}store(){if(!this.name)return this.toast.error("Validaci\xf3n","El nombre de la unidad es requerido"),!1;this.unitService.registerUnit({name:this.name,description:this.description,state:1}).subscribe(e=>{console.log(e),403==e.message?this.toast.error("Validaci\xf3n",e.message_text):(this.toast.success("Exito","La unidad se registro correctamente"),this.UnitC.emit(e.unit),this.modal.close())})}static \u0275fac=function(e){return new(e||s)(t.Y36(m.Kz),t.Y36(_),t.Y36(h._W))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-create-units"]],outputs:{UnitC:"UnitC"},decls:28,vars:5,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","name","name","placeholder","Segmento de cliente",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["rows","3","name","description","placeholder","Descripcion de la unidad",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Add Unit"),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return i.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),t._uU(14,"Nombre de la unidad: (*) "),t.qZA(),t.TgZ(15,"input",13),t.NdJ("ngModelChange",function(r){return i.name=r}),t.qZA()(),t.TgZ(16,"div",11)(17,"label",12),t._uU(18,"Descripci\xf3n: (Opcional) "),t.qZA(),t.TgZ(19,"textarea",14),t.NdJ("ngModelChange",function(r){return i.description=r}),t.qZA()()(),t.TgZ(20,"div",15)(21,"button",16),t.NdJ("click",function(){return i.modal.dismiss()}),t._uU(22,"Cerrar"),t.qZA(),t.TgZ(23,"button",17),t.NdJ("click",function(){return i.store()}),t.TgZ(24,"span",18),t._uU(25,"Registrar"),t.qZA(),t.YNc(26,v,1,0,"span",19),t.ALo(27,"async"),t.qZA()()()()()),2&e&&(t.xp6(15),t.Q6J("ngModel",i.name),t.xp6(4),t.Q6J("ngModel",i.description),t.xp6(7),t.Q6J("ngIf",t.lcZ(27,3,i.isLoading)))},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,a.On,a.F,l.Ov]})}return s})();function E(s,c){1&s&&t._UZ(0,"span",23)}let k=(()=>{class s{modal;unitService;toast;UnitE=new t.vpe;UNIT_SELECTED;name="";description="";state=1;isLoading;constructor(n,e,i){this.modal=n,this.unitService=e,this.toast=i}ngOnInit(){this.name=this.UNIT_SELECTED.name,this.description=this.UNIT_SELECTED.description,this.state=this.UNIT_SELECTED.state}store(){if(!this.name)return this.toast.error("Validaci\xf3n","El nombre de la unidad es requerido"),!1;this.unitService.updateUnit(this.UNIT_SELECTED.id,{name:this.name,description:this.description,state:this.state}).subscribe(e=>{console.log(e),403==e.message?this.toast.error("Validaci\xf3n",e.message_text):(this.toast.success("Exito","La unidad se edito correctamente"),this.UnitE.emit(e.unit),this.modal.close())})}static \u0275fac=function(e){return new(e||s)(t.Y36(m.Kz),t.Y36(_),t.Y36(h._W))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-edit-units"]],inputs:{UNIT_SELECTED:"UNIT_SELECTED"},outputs:{UnitE:"UnitE"},decls:36,vars:7,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","name","name","placeholder","Segmento de cliente",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["rows","3","name","description","placeholder","Descripcion de la unidad",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],["name","state","placeholder","Selec. State",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return i.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),t._uU(14,"Nombre de la unidad: (*) "),t.qZA(),t.TgZ(15,"input",13),t.NdJ("ngModelChange",function(r){return i.name=r}),t.qZA()(),t.TgZ(16,"div",11)(17,"label",12),t._uU(18,"Descripci\xf3n: (Opcional) "),t.qZA(),t.TgZ(19,"textarea",14),t.NdJ("ngModelChange",function(r){return i.description=r}),t.qZA()(),t.TgZ(20,"div",11)(21,"label",12),t._uU(22,"State:(Opcional) "),t.qZA(),t.TgZ(23,"select",15),t.NdJ("ngModelChange",function(r){return i.state=r}),t.TgZ(24,"option",16),t._uU(25,"Activo"),t.qZA(),t.TgZ(26,"option",17),t._uU(27,"Inactivo"),t.qZA()()()(),t.TgZ(28,"div",18)(29,"button",19),t.NdJ("click",function(){return i.modal.dismiss()}),t._uU(30,"Cerrar"),t.qZA(),t.TgZ(31,"button",20),t.NdJ("click",function(){return i.store()}),t.TgZ(32,"span",21),t._uU(33,"Editar"),t.qZA(),t.YNc(34,E,1,0,"span",22),t.ALo(35,"async"),t.qZA()()()()()),2&e&&(t.xp6(3),t.hij("Edit Unit: ",i.UNIT_SELECTED.name,""),t.xp6(12),t.Q6J("ngModel",i.name),t.xp6(4),t.Q6J("ngModel",i.description),t.xp6(4),t.Q6J("ngModel",i.state),t.xp6(11),t.Q6J("ngIf",t.lcZ(35,5,i.isLoading)))},dependencies:[l.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.On,a.F,l.Ov]})}return s})();function x(s,c){1&s&&t._UZ(0,"span",15)}let S=(()=>{class s{modal;unitService;toast;UnitD=new t.vpe;UNIT_SELECTED;isLoading;constructor(n,e,i){this.modal=n,this.unitService=e,this.toast=i}ngOnInit(){}delete(){this.unitService.deleteUnit(this.UNIT_SELECTED.id).subscribe(n=>{console.log(n),403==n.message?this.toast.error("Validaci\xf3n",n.message_text):(this.toast.success("Exito","La unidad se elimino correctamente"),this.UnitD.emit(n.message),this.modal.close())})}static \u0275fac=function(e){return new(e||s)(t.Y36(m.Kz),t.Y36(_),t.Y36(h._W))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-delete-units"]],inputs:{UNIT_SELECTED:"UNIT_SELECTED"},outputs:{UnitD:"UnitD"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return i.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"p"),t._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTA UNIDAD? "),t.qZA(),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){return i.modal.dismiss()}),t._uU(15,"Cerrar"),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){return i.delete()}),t.TgZ(17,"span",13),t._uU(18,"ELIMINAR"),t.qZA(),t.YNc(19,x,1,0,"span",14),t.ALo(20,"async"),t.qZA()()()()()),2&e&&(t.xp6(3),t.hij("Delete UNIT: #",i.UNIT_SELECTED.name,""),t.xp6(16),t.Q6J("ngIf",t.lcZ(20,2,i.isLoading)))},dependencies:[l.O5,a._Y,a.JL,a.F,l.Ov]})}return s})();function A(s,c){1&s&&t._UZ(0,"span",15)}let N=(()=>{class s{modal;unitService;toast;UnitD=new t.vpe;TRANSFORM_SELECTED;isLoading;constructor(n,e,i){this.modal=n,this.unitService=e,this.toast=i}ngOnInit(){}delete(){this.unitService.deleteUnitTransform(this.TRANSFORM_SELECTED.id).subscribe(n=>{console.log(n),403==n.message?this.toast.error("Validaci\xf3n",n.message_text):(this.toast.success("Exito","La unidad de transformaci\xf3n se elimino correctamente"),this.UnitD.emit(n.message),this.modal.close())})}static \u0275fac=function(e){return new(e||s)(t.Y36(m.Kz),t.Y36(_),t.Y36(h._W))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-delete-transforms-units"]],inputs:{TRANSFORM_SELECTED:"TRANSFORM_SELECTED"},outputs:{UnitD:"UnitD"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return i.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"p"),t._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTA UNIDAD DE TRANSFORMACI\xd3N? "),t.qZA(),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){return i.modal.dismiss()}),t._uU(15,"Cerrar"),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){return i.delete()}),t.TgZ(17,"span",13),t._uU(18,"ELIMINAR"),t.qZA(),t.YNc(19,A,1,0,"span",14),t.ALo(20,"async"),t.qZA()()()()()),2&e&&(t.xp6(3),t.hij("Delete UNIT TRANSFORM: #",i.TRANSFORM_SELECTED.unit_to.name,""),t.xp6(16),t.Q6J("ngIf",t.lcZ(20,2,i.isLoading)))},dependencies:[l.O5,a._Y,a.JL,a.F,l.Ov]})}return s})();function L(s,c){if(1&s&&(t.ynx(0),t.TgZ(1,"option",26),t._uU(2),t.qZA(),t.BQk()),2&s){const n=c.$implicit;t.xp6(1),t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function y(s,c){1&s&&t._UZ(0,"span",27)}function I(s,c){if(1&s){const n=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td")(4,"button",28),t.NdJ("click",function(){const o=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.removeUnitTransform(o))}),t._uU(5,"X"),t.qZA()()()}if(2&s){const n=c.$implicit;t.xp6(2),t.hij(" ",n.unit_to.name," ")}}let w=(()=>{class s{modal;unitService;toast;modalService;UNIT_SELECTED;UNITS=[];unit_to_id="";isLoading;constructor(n,e,i,o){this.modal=n,this.unitService=e,this.toast=i,this.modalService=o}ngOnInit(){}store(){if(!this.unit_to_id)return this.toast.error("Validaci\xf3n","La unidad es requerido"),!1;this.unitService.registerUnitTransform({unit_id:this.UNIT_SELECTED.id,unit_to_id:this.unit_to_id}).subscribe(e=>{console.log(e),403==e.message?this.toast.error("Validaci\xf3n",e.message_text):(this.toast.success("Exito","La unidad se registro correctamente"),this.UNIT_SELECTED.transforms.unshift(e.unit))})}removeUnitTransform(n){const e=this.modalService.open(N,{centered:!0,size:"sm"});e.componentInstance.TRANSFORM_SELECTED=n,e.componentInstance.UnitD.subscribe(i=>{let o=this.UNIT_SELECTED.transforms.findIndex(r=>r.id==n.id);-1!=o&&this.UNIT_SELECTED.transforms.splice(o,1)})}static \u0275fac=function(e){return new(e||s)(t.Y36(m.Kz),t.Y36(_),t.Y36(h._W),t.Y36(m.FF))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-create-transforms-units"]],inputs:{UNIT_SELECTED:"UNIT_SELECTED",UNITS:"UNITS"},decls:39,vars:7,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","row","mb-7"],[1,"col-8"],[1,"required","fw-bold","fs-6","mb-2"],["name","unit_transform","placeholder","Selec. Unidad",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"col-4"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"col-12"],[1,"table-responsive","w-100"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],[3,"value"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"ml-5","btn","btn-sm","btn-danger",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return i.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"label",13),t._uU(15,"Unidad a Transformar: (*) "),t.qZA(),t.TgZ(16,"select",14),t.NdJ("ngModelChange",function(r){return i.unit_to_id=r}),t.YNc(17,L,3,2,"ng-container",15),t.qZA()(),t.TgZ(18,"div",16)(19,"button",17),t.NdJ("click",function(){return i.store()}),t.TgZ(20,"span",18),t._uU(21,"Registrar"),t.qZA(),t.YNc(22,y,1,0,"span",19),t.ALo(23,"async"),t.qZA()()(),t.TgZ(24,"div",11)(25,"div",20)(26,"div",21)(27,"table",22)(28,"thead")(29,"tr",23)(30,"th"),t._uU(31,"UNIDAD/DIMESION"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"ACCI\xd3N"),t.qZA()()(),t.TgZ(34,"tbody"),t.YNc(35,I,6,1,"tr",15),t.qZA()()()()()(),t.TgZ(36,"div",24)(37,"button",25),t.NdJ("click",function(){return i.modal.dismiss()}),t._uU(38,"Cerrar"),t.qZA()()()()()),2&e&&(t.xp6(3),t.hij("Add Transforms Unit : ",i.UNIT_SELECTED.name,""),t.xp6(13),t.Q6J("ngModel",i.unit_to_id),t.xp6(1),t.Q6J("ngForOf",i.UNITS),t.xp6(5),t.Q6J("ngIf",t.lcZ(23,5,i.isLoading)),t.xp6(13),t.Q6J("ngForOf",i.UNIT_SELECTED.transforms))},dependencies:[l.sg,l.O5,a._Y,a.YN,a.Kr,a.EJ,a.JJ,a.JL,a.On,a.F,l.Ov]})}return s})();function D(s,c){1&s&&t._UZ(0,"span",31)}function q(s,c){1&s&&(t.TgZ(0,"span",44),t._uU(1,"Activo"),t.qZA())}function J(s,c){1&s&&(t.TgZ(0,"span",45),t._uU(1,"Inactivo"),t.qZA())}function M(s,c){if(1&s){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td")(5,"span",32),t._uU(6),t.qZA()(),t.TgZ(7,"td"),t.YNc(8,q,2,0,"span",33),t.YNc(9,J,2,0,"span",34),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td",35)(13,"a",36),t.NdJ("click",function(){const o=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.addTransform(o))}),t.TgZ(14,"i",37),t._UZ(15,"span",5)(16,"span",6),t.qZA()(),t.TgZ(17,"a",36),t.NdJ("click",function(){const o=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.edieUnit(o))}),t.TgZ(18,"i",38),t._UZ(19,"span",5)(20,"span",6),t.qZA()(),t.TgZ(21,"a",39),t.NdJ("click",function(){const o=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.deleteUnit(o))}),t.TgZ(22,"i",40),t._UZ(23,"span",5)(24,"span",6)(25,"span",41)(26,"span",42)(27,"span",43),t.qZA()()()(),t.BQk()}if(2&s){const n=c.$implicit;t.xp6(3),t.hij(" ",n.name," "),t.xp6(3),t.Oqu(n.description),t.xp6(2),t.Q6J("ngIf",1==n.state),t.xp6(1),t.Q6J("ngIf",2==n.state),t.xp6(2),t.hij(" ",n.created_at," ")}}const F=[{path:"",component:T,children:[{path:"list",component:(()=>{class s{modalService;unitsService;search="";UNITS=[];isLoading$;totalPages=0;currentPage=1;constructor(n,e){this.modalService=n,this.unitsService=e}ngOnInit(){this.isLoading$=this.unitsService.isLoading$,this.listUnits()}listUnits(n=1){this.unitsService.listUnits(n,this.search).subscribe(e=>{console.log(e),this.UNITS=e.units,this.totalPages=e.total,this.currentPage=n})}loadPage(n){this.listUnits(n)}createUnit(){this.modalService.open(C,{centered:!0,size:"md"}).componentInstance.UnitC.subscribe(e=>{this.UNITS.unshift(e)})}edieUnit(n){const e=this.modalService.open(k,{centered:!0,size:"md"});e.componentInstance.UNIT_SELECTED=n,e.componentInstance.UnitE.subscribe(i=>{let o=this.UNITS.findIndex(r=>r.id==n.id);-1!=o&&(this.UNITS[o]=i)})}deleteUnit(n){const e=this.modalService.open(S,{centered:!0,size:"md"});e.componentInstance.UNIT_SELECTED=n,e.componentInstance.UnitD.subscribe(i=>{let o=this.UNITS.findIndex(r=>r.id==n.id);-1!=o&&this.UNITS.splice(o,1)})}addTransform(n){const e=this.modalService.open(w,{centered:!0,size:"md"});e.componentInstance.UNIT_SELECTED=n,e.componentInstance.UNITS=this.UNITS.filter(i=>i.id!=n.id)}static \u0275fac=function(e){return new(e||s)(t.Y36(m.FF),t.Y36(_))};static \u0275cmp=t.Xpm({type:s,selectors:[["app-list-units"]],decls:50,vars:10,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search Units",1,"form-control","form-control-solid","w-250px","ps-12",3,"ngModel","ngModelChange","keyup.enter"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","base",1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary",3,"click"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center","d-none"],[1,"fw-bold","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger"],[1,"card-body","pt-0"],["id","kt_customers_table_wrapper",1,"dt-container","dt-bootstrap5","dt-empty-footer"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],["data-dt-column","2","rowspan","1","colspan","1","aria-label","Email: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","5","rowspan","1","colspan","1","aria-label","Created Date: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"text-end","min-w-70px","dt-orderable-none"],[1,"dt-column-title"],[1,"fw-semibold","text-gray-600"],[4,"ngFor","ngForOf"],[3,"collectionSize","page","pageSize","rotate","boundaryLinks","pageChange"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[2,"width","60%"],["class","badge badge-light-success",4,"ngIf"],["class","badge badge-light-danger",4,"ngIf"],[1,""],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-parcel-tracking","fs-2"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"badge","badge-light-success"],[1,"badge","badge-light-danger"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"i",4),t._UZ(5,"span",5)(6,"span",6),t.qZA(),t.TgZ(7,"input",7),t.NdJ("ngModelChange",function(r){return i.search=r})("keyup.enter",function(){return i.listUnits()}),t.qZA()()(),t.YNc(8,D,1,0,"span",8),t.ALo(9,"async"),t.TgZ(10,"div",9)(11,"div",10)(12,"button",11),t.NdJ("click",function(){return i.createUnit()}),t._uU(13," + Add Unit "),t.qZA()(),t.TgZ(14,"div",12)(15,"div",13),t._UZ(16,"span",14),t._uU(17," Selected "),t.qZA(),t.TgZ(18,"button",15),t._uU(19," Delete Selected "),t.qZA()()()(),t.TgZ(20,"div",16)(21,"div",17)(22,"div",18)(23,"table",19)(24,"thead")(25,"tr",20)(26,"th",21)(27,"span",22),t._uU(28,"Unidad"),t.qZA(),t._UZ(29,"span",23),t.qZA(),t.TgZ(30,"th",24)(31,"span",22),t._uU(32,"Descripci\xf3n"),t.qZA(),t._UZ(33,"span",23),t.qZA(),t.TgZ(34,"th",24)(35,"span",22),t._uU(36,"Estado"),t.qZA(),t._UZ(37,"span",23),t.qZA(),t.TgZ(38,"th",25)(39,"span",22),t._uU(40,"Fecha de registro"),t.qZA(),t._UZ(41,"span",23),t.qZA(),t.TgZ(42,"th",26)(43,"span",27),t._uU(44,"Actions"),t.qZA(),t._UZ(45,"span",23),t.qZA()()(),t.TgZ(46,"tbody",28),t.YNc(47,M,28,5,"ng-container",29),t.qZA(),t._UZ(48,"tfoot"),t.qZA()(),t.TgZ(49,"ngb-pagination",30),t.NdJ("pageChange",function(r){return i.currentPage=r})("pageChange",function(r){return i.loadPage(r)}),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("ngModel",i.search),t.xp6(1),t.Q6J("ngIf",t.lcZ(9,8,i.isLoading$)),t.xp6(39),t.Q6J("ngForOf",i.UNITS),t.xp6(2),t.Q6J("collectionSize",i.totalPages)("page",i.currentPage)("pageSize",25)("rotate",!0)("boundaryLinks",!0))},dependencies:[l.sg,l.O5,a.Fj,a.JJ,a.On,m.N9,l.Ov]})}return s})()}]}];let O=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[f.Bz.forChild(F),f.Bz]})}return s})();var R=d(53);let Y=(()=>{class s{static \u0275fac=function(e){return new(e||s)};static \u0275mod=t.oAB({type:s});static \u0275inj=t.cJS({imports:[l.ez,O,u.JF,a.u5,m.IJ,a.UX,R.vi,m.bz,m.jF]})}return s})()}}]);
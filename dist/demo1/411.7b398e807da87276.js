"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[411],{4411:(ot,v,u)=>{u.r(v),u.d(v,{CajasModule:()=>at});var l=u(6814),Z=u(7304),e=u(5879);let y=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275cmp=e.Xpm({type:o,selectors:[["app-cajas"]],decls:1,vars:0,template:function(a,n){1&a&&e._UZ(0,"router-outlet")},dependencies:[Z.lC]})}return o})();var d=u(1274),_=u(9862),b=u(5619),m=u(4716),p=u(6988),T=u(3595);let h=(()=>{class o{http;authservice;isLoading$;isLoadingSubject;constructor(t,a){this.http=t,this.authservice=a,this.isLoadingSubject=new b.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}configCaja(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(p.$g+"/caja/config?sucursale_id="+t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}aperturaCaja(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/apertura_caja",t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}cierreCaja(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/cierre_caja",t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}reportCaja(t=1,a){this.isLoadingSubject.next(!0);let n=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/report_caja?page="+t,a,{headers:n}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}searchClients(t,a,n){this.isLoadingSubject.next(!0);let i="";t&&(i+="&n_document="+t),a&&(i+="&full_name="+a),n&&(i+="&phone="+n);let r=p.$g+"/proformas/search-clients?p=1"+i,j=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(r,{headers:j}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}searchProformas(t,a,n){this.isLoadingSubject.next(!0);let i="";a&&(i+="&n_proforma="+a),n&&(i+="&state_payment="+n);let r=p.$g+"/caja/search_proformas/"+t+"?p=1"+i,j=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(r,{headers:j}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}updatePayment(t,a){this.isLoadingSubject.next(!0);let n=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/updated_payment/"+a,t,{headers:n}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}createPayment(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/created_payment",t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}processPayment(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/process_payment",t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}listContractProcess(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/contract_process",t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}reportCajaDay(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(p.$g+"/caja/report_caja_day/"+t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}static \u0275fac=function(a){return new(a||o)(e.LFG(_.eN),e.LFG(T.e8))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var g=u(2425),s=u(6223);function k(o,c){1&o&&e._UZ(0,"span",19)}let E=(()=>{class o{modal;cajaService;toast;caja;amount_initial=0;isLoading;caja_apertura=new e.vpe;constructor(t,a,n){this.modal=t,this.cajaService=a,this.toast=n}ngOnInit(){this.amount_initial=this.caja.amount}apertura(){this.cajaService.aperturaCaja({caja_id:this.caja.id,amount_initial:this.amount_initial}).subscribe(a=>{console.log(a),this.toast.success("Exito","La caja "+this.caja.sucursale.name+" se aperturo correctamente"),this.modal.close(),this.caja_apertura.emit(a)})}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(h),e.Y36(g._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-apertura"]],inputs:{caja:"caja"},outputs:{caja_apertura:"caja_apertura"},decls:24,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row"],[1,"required","fw-bold","fs-6","mb-2"],["type","number","name","amount_initial","disabled","","placeholder","0.00",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Aperturar Caja"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Monto de apertura: (*) "),e.qZA(),e.TgZ(15,"input",13),e.NdJ("ngModelChange",function(r){return n.amount_initial=r}),e.qZA()()(),e.TgZ(16,"div",14)(17,"button",15),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(18,"Cerrar"),e.qZA(),e.TgZ(19,"button",16),e.NdJ("click",function(){return n.apertura()}),e.TgZ(20,"span",17),e._uU(21,"Aperturar Caja"),e.qZA(),e.YNc(22,k,1,0,"span",18),e.ALo(23,"async"),e.qZA()()()()()),2&a&&(e.xp6(15),e.Q6J("ngModel",n.amount_initial),e.xp6(7),e.Q6J("ngIf",e.lcZ(23,2,n.isLoading)))},dependencies:[l.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.F,l.Ov]})}return o})();var w=u(224);function q(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"option",29),e._uU(2),e.qZA(),e.BQk()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function U(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"option",29),e._uU(2),e.qZA(),e.BQk()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function P(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"select",30),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.banco_id=n)}),e.TgZ(2,"option",14),e._uU(3,"Selec. Banco"),e.qZA(),e.YNc(4,U,3,2,"ng-container",15),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.banco_id),e.xp6(3),e.Q6J("ngForOf",t.METHOD_PAYMENT_SELECTED.bancos)}}function M(o,c){if(1&o&&(e.TgZ(0,"div",31),e._UZ(1,"img",32),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.imagen_previzualiza,e.LSH)}}function L(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.edit())}),e.TgZ(1,"span",34),e._uU(2,"Editar Pago"),e.qZA()()}}let N=(()=>{class o{modal;toast;cajaService;PAGO;method_payments=[];PagoE=new e.vpe;n_transaccion="";method_payment_id="";banco_id="";verification_payment=1;METHOD_PAYMENT_SELECTED;amount_payment=0;imagen_previzualiza;payment_file;constructor(t,a,n){this.modal=t,this.toast=a,this.cajaService=n}ngOnInit(){this.method_payment_id=this.PAGO.method_payment_id,this.banco_id=this.PAGO.banco_id,this.amount_payment=this.PAGO.amount,this.imagen_previzualiza=this.PAGO.imagen,this.n_transaccion=this.PAGO.n_transaccion,this.verification_payment=this.PAGO.verification}edit(){if(this.amount_payment<=0)return void this.toast.error("Validaci\xf3n","Es necesario ingresar un monto mayot a 0");if("1"!=this.method_payment_id&&!this.n_transaccion)return void this.toast.error("Validaci\xf3n","Es necesario ingresar un numero de la transacci\xf3n");let t=new FormData;t.append("method_payment_id",this.method_payment_id),this.banco_id&&t.append("banco_id",this.banco_id),t.append("amount",this.amount_payment+""),t.append("n_transaccion",this.n_transaccion+""),this.payment_file&&t.append("payment_file",this.payment_file),t.append("verification",this.verification_payment+""),this.cajaService.updatePayment(t,this.PAGO.id).subscribe(a=>{console.log(a),403==a.message?this.toast.error("Validacion",a.message_text):(this.PagoE.emit(a),this.toast.success("Exito","El pago se edito correctamente"),this.modal.close())})}changeMethodPayment(){this.METHOD_PAYMENT_SELECTED=this.method_payments.find(t=>t.id==this.method_payment_id),this.banco_id=""}isVerication(){this.verification_payment=1==this.verification_payment?2:1,console.log(this.verification_payment)}processFile(t){if(t.target.files[0].type.indexOf("image")<0)return void this.toast.warning("WARN","El archivo no es una imagen");this.payment_file=t.target.files[0];let a=new FileReader;a.readAsDataURL(this.payment_file),a.onloadend=()=>this.imagen_previzualiza=a.result}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(g._W),e.Y36(h))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-edit-payment"]],inputs:{PAGO:"PAGO",method_payments:"method_payments"},outputs:{PagoE:"PagoE"},decls:39,vars:9,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"row","justify-content-center"],[1,"col-8","py-2"],["name","method_payment_id","placeholder","Selec. Metodo de pago",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],["class","col-8 py-2",4,"ngIf"],["type","number","name","amount_payment","placeholder","Monto",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["for","formFile",1,"form-label"],["type","file","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp","id","formFile",1,"form-control",3,"change"],["class","py-2",4,"ngIf"],["type","text","name","n_transaccion","placeholder","****",1,"form-control","mb-2",3,"ngModel","ngModelChange"],[1,"form-label"],[1,"form-check","form-check-custom","form-check-solid","mb-2"],["type","checkbox",1,"form-check-input",3,"checked","click"],[1,"form-check-label"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","class","btn btn-primary","data-kt-users-modal-action","submit",3,"click",4,"ngIf"],[3,"value"],["name","banco_id","placeholder","Selec. Banco",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"py-2"],["width","125px","alt","",3,"src"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"select",13),e.NdJ("ngModelChange",function(r){return n.method_payment_id=r})("change",function(){return n.changeMethodPayment()}),e.TgZ(15,"option",14),e._uU(16,"Selec. Metodo de pago"),e.qZA(),e.YNc(17,q,3,2,"ng-container",15),e.qZA()(),e.YNc(18,P,5,2,"div",16),e.TgZ(19,"div",12)(20,"input",17),e.NdJ("ngModelChange",function(r){return n.amount_payment=r}),e.qZA()(),e.TgZ(21,"div",12)(22,"label",18),e._uU(23,"Comprobante"),e.qZA(),e.TgZ(24,"input",19),e.NdJ("change",function(r){return n.processFile(r)}),e.qZA(),e.YNc(25,M,2,1,"div",20),e.qZA(),e.TgZ(26,"div",12)(27,"input",21),e.NdJ("ngModelChange",function(r){return n.n_transaccion=r}),e.qZA()(),e.TgZ(28,"div",12)(29,"label",22),e._uU(30,"Verificaci\xf3n: "),e.qZA(),e.TgZ(31,"div",23)(32,"input",24),e.NdJ("click",function(){return n.isVerication()}),e.qZA(),e.TgZ(33,"label",25),e._uU(34,"Yes"),e.qZA()()()()(),e.TgZ(35,"div",26)(36,"button",27),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(37,"Cerrar"),e.qZA(),e.YNc(38,L,3,0,"button",28),e.qZA()()()()),2&a&&(e.xp6(3),e.hij("Edit Payment: #",n.PAGO.id,""),e.xp6(11),e.Q6J("ngModel",n.method_payment_id),e.xp6(3),e.Q6J("ngForOf",n.method_payments),e.xp6(1),e.Q6J("ngIf",n.METHOD_PAYMENT_SELECTED&&n.METHOD_PAYMENT_SELECTED.bancos.length>0),e.xp6(2),e.Q6J("ngModel",n.amount_payment),e.xp6(5),e.Q6J("ngIf",n.imagen_previzualiza),e.xp6(2),e.Q6J("ngModel",n.n_transaccion),e.xp6(5),e.Q6J("checked",2==n.verification_payment),e.xp6(6),e.Q6J("ngIf",2!=n.PAGO.verification))},dependencies:[l.sg,l.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.On,s.F]})}return o})();function O(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"option",30),e._uU(2),e.qZA(),e.BQk()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function J(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"option",30),e._uU(2),e.qZA(),e.BQk()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function I(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",12)(1,"select",31),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.banco_id=n)}),e.TgZ(2,"option",14),e._uU(3,"Selec. Banco"),e.qZA(),e.YNc(4,J,3,2,"ng-container",15),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.banco_id),e.xp6(3),e.Q6J("ngForOf",t.METHOD_PAYMENT_SELECTED.bancos)}}function S(o,c){if(1&o&&(e.TgZ(0,"div",32),e._UZ(1,"img",33),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.imagen_previzualiza,e.LSH)}}let F=(()=>{class o{modal;toast;cajaService;PROFORMA;method_payments=[];PagoC=new e.vpe;n_transaccion="";method_payment_id="";banco_id="";verification_payment=1;METHOD_PAYMENT_SELECTED;amount_payment=0;imagen_previzualiza;payment_file;constructor(t,a,n){this.modal=t,this.toast=a,this.cajaService=n}ngOnInit(){}store(){if(this.amount_payment<=0)return void this.toast.error("Validaci\xf3n","Es necesario ingresar un monto mayot a 0");if("1"!=this.method_payment_id&&!this.n_transaccion)return void this.toast.error("Validaci\xf3n","Es necesario ingresar un numero de la transacci\xf3n");let t=new FormData;t.append("proforma_id",this.PROFORMA.id),t.append("method_payment_id",this.method_payment_id),this.banco_id&&t.append("banco_id",this.banco_id),t.append("amount",this.amount_payment+""),t.append("n_transaccion",this.n_transaccion+""),this.payment_file&&t.append("payment_file",this.payment_file),t.append("verification",this.verification_payment+""),this.cajaService.createPayment(t).subscribe(a=>{console.log(a),403==a.message?this.toast.error("Validaci\xf3n",a.message_text):(this.PagoC.emit(a),this.toast.success("Exito","El pago se creo correctamente"),this.modal.close())})}changeMethodPayment(){this.METHOD_PAYMENT_SELECTED=this.method_payments.find(t=>t.id==this.method_payment_id),this.banco_id=""}isVerication(){this.verification_payment=1==this.verification_payment?2:1,console.log(this.verification_payment)}processFile(t){if(t.target.files[0].type.indexOf("image")<0)return void this.toast.warning("WARN","El archivo no es una imagen");this.payment_file=t.target.files[0];let a=new FileReader;a.readAsDataURL(this.payment_file),a.onloadend=()=>this.imagen_previzualiza=a.result}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(g._W),e.Y36(h))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-new-payment"]],inputs:{PROFORMA:"PROFORMA",method_payments:"method_payments"},outputs:{PagoC:"PagoC"},decls:41,vars:8,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"row","justify-content-center"],[1,"col-8","py-2"],["name","method_payment_id","placeholder","Selec. Metodo de pago",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],["class","col-8 py-2",4,"ngIf"],["type","number","name","amount_payment","placeholder","Monto",1,"form-control","mb-2",3,"ngModel","ngModelChange"],["for","formFile",1,"form-label"],["type","file","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp","id","formFile",1,"form-control",3,"change"],["class","py-2",4,"ngIf"],["type","text","name","n_transaccion","placeholder","****",1,"form-control","mb-2",3,"ngModel","ngModelChange"],[1,"form-label"],[1,"form-check","form-check-custom","form-check-solid","mb-2"],["type","checkbox",1,"form-check-input",3,"checked","click"],[1,"form-check-label"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],[3,"value"],["name","banco_id","placeholder","Selec. Banco",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"py-2"],["width","125px","alt","",3,"src"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"select",13),e.NdJ("ngModelChange",function(r){return n.method_payment_id=r})("change",function(){return n.changeMethodPayment()}),e.TgZ(15,"option",14),e._uU(16,"Selec. Metodo de pago"),e.qZA(),e.YNc(17,O,3,2,"ng-container",15),e.qZA()(),e.YNc(18,I,5,2,"div",16),e.TgZ(19,"div",12)(20,"input",17),e.NdJ("ngModelChange",function(r){return n.amount_payment=r}),e.qZA()(),e.TgZ(21,"div",12)(22,"label",18),e._uU(23,"Comprobante"),e.qZA(),e.TgZ(24,"input",19),e.NdJ("change",function(r){return n.processFile(r)}),e.qZA(),e.YNc(25,S,2,1,"div",20),e.qZA(),e.TgZ(26,"div",12)(27,"input",21),e.NdJ("ngModelChange",function(r){return n.n_transaccion=r}),e.qZA()(),e.TgZ(28,"div",12)(29,"label",22),e._uU(30,"Verificaci\xf3n: "),e.qZA(),e.TgZ(31,"div",23)(32,"input",24),e.NdJ("click",function(){return n.isVerication()}),e.qZA(),e.TgZ(33,"label",25),e._uU(34,"Yes"),e.qZA()()()()(),e.TgZ(35,"div",26)(36,"button",27),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(37,"Cerrar"),e.qZA(),e.TgZ(38,"button",28),e.NdJ("click",function(){return n.store()}),e.TgZ(39,"span",29),e._uU(40,"Agregar Pago"),e.qZA()()()()()()),2&a&&(e.xp6(3),e.hij("Add Payment: #",n.PROFORMA.id,""),e.xp6(11),e.Q6J("ngModel",n.method_payment_id),e.xp6(3),e.Q6J("ngForOf",n.method_payments),e.xp6(1),e.Q6J("ngIf",n.METHOD_PAYMENT_SELECTED&&n.METHOD_PAYMENT_SELECTED.bancos.length>0),e.xp6(2),e.Q6J("ngModel",n.amount_payment),e.xp6(5),e.Q6J("ngIf",n.imagen_previzualiza),e.xp6(2),e.Q6J("ngModel",n.n_transaccion),e.xp6(5),e.Q6J("checked",2==n.verification_payment))},dependencies:[l.sg,l.O5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.On,s.F]})}return o})();function R(o,c){1&o&&e._UZ(0,"span",53)}function Y(o,c){if(1&o&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.user_verification.full_name)}}const Q=function(o){return{"payment-process":o}};function D(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr",54)(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.YNc(10,Y,4,1,"ng-container",31),e.qZA(),e.TgZ(11,"td",55)(12,"a",56),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.editPay(i))}),e.TgZ(13,"i",57),e._UZ(14,"span",35)(15,"span",36),e.qZA()()()(),e.BQk()}if(2&o){const t=c.$implicit,a=c.index;e.xp6(1),e.Q6J("ngClass",e.VKq(6,Q,t.date_validation)),e.xp6(2),e.hij(" ",a+1," "),e.xp6(2),e.hij(" ",t.method_payment.name," "),e.xp6(2),e.hij(" ",t.amount," PEN "),e.xp6(2),e.hij(" ",2==t.verification?"PAGO ESTA VERIFICADO":"FALTA VERIFICAR"," "),e.xp6(1),e.Q6J("ngIf",2==t.verification)}}function $(o,c){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e._UZ(3,"td"),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA()()),2&o){const t=e.oxw();e.xp6(2),e.hij("PROFORMA: #",t.PROFORMA_SELECTED.id,""),e.xp6(3),e.hij("TOTAL: ",t.PROFORMA_SELECTED.total," PEN"),e.xp6(2),e.hij("DEUDA: ",t.PROFORMA_SELECTED.debt," PEN"),e.xp6(2),e.hij("PAGADO: ",t.PROFORMA_SELECTED.paid_out," PEN")}}function z(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"td")(2,"td"),e.TgZ(3,"td")(4,"button",58),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.processPayment())}),e.TgZ(5,"i",59),e._UZ(6,"span",35)(7,"span",36)(8,"span",60)(9,"span",61)(10,"span",62),e.qZA(),e._uU(11," Procesar"),e.qZA()(),e._UZ(12,"td"),e.TgZ(13,"td")(14,"button",63),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.addPayment())}),e._uU(15,"+ Nuevo Pago"),e.qZA()()()}}function B(o,c){1&o&&(e.TgZ(0,"span",71),e._uU(1,"Cotizaci\xf3n"),e.qZA())}function G(o,c){1&o&&(e.TgZ(0,"span",72),e._uU(1,"Contrato"),e.qZA())}function H(o,c){1&o&&(e.TgZ(0,"span",72),e._uU(1,"Pendiente"),e.qZA())}function K(o,c){1&o&&(e.TgZ(0,"span",73),e._uU(1,"Parcial"),e.qZA())}function V(o,c){1&o&&(e.TgZ(0,"span",74),e._uU(1,"Total"),e.qZA())}function W(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",64)(3,"button",65),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openProforma(i))}),e.TgZ(4,"i",66),e._UZ(5,"span",35)(6,"span",36)(7,"span",60),e.qZA()()(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e.YNc(13,B,2,0,"span",67),e.YNc(14,G,2,0,"span",68),e.qZA(),e.TgZ(15,"td"),e.YNc(16,H,2,0,"span",68),e.YNc(17,K,2,0,"span",69),e.YNc(18,V,2,0,"span",70),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA(),e.TgZ(21,"td"),e._uU(22),e.qZA()(),e.BQk()}if(2&o){const t=c.$implicit;e.xp6(9),e.hij(" ",t.id," "),e.xp6(2),e.hij(" ",t.total," PEN "),e.xp6(2),e.Q6J("ngIf",1==t.state_proforma),e.xp6(1),e.Q6J("ngIf",2==t.state_proforma),e.xp6(2),e.Q6J("ngIf",1==t.state_payment),e.xp6(1),e.Q6J("ngIf",2==t.state_payment),e.xp6(1),e.Q6J("ngIf",3==t.state_payment),e.xp6(2),e.hij(" ",t.debt," PEN "),e.xp6(2),e.hij(" ",t.paid_out," PEN ")}}let X=(()=>{class o{modal;toast;cajaService;modalService;method_payments=[];caja_sucursale;CajaSucursale=new e.vpe;n_document="";full_name="";phone="";CLIENT_SELECTED;state_payment="";search="";PROFORMAS=[];PROFORMA_SELECTED;PAGOS=[];isLoading$;constructor(t,a,n,i){this.modal=t,this.toast=a,this.cajaService=n,this.modalService=i}ngOnInit(){this.isLoading$=this.cajaService.isLoading$}isLoadingProcess(){this.cajaService.isLoadingSubject.next(!0),setTimeout(()=>{this.cajaService.isLoadingSubject.next(!1)},50)}searchClients(){this.n_document||this.full_name||this.phone?this.cajaService.searchClients(this.n_document,this.full_name,this.phone).subscribe(t=>{console.log(t),t.clients.length>1?this.openSelectedClients(t.clients):1==t.clients.length?(this.CLIENT_SELECTED=t.clients[0],this.n_document=this.CLIENT_SELECTED.n_document,this.full_name=this.CLIENT_SELECTED.full_name,this.phone=this.CLIENT_SELECTED.phone,this.listProformasClient(),this.toast.success("Exito","Se selecciono al cliente de la proforma"),this.isLoadingProcess()):this.toast.error("Validaci\xf3n","No hay coincidencia en la busqueda")}):this.toast.error("Validaci\xf3n","Necesitas ingresar al menos uno de los campos")}openSelectedClients(t=[]){const a=this.modalService.open(w.M,{size:"lg",centered:!0});a.componentInstance.clients=t,a.componentInstance.ClientSelected.subscribe(n=>{this.CLIENT_SELECTED=n,this.n_document=this.CLIENT_SELECTED.n_document,this.full_name=this.CLIENT_SELECTED.full_name,this.phone=this.CLIENT_SELECTED.phone,this.listProformasClient(),this.isLoadingProcess(),this.toast.success("Exito","Se selecciono al cliente de la proforma")})}listProformasClient(){this.CLIENT_SELECTED&&this.cajaService.searchProformas(this.CLIENT_SELECTED.id,this.search,this.state_payment).subscribe(t=>{console.log(t),this.PROFORMAS=t.proformas.data})}openProforma(t){this.PROFORMA_SELECTED=t,this.PAGOS=t.pagos}editPay(t){const a=this.modalService.open(N,{centered:!0,size:"md"});a.componentInstance.PAGO=t,a.componentInstance.method_payments=this.method_payments,a.componentInstance.PagoE.subscribe(n=>{console.log(n);let i=this.PAGOS.findIndex(r=>r.id==n.payment.id);-1!=i&&(this.PAGOS[i]=n.payment),this.PROFORMA_SELECTED.debt=n.proforma.debt,this.PROFORMA_SELECTED.paid_out=n.proforma.paid_out})}addPayment(){const t=this.modalService.open(F,{centered:!0,size:"md"});t.componentInstance.PROFORMA=this.PROFORMA_SELECTED,t.componentInstance.method_payments=this.method_payments,t.componentInstance.PagoC.subscribe(a=>{this.PAGOS.unshift(a.payment),this.PROFORMA_SELECTED.debt=a.proforma.debt,this.PROFORMA_SELECTED.paid_out=a.proforma.paid_out})}processPayment(){this.cajaService.processPayment({proforma_id:this.PROFORMA_SELECTED.id,caja_sucursale_id:this.caja_sucursale.id}).subscribe(a=>{console.log(a),403==a.message?this.toast.error("Validacion",a.message_text):(this.PROFORMA_SELECTED=a.proforma,this.PAGOS=[],setTimeout(()=>{let n=this.PROFORMAS.findIndex(i=>i.id==this.PROFORMA_SELECTED.id);-1!=n&&(this.PROFORMAS[n]=this.PROFORMA_SELECTED),this.PAGOS=this.PROFORMA_SELECTED.pagos,this.isLoadingProcess()},50),this.CajaSucursale.emit(a.caja_sucursale))})}resetlistProformasClient(){this.search="",this.state_payment="",this.listProformasClient()}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(g._W),e.Y36(h),e.Y36(d.FF))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-clients-contracts"]],inputs:{method_payments:"method_payments",caja_sucursale:"caja_sucursale"},outputs:{CajaSucursale:"CajaSucursale"},decls:130,vars:12,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","row"],[1,"col-4"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","name","n_document","placeholder","Ejemplo: 74859685",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","keyup.enter","ngModelChange"],["type","text","name","full_name","placeholder","Ejemplo: Octavio",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","keyup.enter","ngModelChange"],["type","text","name","phone","placeholder","Ejemplo: 9999999",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","keyup.enter","ngModelChange"],[1,"separator","separator-dashed","my-6"],[1,"col-12"],["id","kt_customers_table_wrapper",1,"dt-container","dt-bootstrap5","dt-empty-footer"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"min-w-70px","dt-orderable-none"],[1,"dt-column-title"],[1,"fw-semibold","text-gray-600"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"row","align-items-center"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","(N\xb0) Proforma ",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-3"],["name","state_payment","placeholder","Selec. Estado de pago",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","1"],["value","2"],["value","3"],[1,"col-3","d-flex"],["placement","top-start","ngbTooltip","Buscar",1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-magnifier","fs-2"],["placement","top-start","ngbTooltip","Limpiar",1,"btn","btn-dark","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-loading","fs-2"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"text-end","min-w-70px","dt-orderable-none"],["data-dt-column","2","rowspan","1","colspan","1","aria-label","Email: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"ngClass"],[1,""],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],[1,"btn","btn-info",3,"click"],[1,"ki-duotone","ki-click","text-white","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"btn","btn-warning",3,"click"],[1,"d-flex"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"ki-duotone","ki-shield-search","text-white","fs-2"],["class","badge badge-light-primary",4,"ngIf"],["class","badge badge-light-danger",4,"ngIf"],["class","badge badge-light-warning",4,"ngIf"],["class","badge badge-light-success",4,"ngIf"],[1,"badge","badge-light-primary"],[1,"badge","badge-light-danger"],[1,"badge","badge-light-warning"],[1,"badge","badge-light-success"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Agregar y valida tus pagos"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8),e.YNc(10,R,1,0,"span",9),e.ALo(11,"async"),e.TgZ(12,"form",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"label",14),e._uU(17,"Documento del cliente: (*) "),e.qZA(),e.TgZ(18,"input",15),e.NdJ("keyup.enter",function(){return n.searchClients()})("ngModelChange",function(r){return n.n_document=r}),e.qZA()(),e.TgZ(19,"div",13)(20,"label",14),e._uU(21,"Nombre C. del cliente: (*) "),e.qZA(),e.TgZ(22,"input",16),e.NdJ("keyup.enter",function(){return n.searchClients()})("ngModelChange",function(r){return n.full_name=r}),e.qZA()(),e.TgZ(23,"div",13)(24,"label",14),e._uU(25,"Telefono del cliente: (*) "),e.qZA(),e.TgZ(26,"input",17),e.NdJ("keyup.enter",function(){return n.searchClients()})("ngModelChange",function(r){return n.phone=r}),e.qZA()()()(),e._UZ(27,"div",18),e.TgZ(28,"div",11)(29,"div",12)(30,"div",19)(31,"div",20)(32,"div",21)(33,"table",22)(34,"thead")(35,"tr",23)(36,"th",24)(37,"span",25),e._uU(38,"N\xb0"),e.qZA(),e._UZ(39,"span",26),e.qZA(),e.TgZ(40,"th",24)(41,"span",25),e._uU(42,"Metodo de pago"),e.qZA(),e._UZ(43,"span",26),e.qZA(),e.TgZ(44,"th",24)(45,"span",25),e._uU(46,"Monto"),e.qZA(),e._UZ(47,"span",26),e.qZA(),e.TgZ(48,"th",24)(49,"span",25),e._uU(50,"Verificaci\xf3n"),e.qZA(),e._UZ(51,"span",26),e.qZA(),e.TgZ(52,"th",27)(53,"span",28),e._uU(54,"Actions"),e.qZA(),e._UZ(55,"span",26),e.qZA()()(),e.TgZ(56,"tbody",29),e.YNc(57,D,16,8,"ng-container",30),e.YNc(58,$,10,4,"tr",31),e.YNc(59,z,16,0,"tr",31),e.qZA(),e._UZ(60,"tfoot"),e.qZA()()()()()(),e._UZ(61,"div",18),e.TgZ(62,"div",11)(63,"div",32)(64,"div",13)(65,"div",33)(66,"i",34),e._UZ(67,"span",35)(68,"span",36),e.qZA(),e.TgZ(69,"input",37),e.NdJ("ngModelChange",function(r){return n.search=r})("keyup.enter",function(){return n.listProformasClient()}),e.qZA()()(),e.TgZ(70,"div",38)(71,"select",39),e.NdJ("ngModelChange",function(r){return n.state_payment=r}),e.TgZ(72,"option",40),e._uU(73,"Ninguno"),e.qZA(),e.TgZ(74,"option",41),e._uU(75,"Pendiente"),e.qZA(),e.TgZ(76,"option",42),e._uU(77,"Parcial"),e.qZA(),e.TgZ(78,"option",43),e._uU(79,"Completo"),e.qZA()()(),e.TgZ(80,"div",44)(81,"button",45),e.NdJ("click",function(){return n.listProformasClient()}),e.TgZ(82,"i",46),e._UZ(83,"span",35)(84,"span",36),e.qZA()(),e.TgZ(85,"button",47),e.NdJ("click",function(){return n.resetlistProformasClient()}),e.TgZ(86,"i",48),e._UZ(87,"span",35)(88,"span",36),e.qZA()()()(),e.TgZ(89,"div",12)(90,"div",19)(91,"div",20)(92,"div",21)(93,"table",22)(94,"thead")(95,"tr",23)(96,"th",49)(97,"span",28),e._uU(98,"Actions"),e.qZA(),e._UZ(99,"span",26),e.qZA(),e.TgZ(100,"th",24)(101,"span",25),e._uU(102,"N\xb0 de Proforma"),e.qZA(),e._UZ(103,"span",26),e.qZA(),e.TgZ(104,"th",24)(105,"span",25),e._uU(106,"Total"),e.qZA(),e._UZ(107,"span",26),e.qZA(),e.TgZ(108,"th",24)(109,"span",25),e._uU(110,"Estado de la proforma"),e.qZA(),e._UZ(111,"span",26),e.qZA(),e.TgZ(112,"th",24)(113,"span",25),e._uU(114,"Estado de pago"),e.qZA(),e._UZ(115,"span",26),e.qZA(),e.TgZ(116,"th",24)(117,"span",25),e._uU(118,"Adeudo"),e.qZA(),e._UZ(119,"span",26),e.qZA(),e.TgZ(120,"th",50)(121,"span",25),e._uU(122,"Pagado"),e.qZA(),e._UZ(123,"span",26),e.qZA()()(),e.TgZ(124,"tbody",29),e.YNc(125,W,23,9,"ng-container",30),e.qZA(),e._UZ(126,"tfoot"),e.qZA()()()()()(),e.TgZ(127,"div",51)(128,"button",52),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(129,"Cerrar"),e.qZA()()()()()),2&a&&(e.xp6(10),e.Q6J("ngIf",e.lcZ(11,10,n.isLoading$)),e.xp6(8),e.Q6J("ngModel",n.n_document),e.xp6(4),e.Q6J("ngModel",n.full_name),e.xp6(4),e.Q6J("ngModel",n.phone),e.xp6(31),e.Q6J("ngForOf",n.PAGOS),e.xp6(1),e.Q6J("ngIf",n.PROFORMA_SELECTED),e.xp6(1),e.Q6J("ngIf",n.PROFORMA_SELECTED),e.xp6(10),e.Q6J("ngModel",n.search),e.xp6(2),e.Q6J("ngModel",n.state_payment),e.xp6(54),e.Q6J("ngForOf",n.PROFORMAS))},dependencies:[l.mk,l.sg,l.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.F,d._L,l.Ov],styles:[".payment-process[_ngcontent-%COMP%]{background-color:#b4e0ff}"]})}return o})();function ee(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA()(),e.BQk()),2&o){const t=c.$implicit;e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.amount_total_process," PEN ")}}let x=(()=>{class o{modal;cajaService;caja;caja_sucursale;created_at_apertura;method_payments_total=[];constructor(t,a){this.modal=t,this.cajaService=a}ngOnInit(){console.log(this.caja,this.caja_sucursale,this.created_at_apertura),this.cajaService.reportCajaDay(this.caja_sucursale.id).subscribe(t=>{console.log(t),this.method_payments_total=t.method_payment_total_amount})}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(h))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-report-day"]],inputs:{caja:"caja",caja_sucursale:"caja_sucursale",created_at_apertura:"created_at_apertura"},decls:62,vars:8,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","row","justify-content-center"],[1,"col-8"],["id","kt_customers_table_wrapper",1,"dt-container","dt-bootstrap5","dt-empty-footer"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],[1,"fw-semibold","text-gray-600"],[4,"ngFor","ngForOf"],[1,"separator","separator-dashed","my-6"],[1,"fv-row","row"],[1,"d-flex"],[1,"mx-2","text-success"],[1,"mx-2","text-danger"],[1,"col-4"],[1,"mx-2","text-primary"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"div",14)(16,"table",15)(17,"thead")(18,"tr",16)(19,"th",17)(20,"span",18),e._uU(21,"Metodo de pago"),e.qZA(),e._UZ(22,"span",19),e.qZA(),e.TgZ(23,"th",17)(24,"span",18),e._uU(25,"Monto"),e.qZA(),e._UZ(26,"span",19),e.qZA()()(),e.TgZ(27,"tbody",20),e.YNc(28,ee,6,2,"ng-container",21),e.qZA(),e._UZ(29,"tfoot"),e.qZA()()()()(),e._UZ(30,"div",22),e.TgZ(31,"div",23)(32,"div",12)(33,"div",24)(34,"h2",25),e._uU(35,"Monto inicial:"),e.qZA(),e.TgZ(36,"h2"),e._uU(37),e.qZA()(),e.TgZ(38,"div",24)(39,"h2",25),e._uU(40,"Ingresos:"),e.qZA(),e.TgZ(41,"h2"),e._uU(42),e.qZA()(),e.TgZ(43,"div",24)(44,"h2",26),e._uU(45,"Egresos:"),e.qZA(),e.TgZ(46,"h2"),e._uU(47),e.qZA()(),e.TgZ(48,"div",24)(49,"h2",25),e._uU(50,"Efectivo Procesado:"),e.qZA(),e.TgZ(51,"h2"),e._uU(52),e.qZA()()(),e.TgZ(53,"div",27)(54,"div",24)(55,"h1",28),e._uU(56,"Total:"),e.qZA(),e.TgZ(57,"h1"),e._uU(58),e.qZA()()()()(),e.TgZ(59,"div",29)(60,"button",30),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(61,"Cerrar"),e.qZA()()()()()),2&a&&(e.xp6(3),e.AsE("Reporte de caja (",n.caja.sucursale.name,") - ",n.created_at_apertura,""),e.xp6(25),e.Q6J("ngForOf",n.method_payments_total),e.xp6(9),e.hij("",n.caja_sucursale.efectivo_initial," PEN"),e.xp6(5),e.hij("",n.caja_sucursale.ingresos," PEN"),e.xp6(5),e.hij("",n.caja_sucursale.egresos," PEN"),e.xp6(5),e.hij("",n.caja_sucursale.efectivo_process," PEN"),e.xp6(6),e.hij("",n.caja_sucursale.efectivo_finish," PEN"))},dependencies:[l.sg,s._Y,s.JL,s.F]})}return o})();function te(o,c){if(1&o&&e._UZ(0,"img",26),2&o){const t=e.oxw().$implicit;e.Q6J("src",t.imagen,e.LSH)}}function ne(o,c){if(1&o&&(e.ynx(0),e._UZ(1,"br"),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Oqu(t.user_verification.full_name)}}const ae=function(o){return{"payment-process":o}};function oe(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"tr",23)(2,"td"),e.YNc(3,te,1,1,"img",24),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.YNc(10,ne,4,1,"ng-container",25),e.qZA()(),e.BQk()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(6,ae,t.date_validation)),e.xp6(2),e.Q6J("ngIf",t.imagen),e.xp6(2),e.hij(" ",t.method_payment.name," "),e.xp6(2),e.hij(" ",t.amount," PEN "),e.xp6(2),e.hij(" ",2==t.verification?"PAGO ESTA VERIFICADO":"FALTA VERIFICAR"," "),e.xp6(1),e.Q6J("ngIf",2==t.verification)}}let A=(()=>{class o{modal;PROFORMA_SELECTED;PAGOS=[];constructor(t){this.modal=t}ngOnInit(){this.PAGOS=this.PROFORMA_SELECTED.pagos}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-show-details-payments"]],inputs:{PROFORMA_SELECTED:"PROFORMA_SELECTED"},decls:40,vars:2,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","row"],[1,"col-12"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],[1,"fw-semibold","text-gray-600"],[4,"ngFor","ngForOf"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],[3,"ngClass"],["style","width: 90px;","alt","","srcset","",3,"src",4,"ngIf"],[4,"ngIf"],["alt","","srcset","",2,"width","90px",3,"src"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"table",14)(16,"thead")(17,"tr",15)(18,"th",16)(19,"span",17),e._uU(20,"Imagen"),e.qZA(),e._UZ(21,"span",18),e.qZA(),e.TgZ(22,"th",16)(23,"span",17),e._uU(24,"Metodo de pago"),e.qZA(),e._UZ(25,"span",18),e.qZA(),e.TgZ(26,"th",16)(27,"span",17),e._uU(28,"Monto"),e.qZA(),e._UZ(29,"span",18),e.qZA(),e.TgZ(30,"th",16)(31,"span",17),e._uU(32,"Verificaci\xf3n"),e.qZA(),e._UZ(33,"span",18),e.qZA()()(),e.TgZ(34,"tbody",19),e.YNc(35,oe,11,8,"ng-container",20),e.qZA(),e._UZ(36,"tfoot"),e.qZA()()()()(),e.TgZ(37,"div",21)(38,"button",22),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(39,"Cerrar"),e.qZA()()()()()),2&a&&(e.xp6(3),e.hij("PAGOS PROCESADOS: #",n.PROFORMA_SELECTED.id,""),e.xp6(32),e.Q6J("ngForOf",n.PAGOS))},dependencies:[l.mk,l.sg,l.O5,s._Y,s.JL,s.F]})}return o})();function ie(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"option",36),e._uU(2),e.qZA(),e.BQk()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function se(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.exportProformas())}),e.TgZ(1,"i",38),e._UZ(2,"span",27)(3,"span",28),e.qZA()()}}function re(o,c){if(1&o&&(e.ynx(0),e._UZ(1,"br"),e._uU(2),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.hij(" Usuario Cierre: ",t.user_close.full_name," ")}}function ce(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"button",48),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openReport(i))}),e.TgZ(4,"i",49),e._UZ(5,"span",27)(6,"span",28),e.qZA()()(),e.TgZ(7,"td"),e._uU(8),e._UZ(9,"br"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e._UZ(13,"br"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"small"),e._uU(19),e.qZA(),e.YNc(20,re,3,1,"ng-container",50),e.qZA()(),e.BQk()}if(2&o){const t=c.$implicit;e.xp6(8),e.hij(" ",t.caja.name," "),e.xp6(2),e.hij(" ",t.created_at," "),e.xp6(2),e.hij(" Efectivo Final: ",t.efectivo_finish," PEN "),e.xp6(2),e.hij(" Efectivo Inicial: ",t.efectivo_initial," PEN "),e.xp6(2),e.hij(" U. de apertura: ",t.user.full_name," "),e.xp6(3),e.Oqu(t.date_close),e.xp6(1),e.Q6J("ngIf",t.user_close)}}function le(o,c){if(1&o&&(e.TgZ(0,"div",10)(1,"div",39)(2,"div",18)(3,"div",40)(4,"div",41)(5,"table",42)(6,"thead")(7,"tr",43)(8,"th",44)(9,"span",45),e._uU(10,"Opciones"),e.qZA(),e._UZ(11,"span",46),e.qZA(),e.TgZ(12,"th",44)(13,"span",45),e._uU(14,"Sucursal - Caja"),e.qZA(),e._UZ(15,"span",46),e.qZA(),e.TgZ(16,"th",44)(17,"span",45),e._uU(18,"Efectivo Actual"),e.qZA(),e._UZ(19,"span",46),e.qZA(),e.TgZ(20,"th",44)(21,"span",45),e._uU(22,"Encargado"),e.qZA(),e._UZ(23,"span",46),e.qZA(),e.TgZ(24,"th",44)(25,"span",45),e._uU(26,"Fecha de cierre"),e.qZA(),e._UZ(27,"span",46),e.qZA()()(),e.TgZ(28,"tbody",47),e.YNc(29,ce,21,7,"ng-container",24),e.qZA(),e._UZ(30,"tfoot"),e.qZA()()()()()()),2&o){const t=e.oxw();e.xp6(29),e.Q6J("ngForOf",t.CAJA_SUCURSALES)}}function de(o,c){1&o&&(e.TgZ(0,"span",71),e._uU(1,"Pendiente"),e.qZA())}function _e(o,c){1&o&&(e.TgZ(0,"span",72),e._uU(1,"Parcial"),e.qZA())}function pe(o,c){1&o&&(e.TgZ(0,"span",73),e._uU(1,"Total"),e.qZA())}function me(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td")(5,"div",56)(6,"div",57)(7,"a",58),e._uU(8),e.qZA(),e.TgZ(9,"span",59),e._uU(10),e.qZA(),e._uU(11),e.qZA()()(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e.YNc(15,de,2,0,"span",60),e.YNc(16,_e,2,0,"span",61),e.YNc(17,pe,2,0,"span",62),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td",63),e._uU(21),e.qZA(),e.TgZ(22,"td",64),e._uU(23),e.qZA(),e.TgZ(24,"td",65)(25,"a",66),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openPayments(i))}),e.TgZ(26,"i",67),e._UZ(27,"span",27)(28,"span",28)(29,"span",68)(30,"span",69)(31,"span",70),e.qZA()()()(),e.BQk()}if(2&o){const t=c.$implicit;e.xp6(3),e.hij(" ",t.proforma_id," "),e.xp6(5),e.Oqu(t.proforma.client.full_name),e.xp6(2),e.hij("Tipo: ",1==t.proforma.client.type?"PERSONA":"EMPRESA",""),e.xp6(1),e.hij(" Asesor: ",t.proforma.asesor.full_name," "),e.xp6(2),e.hij(" ",t.proforma.total," PEN "),e.xp6(2),e.Q6J("ngIf",1==t.proforma.state_payment),e.xp6(1),e.Q6J("ngIf",2==t.proforma.state_payment),e.xp6(1),e.Q6J("ngIf",3==t.proforma.state_payment),e.xp6(2),e.hij(" ",t.proforma.debt," PEN "),e.xp6(2),e.hij(" ",t.amount," PEN "),e.xp6(2),e.hij(" ",t.created_at," ")}}function ue(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",39)(2,"div",18)(3,"div",40)(4,"div",41)(5,"table",42)(6,"thead")(7,"tr",43)(8,"th",44)(9,"span",45),e._uU(10,"N\xb0 de Proforma"),e.qZA(),e._UZ(11,"span",46),e.qZA(),e.TgZ(12,"th",44)(13,"span",45),e._uU(14,"Datos cliente"),e.qZA(),e._UZ(15,"span",46),e.qZA(),e.TgZ(16,"th",44)(17,"span",45),e._uU(18,"Total"),e.qZA(),e._UZ(19,"span",46),e.qZA(),e.TgZ(20,"th",44)(21,"span",45),e._uU(22,"Estado de pago"),e.qZA(),e._UZ(23,"span",46),e.qZA(),e.TgZ(24,"th",44)(25,"span",45),e._uU(26,"Adeudo"),e.qZA(),e._UZ(27,"span",46),e.qZA(),e.TgZ(28,"th",51)(29,"span",45),e._uU(30,"Monto Procesado"),e.qZA(),e._UZ(31,"span",46),e.qZA(),e.TgZ(32,"th",52)(33,"span",45),e._uU(34,"Fecha de registro"),e.qZA(),e._UZ(35,"span",46),e.qZA(),e.TgZ(36,"th",53)(37,"span",54),e._uU(38,"Actions"),e.qZA(),e._UZ(39,"span",46),e.qZA()()(),e.TgZ(40,"tbody",47),e.YNc(41,me,32,11,"ng-container",24),e.qZA(),e._UZ(42,"tfoot"),e.qZA()(),e.TgZ(43,"ngb-pagination",55),e.NdJ("pageChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.currentPage=n)})("pageChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.loadPage(n))}),e.qZA()()()()()}if(2&o){const t=e.oxw();e.xp6(41),e.Q6J("ngForOf",t.PROFORMAS),e.xp6(2),e.Q6J("collectionSize",t.totalPages)("page",t.currentPage)("pageSize",25)("rotate",!0)("boundaryLinks",!0)}}let ge=(()=>{class o{modal;cajaService;toast;modalService;sucursales=[];start_date=null;end_date=null;type_option="";sucursale_id="1";CAJA_SUCURSALES=[];totalPages=0;currentPage=0;PROFORMAS=[];constructor(t,a,n,i){this.modal=t,this.cajaService=a,this.toast=n,this.modalService=i}ngOnInit(){}reportCaja(t=1){this.type_option?this.start_date&&this.end_date?this.cajaService.reportCaja(t,{type_option:this.type_option,start_date:this.start_date,end_date:this.end_date,sucursale_id:this.sucursale_id}).subscribe(n=>{console.log(n),n.caja_sucursales?this.CAJA_SUCURSALES=n.caja_sucursales:(this.totalPages=n.total,this.currentPage=t,this.PROFORMAS=n.contract_process.data)}):this.toast.error("Validaci\xf3n","Necesitas seleccionar una fecha de inicio y una fecha de fin"):this.toast.error("Validaci\xf3n","Necesitas seleccionar una opci\xf3n")}resetCaja(){this.start_date=null,this.end_date=null,this.PROFORMAS=[],this.CAJA_SUCURSALES=[]}loadPage(t){this.reportCaja(t)}openPayments(t){this.modalService.open(A,{centered:!0,size:"lg"}).componentInstance.PROFORMA_SELECTED=t}openReport(t){const a=this.modalService.open(x,{centered:!0,size:"lg"});a.componentInstance.caja={id:t.caja.id,sucursale:{name:t.caja.name}},a.componentInstance.caja_sucursale=t,a.componentInstance.created_at_apertura=t.created_at}exportProformas(){if(!this.type_option)return void this.toast.error("Validaci\xf3n","Necesitas seleccionar una opci\xf3n");if(!this.start_date||!this.end_date)return void this.toast.error("Validaci\xf3n","Necesitas seleccionar una fecha de inicio y una fecha de fin");let t="";this.type_option&&(t+="&type_option="+this.type_option),this.sucursale_id&&(t+="&sucursale_id="+this.sucursale_id),this.start_date&&this.end_date&&(t+="&start_date="+this.start_date,t+="&end_date="+this.end_date),window.open(p.$g+"/excel/export-contract-processs?z=1"+t,"_blank")}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(h),e.Y36(g._W),e.Y36(d.FF))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-history"]],inputs:{sucursales:"sucursales"},decls:56,vars:8,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","row","align-items-center"],[1,"col-3"],[1,"input-group","input-group-solid"],["type","date","name","start_date",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"text-muted","fs-7"],["type","date","name","end_date",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-12"],["name","type_option","placeholder","Selec. Opci\xf3n",1,"form-control",3,"ngModel","ngModelChange"],["value",""],["value","1"],["value","2"],["name","sucursale_id","placeholder","Selec. Sucursal",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["placement","top-start","ngbTooltip","Buscar",1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-magnifier","fs-2"],[1,"path1"],[1,"path2"],["placement","top-start","ngbTooltip","Limpiar",1,"btn","btn-dark","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-loading","fs-2"],["class","btn btn-success btn-sm mx-1","placement","top-start","ngbTooltip","Exportar contratos procesado",3,"click",4,"ngIf"],[1,"separator","separator-dashed","my-6"],["class","d-flex flex-column scroll-y me-n7 pe-7","id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",4,"ngIf"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],[3,"value"],["placement","top-start","ngbTooltip","Exportar contratos procesado",1,"btn","btn-success","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-folder-down","fs-2"],[1,"fv-row","row"],["id","kt_customers_table_wrapper",1,"dt-container","dt-bootstrap5","dt-empty-footer"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],[1,"fw-semibold","text-gray-600"],[1,"mx-2","btn","btn-info",3,"click"],[1,"ki-duotone","ki-questionnaire-tablet","fs-2","text-white"],[4,"ngIf"],["data-dt-column","2","rowspan","1","colspan","1","aria-label","Email: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc",2,"background-color","#ffdca5"],["data-dt-column","5","rowspan","1","colspan","1","aria-label","Created Date: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"min-w-70px","dt-orderable-none"],[1,"dt-column-title"],[3,"collectionSize","page","pageSize","rotate","boundaryLinks","pageChange"],[1,"d-flex","align-items-center"],[1,"d-flex","justify-content-start","flex-column"],["href","#",1,"text-gray-900","fw-bold","text-hover-primary","mb-1","fs-6"],[1,"text-muted","fw-semibold","text-muted","d-block","fs-7"],["class","badge badge-light-danger",4,"ngIf"],["class","badge badge-light-warning",4,"ngIf"],["class","badge badge-light-success",4,"ngIf"],[2,"background-color","#ffdca5"],[2,"text-wrap","nowrap"],[1,"d-flex"],["href","#","onclick","return false;","placement","top-start","ngbTooltip","Abrir Detallado",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-questionnaire-tablet","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"badge","badge-light-danger"],[1,"badge","badge-light-warning"],[1,"badge","badge-light-success"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Reporte historico de caja"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13)(15,"input",14),e.NdJ("ngModelChange",function(r){return n.start_date=r}),e.qZA()(),e.TgZ(16,"div",15),e._uU(17,"Fecha de inicio."),e.qZA()(),e.TgZ(18,"div",12)(19,"div",13)(20,"input",16),e.NdJ("ngModelChange",function(r){return n.end_date=r}),e.qZA()(),e.TgZ(21,"div",15),e._uU(22,"Fecha fin."),e.qZA()(),e.TgZ(23,"div",12)(24,"div",17)(25,"div",18)(26,"select",19),e.NdJ("ngModelChange",function(r){return n.type_option=r}),e.TgZ(27,"option",20),e._uU(28,"Ninguna"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Caja"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Contratos procesados"),e.qZA()(),e.TgZ(33,"div",15),e._uU(34,"Selec. Opci\xf3n"),e.qZA()(),e.TgZ(35,"div",18)(36,"select",23),e.NdJ("ngModelChange",function(r){return n.sucursale_id=r}),e.YNc(37,ie,3,2,"ng-container",24),e.qZA(),e.TgZ(38,"div",15),e._uU(39,"Selec. Sucursal"),e.qZA()()()(),e.TgZ(40,"div",12)(41,"button",25),e.NdJ("click",function(){return n.reportCaja()}),e.TgZ(42,"i",26),e._UZ(43,"span",27)(44,"span",28),e.qZA()(),e.TgZ(45,"button",29),e.NdJ("click",function(){return n.resetCaja()}),e.TgZ(46,"i",30),e._UZ(47,"span",27)(48,"span",28),e.qZA()(),e.YNc(49,se,4,0,"button",31),e.qZA()()(),e._UZ(50,"div",32),e.YNc(51,le,31,1,"div",33),e.YNc(52,ue,44,6,"div",33),e.TgZ(53,"div",34)(54,"button",35),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(55,"Cerrar"),e.qZA()()()()()),2&a&&(e.xp6(15),e.Q6J("ngModel",n.start_date),e.xp6(5),e.Q6J("ngModel",n.end_date),e.xp6(6),e.Q6J("ngModel",n.type_option),e.xp6(10),e.Q6J("ngModel",n.sucursale_id),e.xp6(1),e.Q6J("ngForOf",n.sucursales),e.xp6(12),e.Q6J("ngIf","2"==n.type_option),e.xp6(2),e.Q6J("ngIf","1"==n.type_option),e.xp6(1),e.Q6J("ngIf","2"==n.type_option))},dependencies:[l.sg,l.O5,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.On,s.F,d.N9,d._L]})}return o})();function he(o,c){1&o&&e._UZ(0,"span",21)}let fe=(()=>{class o{modal;cajaService;toast;caja_sucursale;CierreCaja=new e.vpe;amount_finish=0;amount_pass=0;isLoading;constructor(t,a,n){this.modal=t,this.cajaService=a,this.toast=n}ngOnInit(){this.amount_finish=this.caja_sucursale.efectivo_finish}cierreCaja(){this.cajaService.cierreCaja({caja_sucursale_id:this.caja_sucursale.id,amount_caja_fuerte:this.amount_pass}).subscribe(a=>{console.log(a),this.CierreCaja.emit(a),this.modal.close(),this.toast.success("Exito","La caja del dia se ha cerrado")})}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(h),e.Y36(g._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-cierre"]],inputs:{caja_sucursale:"caja_sucursale"},outputs:{CierreCaja:"CierreCaja"},decls:28,vars:5,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row"],[1,"required","fw-bold","fs-6","mb-2"],["type","number","name","amount_finish","disabled","","placeholder","0.00",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"fv-row","py-3"],["type","number","name","amount_pass","placeholder","0.00",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-dark",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Cierre de Caja"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Monto final del dia: (*) "),e.qZA(),e.TgZ(15,"input",13),e.NdJ("ngModelChange",function(r){return n.amount_finish=r}),e.qZA()(),e.TgZ(16,"div",14)(17,"label",12),e._uU(18,"Monto a caja fuerte: (*) "),e.qZA(),e.TgZ(19,"input",15),e.NdJ("ngModelChange",function(r){return n.amount_pass=r}),e.qZA()()(),e.TgZ(20,"div",16)(21,"button",17),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(22,"Cerrar"),e.qZA(),e.TgZ(23,"button",18),e.NdJ("click",function(){return n.cierreCaja()}),e.TgZ(24,"span",19),e._uU(25,"Cierre Caja"),e.qZA(),e.YNc(26,he,1,0,"span",20),e.ALo(27,"async"),e.qZA()()()()()),2&a&&(e.xp6(15),e.Q6J("ngModel",n.amount_finish),e.xp6(4),e.Q6J("ngModel",n.amount_pass),e.xp6(7),e.Q6J("ngIf",e.lcZ(27,3,n.isLoading)))},dependencies:[l.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.F,l.Ov]})}return o})(),f=(()=>{class o{http;authservice;isLoading$;isLoadingSubject;constructor(t,a){this.http=t,this.authservice=a,this.isLoadingSubject=new b.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}registerIngreso(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/ingresos",t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}listIngresos(t=1,a=""){this.isLoadingSubject.next(!0);let n=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(p.$g+"/caja/ingresos?page="+t+"&caja_sucursale_id="+a,{headers:n}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}updateIngreso(t,a){this.isLoadingSubject.next(!0);let n=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(p.$g+"/caja/ingresos/"+t,a,{headers:n}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}deleteIngreso(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(p.$g+"/caja/ingresos/"+t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}static \u0275fac=function(a){return new(a||o)(e.LFG(_.eN),e.LFG(T.e8))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Ce(o,c){1&o&&e._UZ(0,"span",22)}let Ze=(()=>{class o{modal;cajaIngreso;toast;caja_sucursale;CajaIngreso=new e.vpe;amount=0;description="";isLoading$;constructor(t,a,n){this.modal=t,this.cajaIngreso=a,this.toast=n}ngOnInit(){this.isLoading$=this.cajaIngreso.isLoading$}store(){this.description?this.amount?this.cajaIngreso.registerIngreso({caja_sucursale_id:this.caja_sucursale.id,description:this.description,amount:this.amount}).subscribe(a=>{console.log(a),403==a.message?this.toast.error("Validacion",a.message_text):(this.modal.close(),this.toast.success("Exito","El ingreso se registro perfectamente"),this.CajaIngreso.emit(a))}):this.toast.error("Validaci\xf3n","Necesitas ingresar una monto"):this.toast.error("Validaci\xf3n","Necesitas ingresar una descripci\xf3n")}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(f),e.Y36(g._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-ingreso-create"]],inputs:{caja_sucursale:"caja_sucursale"},outputs:{CajaIngreso:"CajaIngreso"},decls:28,vars:5,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row"],[1,"fs-6","fw-semibold","mb-2"],["rows","3","name","description","placeholder","Origen del efectivo",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"fv-row","py-3"],[1,"required","fw-bold","fs-6","mb-2"],["type","number","name","amount","placeholder","0.00",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Ingreso(Efectivo) Caja"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Descripci\xf3n: "),e.qZA(),e.TgZ(15,"textarea",13),e.NdJ("ngModelChange",function(r){return n.description=r}),e.qZA()(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Monto : (*) "),e.qZA(),e.TgZ(19,"input",16),e.NdJ("ngModelChange",function(r){return n.amount=r}),e.qZA()()(),e.TgZ(20,"div",17)(21,"button",18),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(22,"Cerrar"),e.qZA(),e.TgZ(23,"button",19),e.NdJ("click",function(){return n.store()}),e.TgZ(24,"span",20),e._uU(25,"Registrar"),e.qZA(),e.YNc(26,Ce,1,0,"span",21),e.ALo(27,"async"),e.qZA()()()()()),2&a&&(e.xp6(15),e.Q6J("ngModel",n.description),e.xp6(4),e.Q6J("ngModel",n.amount),e.xp6(7),e.Q6J("ngIf",e.lcZ(27,3,n.isLoading$)))},dependencies:[l.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.F,l.Ov]})}return o})();function be(o,c){1&o&&e._UZ(0,"span",22)}let Te=(()=>{class o{modal;cajaIngreso;toast;caja_sucursale;ingreso;CajaIngreso=new e.vpe;amount=0;description="";isLoading$;constructor(t,a,n){this.modal=t,this.cajaIngreso=a,this.toast=n}ngOnInit(){this.isLoading$=this.cajaIngreso.isLoading$,this.description=this.ingreso.description,this.amount=this.ingreso.amount}store(){this.description?this.amount?this.cajaIngreso.updateIngreso(this.ingreso.id,{caja_sucursale_id:this.caja_sucursale.id,description:this.description,amount:this.amount}).subscribe(a=>{console.log(a),403==a.message?this.toast.error("Validacion",a.message_text):(this.modal.close(),this.toast.success("Exito","El ingreso se edito perfectamente"),this.CajaIngreso.emit(a))}):this.toast.error("Validaci\xf3n","Necesitas ingresar una monto"):this.toast.error("Validaci\xf3n","Necesitas ingresar una descripci\xf3n")}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(f),e.Y36(g._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-ingreso-edit"]],inputs:{caja_sucursale:"caja_sucursale",ingreso:"ingreso"},outputs:{CajaIngreso:"CajaIngreso"},decls:28,vars:6,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row"],[1,"fs-6","fw-semibold","mb-2"],["rows","3","name","description","placeholder","Origen del efectivo",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"fv-row","py-3"],[1,"required","fw-bold","fs-6","mb-2"],["type","number","name","amount","placeholder","0.00",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Descripci\xf3n: "),e.qZA(),e.TgZ(15,"textarea",13),e.NdJ("ngModelChange",function(r){return n.description=r}),e.qZA()(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Monto : (*) "),e.qZA(),e.TgZ(19,"input",16),e.NdJ("ngModelChange",function(r){return n.amount=r}),e.qZA()()(),e.TgZ(20,"div",17)(21,"button",18),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(22,"Cerrar"),e.qZA(),e.TgZ(23,"button",19),e.NdJ("click",function(){return n.store()}),e.TgZ(24,"span",20),e._uU(25,"Editar"),e.qZA(),e.YNc(26,be,1,0,"span",21),e.ALo(27,"async"),e.qZA()()()()()),2&a&&(e.xp6(3),e.hij("Edit Ingreso(Efectivo): ",n.ingreso.id,""),e.xp6(12),e.Q6J("ngModel",n.description),e.xp6(4),e.Q6J("ngModel",n.amount),e.xp6(7),e.Q6J("ngIf",e.lcZ(27,4,n.isLoading$)))},dependencies:[l.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.F,l.Ov]})}return o})();function je(o,c){1&o&&e._UZ(0,"span",15)}let ve=(()=>{class o{modal;cajaIngreso;toast;CajaIngreso=new e.vpe;ingreso;isLoading;constructor(t,a,n){this.modal=t,this.cajaIngreso=a,this.toast=n}ngOnInit(){}delete(){this.cajaIngreso.deleteIngreso(this.ingreso.id).subscribe(t=>{console.log(t),403==t.message?this.toast.error("Validaci\xf3n",t.message_text):(this.toast.success("Exito","El ingreso se elimino correctamente"),this.CajaIngreso.emit(t),this.modal.close())})}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(f),e.Y36(g._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-ingreso-delete"]],inputs:{ingreso:"ingreso"},outputs:{CajaIngreso:"CajaIngreso"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"p"),e._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTE INGRESO DE CAJA? "),e.qZA(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return n.delete()}),e.TgZ(17,"span",13),e._uU(18,"ELIMINAR"),e.qZA(),e.YNc(19,je,1,0,"span",14),e.ALo(20,"async"),e.qZA()()()()()),2&a&&(e.xp6(3),e.hij("Delete Ingresos: #",n.ingreso.id,""),e.xp6(16),e.Q6J("ngIf",e.lcZ(20,2,n.isLoading)))},dependencies:[l.O5,s._Y,s.JL,s.F,l.Ov]})}return o})(),C=(()=>{class o{http;authservice;isLoading$;isLoadingSubject;constructor(t,a){this.http=t,this.authservice=a,this.isLoadingSubject=new b.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}registerEgreso(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(p.$g+"/caja/egresos",t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}listEgresos(t=1,a=""){this.isLoadingSubject.next(!0);let n=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(p.$g+"/caja/egresos?page="+t+"&caja_sucursale_id="+a,{headers:n}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}updateEgreso(t,a){this.isLoadingSubject.next(!0);let n=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(p.$g+"/caja/egresos/"+t,a,{headers:n}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}deleteEgreso(t){this.isLoadingSubject.next(!0);let a=new _.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(p.$g+"/caja/egresos/"+t,{headers:a}).pipe((0,m.x)(()=>this.isLoadingSubject.next(!1)))}static \u0275fac=function(a){return new(a||o)(e.LFG(_.eN),e.LFG(T.e8))};static \u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function xe(o,c){1&o&&e._UZ(0,"span",22)}let Ae=(()=>{class o{modal;cajaEgreso;toast;caja_sucursale;CajaEgreso=new e.vpe;amount=0;description="";isLoading$;constructor(t,a,n){this.modal=t,this.cajaEgreso=a,this.toast=n}ngOnInit(){this.isLoading$=this.cajaEgreso.isLoading$}store(){this.description?this.amount?this.cajaEgreso.registerEgreso({caja_sucursale_id:this.caja_sucursale.id,description:this.description,amount:this.amount}).subscribe(a=>{console.log(a),403==a.message?this.toast.error("Validacion",a.message_text):(this.modal.close(),this.toast.success("Exito","El egreso se registro perfectamente"),this.CajaEgreso.emit(a))}):this.toast.error("Validaci\xf3n","Necesitas ingresar una monto"):this.toast.error("Validaci\xf3n","Necesitas ingresar una descripci\xf3n")}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(C),e.Y36(g._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-egreso-create"]],inputs:{caja_sucursale:"caja_sucursale"},outputs:{CajaEgreso:"CajaEgreso"},decls:28,vars:5,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row"],[1,"fs-6","fw-semibold","mb-2"],["rows","3","name","description","placeholder","Origen del efectivo",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"fv-row","py-3"],[1,"required","fw-bold","fs-6","mb-2"],["type","number","name","amount","placeholder","0.00",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Egreso(Efectivo) Caja"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Descripci\xf3n: "),e.qZA(),e.TgZ(15,"textarea",13),e.NdJ("ngModelChange",function(r){return n.description=r}),e.qZA()(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Monto : (*) "),e.qZA(),e.TgZ(19,"input",16),e.NdJ("ngModelChange",function(r){return n.amount=r}),e.qZA()()(),e.TgZ(20,"div",17)(21,"button",18),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(22,"Cerrar"),e.qZA(),e.TgZ(23,"button",19),e.NdJ("click",function(){return n.store()}),e.TgZ(24,"span",20),e._uU(25,"Registrar"),e.qZA(),e.YNc(26,xe,1,0,"span",21),e.ALo(27,"async"),e.qZA()()()()()),2&a&&(e.xp6(15),e.Q6J("ngModel",n.description),e.xp6(4),e.Q6J("ngModel",n.amount),e.xp6(7),e.Q6J("ngIf",e.lcZ(27,3,n.isLoading$)))},dependencies:[l.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.F,l.Ov]})}return o})();function ye(o,c){1&o&&e._UZ(0,"span",22)}let ke=(()=>{class o{modal;cajaEgreso;toast;caja_sucursale;egreso;CajaEgreso=new e.vpe;amount=0;description="";isLoading$;constructor(t,a,n){this.modal=t,this.cajaEgreso=a,this.toast=n}ngOnInit(){this.isLoading$=this.cajaEgreso.isLoading$,this.description=this.egreso.description,this.amount=this.egreso.amount}store(){this.description?this.amount?this.cajaEgreso.updateEgreso(this.egreso.id,{caja_sucursale_id:this.caja_sucursale.id,description:this.description,amount:this.amount}).subscribe(a=>{console.log(a),403==a.message?this.toast.error("Validacion",a.message_text):(this.modal.close(),this.toast.success("Exito","El egreso se edito perfectamente"),this.CajaEgreso.emit(a))}):this.toast.error("Validaci\xf3n","Necesitas ingresar una monto"):this.toast.error("Validaci\xf3n","Necesitas ingresar una descripci\xf3n")}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(C),e.Y36(g._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-egreso-edit"]],inputs:{caja_sucursale:"caja_sucursale",egreso:"egreso"},outputs:{CajaEgreso:"CajaEgreso"},decls:28,vars:6,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header","py-4"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row"],[1,"fs-6","fw-semibold","mb-2"],["rows","3","name","description","placeholder","Origen del efectivo",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"fv-row","py-3"],[1,"required","fw-bold","fs-6","mb-2"],["type","number","name","amount","placeholder","0.00",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"text-center","pt-5"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Descripci\xf3n: "),e.qZA(),e.TgZ(15,"textarea",13),e.NdJ("ngModelChange",function(r){return n.description=r}),e.qZA()(),e.TgZ(16,"div",14)(17,"label",15),e._uU(18,"Monto : (*) "),e.qZA(),e.TgZ(19,"input",16),e.NdJ("ngModelChange",function(r){return n.amount=r}),e.qZA()()(),e.TgZ(20,"div",17)(21,"button",18),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(22,"Cerrar"),e.qZA(),e.TgZ(23,"button",19),e.NdJ("click",function(){return n.store()}),e.TgZ(24,"span",20),e._uU(25,"Editar"),e.qZA(),e.YNc(26,ye,1,0,"span",21),e.ALo(27,"async"),e.qZA()()()()()),2&a&&(e.xp6(3),e.hij("Edit Egreso(Efectivo): ",n.egreso.id,""),e.xp6(12),e.Q6J("ngModel",n.description),e.xp6(4),e.Q6J("ngModel",n.amount),e.xp6(7),e.Q6J("ngIf",e.lcZ(27,4,n.isLoading$)))},dependencies:[l.O5,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.On,s.F,l.Ov]})}return o})();function Ee(o,c){1&o&&e._UZ(0,"span",15)}let we=(()=>{class o{modal;cajaEgreso;toast;CajaEgreso=new e.vpe;egreso;isLoading;constructor(t,a,n){this.modal=t,this.cajaEgreso=a,this.toast=n}ngOnInit(){}delete(){this.cajaEgreso.deleteEgreso(this.egreso.id).subscribe(t=>{console.log(t),403==t.message?this.toast.error("Validaci\xf3n",t.message_text):(this.toast.success("Exito","El egreso se elimino correctamente"),this.CajaEgreso.emit(t),this.modal.close())})}static \u0275fac=function(a){return new(a||o)(e.Y36(d.Kz),e.Y36(C),e.Y36(g._W))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-caja-egreso-delete"]],inputs:{egreso:"egreso"},outputs:{CajaEgreso:"CajaEgreso"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"p"),e._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTE EGRESO DE CAJA? "),e.qZA(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return n.delete()}),e.TgZ(17,"span",13),e._uU(18,"ELIMINAR"),e.qZA(),e.YNc(19,Ee,1,0,"span",14),e.ALo(20,"async"),e.qZA()()()()()),2&a&&(e.xp6(3),e.hij("Delete Egreso: #",n.egreso.id,""),e.xp6(16),e.Q6J("ngIf",e.lcZ(20,2,n.isLoading)))},dependencies:[l.O5,s._Y,s.JL,s.F,l.Ov]})}return o})();function qe(o,c){1&o&&e._UZ(0,"span",26)}function Ue(o,c){if(1&o&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.lnq("Caja(",t.caja_sucursale?"Abierta":"Cerrada",")- ",t.caja_sucursale?t.created_at_apertura:"*******"," - ",t.caja.sucursale.name,"")}}function Pe(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openCaja())}),e.TgZ(1,"i",28),e._UZ(2,"span",29)(3,"span",30),e.qZA(),e._uU(4," Apertura "),e.qZA()}}function Me(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.validationPay())}),e.TgZ(1,"i",32),e._UZ(2,"span",29)(3,"span",30),e.qZA(),e._uU(4," Validaci\xf3n de Pagos "),e.qZA()}}function Le(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openReport())}),e.TgZ(1,"i",34),e._UZ(2,"span",29)(3,"span",30),e.qZA(),e._uU(4," Reporte "),e.qZA()}}function Ne(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openHistory())}),e.TgZ(1,"i",36),e._UZ(2,"span",29)(3,"span",30),e.qZA(),e._uU(4," Historico "),e.qZA()}}function Oe(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.closeCaja())}),e.TgZ(1,"i",38),e._UZ(2,"span",29)(3,"span",30),e.qZA(),e._uU(4," Cierre de caja"),e.qZA()}}function Je(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"option",39),e._uU(2),e.qZA(),e.BQk()),2&o){const t=c.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Ie(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",20)(1,"input",40),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.type_option_selected=2)}),e.qZA(),e.TgZ(2,"label",41),e._uU(3," Ingresos(Efectivo) "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("checked",2==t.type_option_selected)}}function Se(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"div",42)(1,"input",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.type_option_selected=3)}),e.qZA(),e.TgZ(2,"label",44),e._uU(3," Egresos(Efectivo) "),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("checked",3==t.type_option_selected)}}function Fe(o,c){1&o&&e._UZ(0,"span",26)}function Re(o,c){1&o&&(e.TgZ(0,"span",83),e._uU(1,"Cotizaci\xf3n"),e.qZA())}function Ye(o,c){1&o&&(e.TgZ(0,"span",84),e._uU(1,"Contrato"),e.qZA())}function Qe(o,c){1&o&&(e.TgZ(0,"span",84),e._uU(1,"Pendiente"),e.qZA())}function De(o,c){1&o&&(e.TgZ(0,"span",85),e._uU(1,"Parcial"),e.qZA())}function $e(o,c){1&o&&(e.TgZ(0,"span",86),e._uU(1,"Total"),e.qZA())}function ze(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td")(5,"div",67)(6,"div",68)(7,"a",69),e._uU(8),e.qZA(),e.TgZ(9,"span",70),e._uU(10),e.qZA()()()(),e.TgZ(11,"td",71),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e.YNc(16,Re,2,0,"span",72),e.YNc(17,Ye,2,0,"span",73),e.qZA(),e.TgZ(18,"td"),e.YNc(19,Qe,2,0,"span",73),e.YNc(20,De,2,0,"span",74),e.YNc(21,$e,2,0,"span",75),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td",76),e._uU(25),e.qZA(),e.TgZ(26,"td",71),e._uU(27),e.qZA(),e.TgZ(28,"td"),e._uU(29),e.qZA(),e.TgZ(30,"td",77)(31,"a",78),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.openPayments(i))}),e.TgZ(32,"i",79),e._UZ(33,"span",29)(34,"span",30)(35,"span",80)(36,"span",81)(37,"span",82),e.qZA()()()(),e.BQk()}if(2&o){const t=c.$implicit;e.xp6(3),e.hij(" ",t.proforma_id," "),e.xp6(5),e.Oqu(t.proforma.client.full_name),e.xp6(2),e.hij("Tipo: ",1==t.proforma.client.type?"PERSONA":"EMPRESA",""),e.xp6(2),e.hij(" ",t.proforma.client_segment.name," "),e.xp6(2),e.hij(" ",t.proforma.total," PEN "),e.xp6(2),e.Q6J("ngIf",1==t.proforma.state_proforma),e.xp6(1),e.Q6J("ngIf",2==t.proforma.state_proforma),e.xp6(2),e.Q6J("ngIf",1==t.proforma.state_payment),e.xp6(1),e.Q6J("ngIf",2==t.proforma.state_payment),e.xp6(1),e.Q6J("ngIf",3==t.proforma.state_payment),e.xp6(2),e.hij(" ",t.proforma.debt," PEN "),e.xp6(2),e.hij(" ",t.amount," PEN "),e.xp6(2),e.hij(" ",t.created_at," "),e.xp6(2),e.hij(" ",t.proforma.asesor.full_name," ")}}function Be(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",13)(3,"div",45)(4,"i",46),e._UZ(5,"span",29)(6,"span",30),e.qZA(),e.TgZ(7,"input",47),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.search=n)})("keyup.enter",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.listProformasProcess())}),e.qZA()()(),e.TgZ(8,"div",48)(9,"div",45)(10,"i",46),e._UZ(11,"span",29)(12,"span",30),e.qZA(),e.TgZ(13,"input",49),e.NdJ("ngModelChange",function(n){e.CHM(t);const i=e.oxw();return e.KtG(i.search_client=n)})("keyup.enter",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.listProformasProcess())}),e.qZA()()(),e.TgZ(14,"div",50)(15,"button",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.listProformasProcess())}),e.TgZ(16,"i",52),e._UZ(17,"span",29)(18,"span",30),e.qZA()(),e.TgZ(19,"button",53),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.resetlistProformasProcess())}),e.TgZ(20,"i",54),e._UZ(21,"span",29)(22,"span",30),e.qZA()()()(),e.TgZ(23,"div",55)(24,"div",56)(25,"table",57)(26,"thead")(27,"tr",58)(28,"th",59)(29,"span",60),e._uU(30,"N\xb0 de Proforma"),e.qZA(),e._UZ(31,"span",61),e.qZA(),e.TgZ(32,"th",59)(33,"span",60),e._uU(34,"Datos cliente"),e.qZA(),e._UZ(35,"span",61),e.qZA(),e.TgZ(36,"th",59)(37,"span",60),e._uU(38,"Segmento de cliente"),e.qZA(),e._UZ(39,"span",61),e.qZA(),e.TgZ(40,"th",59)(41,"span",60),e._uU(42,"Total"),e.qZA(),e._UZ(43,"span",61),e.qZA(),e.TgZ(44,"th",59)(45,"span",60),e._uU(46,"Estado de la proforma"),e.qZA(),e._UZ(47,"span",61),e.qZA(),e.TgZ(48,"th",59)(49,"span",60),e._uU(50,"Estado de pago"),e.qZA(),e._UZ(51,"span",61),e.qZA(),e.TgZ(52,"th",59)(53,"span",60),e._uU(54,"Adeudo"),e.qZA(),e._UZ(55,"span",61),e.qZA(),e.TgZ(56,"th",62)(57,"span",60),e._uU(58,"Monto Procesado"),e.qZA(),e._UZ(59,"span",61),e.qZA(),e.TgZ(60,"th",63)(61,"span",60),e._uU(62,"Fecha de registro"),e.qZA(),e._UZ(63,"span",61),e.qZA(),e.TgZ(64,"th",63)(65,"span",60),e._uU(66,"Asesor"),e.qZA(),e._UZ(67,"span",61),e.qZA(),e.TgZ(68,"th",64)(69,"span",65),e._uU(70,"Actions"),e.qZA(),e._UZ(71,"span",61),e.qZA()()(),e.TgZ(72,"tbody",66),e.YNc(73,ze,38,14,"ng-container",15),e.qZA(),e._UZ(74,"tfoot"),e.qZA()()(),e.BQk()}if(2&o){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.search),e.xp6(6),e.Q6J("ngModel",t.search_client),e.xp6(60),e.Q6J("ngForOf",t.PROFORMAS)}}function Ge(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",90),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addIngreso())}),e.TgZ(1,"i",91),e._UZ(2,"span",29)(3,"span",30)(4,"span",80)(5,"span",81)(6,"span",82)(7,"span",92),e.qZA(),e._uU(8," Agregar Efectivo "),e.qZA()}}function He(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",77)(9,"a",93),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.editIngreso(i))}),e.TgZ(10,"i",94),e._UZ(11,"span",29)(12,"span",30),e.qZA()(),e.TgZ(13,"a",95),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.deleteIngreso(i))}),e.TgZ(14,"i",96),e._UZ(15,"span",29)(16,"span",30)(17,"span",80)(18,"span",81)(19,"span",82),e.qZA()()()(),e.BQk()}if(2&o){const t=c.$implicit;e.xp6(3),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",t.amount," PEN "),e.xp6(2),e.hij(" ",t.created_at_format," ")}}function Ke(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"div",87)(2,"div",13),e.YNc(3,Ge,9,0,"button",88),e.qZA()(),e.TgZ(4,"div",55)(5,"div",56)(6,"table",57)(7,"thead")(8,"tr",58)(9,"th",59)(10,"span",60),e._uU(11,"Descripci\xf3n"),e.qZA(),e._UZ(12,"span",61),e.qZA(),e.TgZ(13,"th",59)(14,"span",60),e._uU(15,"Monto"),e.qZA(),e._UZ(16,"span",61),e.qZA(),e.TgZ(17,"th",59)(18,"span",60),e._uU(19,"Fecha de registro"),e.qZA(),e._UZ(20,"span",61),e.qZA(),e.TgZ(21,"th",89)(22,"span",65),e._uU(23,"Actions"),e.qZA(),e._UZ(24,"span",61),e.qZA()()(),e.TgZ(25,"tbody",66),e.YNc(26,He,20,3,"ng-container",15),e.qZA(),e._UZ(27,"tfoot"),e.qZA()()(),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.caja_sucursale),e.xp6(23),e.Q6J("ngForOf",t.ingresos)}}function Ve(o,c){if(1&o){const t=e.EpF();e.TgZ(0,"button",90),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.addEgreso())}),e.TgZ(1,"i",97),e._UZ(2,"span",29)(3,"span",30)(4,"span",80),e.qZA(),e._uU(5," Agregar Egreso "),e.qZA()}}function We(o,c){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",77)(9,"a",93),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.editEgreso(i))}),e.TgZ(10,"i",94),e._UZ(11,"span",29)(12,"span",30),e.qZA()(),e.TgZ(13,"a",95),e.NdJ("click",function(){const i=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.deleteEgreso(i))}),e.TgZ(14,"i",96),e._UZ(15,"span",29)(16,"span",30)(17,"span",80)(18,"span",81)(19,"span",82),e.qZA()()()(),e.BQk()}if(2&o){const t=c.$implicit;e.xp6(3),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",t.amount," PEN "),e.xp6(2),e.hij(" ",t.created_at_format," ")}}function Xe(o,c){if(1&o&&(e.ynx(0),e.TgZ(1,"div",87)(2,"div",13),e.YNc(3,Ve,6,0,"button",88),e.qZA()(),e.TgZ(4,"div",55)(5,"div",56)(6,"table",57)(7,"thead")(8,"tr",58)(9,"th",59)(10,"span",60),e._uU(11,"Descripci\xf3n"),e.qZA(),e._UZ(12,"span",61),e.qZA(),e.TgZ(13,"th",59)(14,"span",60),e._uU(15,"Monto"),e.qZA(),e._UZ(16,"span",61),e.qZA(),e.TgZ(17,"th",59)(18,"span",60),e._uU(19,"Fecha de registro"),e.qZA(),e._UZ(20,"span",61),e.qZA(),e.TgZ(21,"th",89)(22,"span",65),e._uU(23,"Actions"),e.qZA(),e._UZ(24,"span",61),e.qZA()()(),e.TgZ(25,"tbody",66),e.YNc(26,We,20,3,"ng-container",15),e.qZA(),e._UZ(27,"tfoot"),e.qZA()()(),e.BQk()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.caja_sucursale),e.xp6(23),e.Q6J("ngForOf",t.egresos)}}const et=[{path:"",component:y,children:[{path:"gestion",component:(()=>{class o{modalService;cajaService;cajaIngreso;cajaEgreso;sucursale_id="1";PROFORMAS=[];isLoading$;search="";search_client="";type_option_selected=1;caja;caja_sucursale;created_at_apertura="";sucursales=[];method_payments=[];ingresos=[];egresos=[];constructor(t,a,n,i){this.modalService=t,this.cajaService=a,this.cajaIngreso=n,this.cajaEgreso=i}ngOnInit(){this.isLoading$=this.cajaService.isLoading$,this.sucursale_id=this.cajaService.authservice.user.sucursale_id,this.configCaja()}configCaja(){this.PROFORMAS=[],this.egresos=[],this.ingresos=[],this.cajaService.configCaja(this.sucursale_id).subscribe(t=>{console.log(t),this.caja=t.caja,this.caja_sucursale=t.caja_sucursale,this.caja_sucursale&&(this.isPermission("record_contract_process")&&this.listProformasProcess(),this.isPermission("ingreso")&&this.listIngresos(),this.isPermission("egreso")&&this.listEgresos()),this.created_at_apertura=t.created_at_apertura,0==this.sucursales.length&&(this.sucursales=t.sucursales),this.method_payments=t.method_payments})}changeSucursale(t){this.configCaja()}isLoadingProcess(){this.cajaService.isLoadingSubject.next(!0),setTimeout(()=>{this.cajaService.isLoadingSubject.next(!1)},50)}openCaja(){const t=this.modalService.open(E,{centered:!0,size:"md"});t.componentInstance.caja=this.caja,t.componentInstance.caja_apertura.subscribe(a=>{this.caja_sucursale=a.caja_sucursale,this.created_at_apertura=a.created_at_apertura})}validationPay(){const t=this.modalService.open(X,{centered:!0,size:"xl"});t.componentInstance.method_payments=this.method_payments,t.componentInstance.caja_sucursale=this.caja_sucursale,t.componentInstance.CajaSucursale.subscribe(a=>{this.caja_sucursale=a,this.listProformasProcess()})}openReport(){const t=this.modalService.open(x,{centered:!0,size:"lg"});t.componentInstance.caja=this.caja,t.componentInstance.caja_sucursale=this.caja_sucursale,t.componentInstance.created_at_apertura=this.created_at_apertura}openHistory(){this.modalService.open(ge,{centered:!0,size:"xl"}).componentInstance.sucursales=this.sucursales}closeCaja(){const t=this.modalService.open(fe,{centered:!0,size:"md"});t.componentInstance.caja_sucursale=this.caja_sucursale,t.componentInstance.CierreCaja.subscribe(a=>{console.log(a),this.configCaja(),this.PROFORMAS=[],this.ingresos=[],this.egresos=[]})}listProformasProcess(){this.cajaService.listContractProcess({caja_sucursale_id:this.caja_sucursale.id,n_proforma:this.search,search_client:this.search_client}).subscribe(a=>{console.log(a),this.PROFORMAS=a.contract_process.data})}resetlistProformasProcess(){this.search="",this.search_client="",this.listProformasProcess()}openPayments(t){this.modalService.open(A,{centered:!0,size:"lg"}).componentInstance.PROFORMA_SELECTED=t}listIngresos(){this.cajaIngreso.listIngresos(1,this.caja_sucursale.id).subscribe(t=>{console.log(t),this.ingresos=t.ingresos})}addIngreso(){const t=this.modalService.open(Ze,{centered:!0,size:"md"});t.componentInstance.caja_sucursale=this.caja_sucursale,t.componentInstance.CajaIngreso.subscribe(a=>{this.ingresos.push(a.ingreso),this.caja_sucursale=a.caja_sucursale,this.isLoadingProcess()})}editIngreso(t){const a=this.modalService.open(Te,{centered:!0,size:"md"});a.componentInstance.caja_sucursale=this.caja_sucursale,a.componentInstance.ingreso=t,a.componentInstance.CajaIngreso.subscribe(n=>{let i=this.ingresos.findIndex(r=>r.id==t.id);-1!=i&&(this.ingresos[i]=n.ingreso),this.caja_sucursale=n.caja_sucursale,this.isLoadingProcess()})}deleteIngreso(t){const a=this.modalService.open(ve,{centered:!0,size:"md"});a.componentInstance.ingreso=t,a.componentInstance.CajaIngreso.subscribe(n=>{let i=this.ingresos.findIndex(r=>r.id==t.id);-1!=i&&this.ingresos.splice(i,1),this.caja_sucursale=n.caja_sucursale,this.isLoadingProcess()})}listEgresos(){this.cajaEgreso.listEgresos(1,this.caja_sucursale.id).subscribe(t=>{console.log(t),this.egresos=t.egresos})}addEgreso(){const t=this.modalService.open(Ae,{centered:!0,size:"md"});t.componentInstance.caja_sucursale=this.caja_sucursale,t.componentInstance.CajaEgreso.subscribe(a=>{this.egresos.push(a.egreso),this.caja_sucursale=a.caja_sucursale,this.isLoadingProcess()})}editEgreso(t){const a=this.modalService.open(ke,{centered:!0,size:"md"});a.componentInstance.caja_sucursale=this.caja_sucursale,a.componentInstance.egreso=t,a.componentInstance.CajaEgreso.subscribe(n=>{let i=this.egresos.findIndex(r=>r.id==t.id);-1!=i&&(this.egresos[i]=n.egreso),this.caja_sucursale=n.caja_sucursale,this.isLoadingProcess()})}deleteEgreso(t){const a=this.modalService.open(we,{centered:!0,size:"md"});a.componentInstance.egreso=t,a.componentInstance.CajaEgreso.subscribe(n=>{let i=this.egresos.findIndex(r=>r.id==t.id);-1!=i&&this.egresos.splice(i,1),this.caja_sucursale=n.caja_sucursale,this.isLoadingProcess()})}isPermission(t){return(0,p.me)(t)}static \u0275fac=function(a){return new(a||o)(e.Y36(d.FF),e.Y36(h),e.Y36(f),e.Y36(C))};static \u0275cmp=e.Xpm({type:o,selectors:[["app-lists-caja-process"]],decls:35,vars:20,consts:[[1,"card"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"row","align-items-center"],[1,"col-12","my-3"],[4,"ngIf"],[1,"col-8","d-flex","align-items-center"],["class","btn btn-primary mx-2",3,"click",4,"ngIf"],["class","mx-2 btn btn-success",3,"click",4,"ngIf"],["class","mx-2 btn btn-info",3,"click",4,"ngIf"],["class","mx-2 btn btn-warning",3,"click",4,"ngIf"],["class","mx-2 btn btn-dark",3,"click",4,"ngIf"],[1,"col-2"],["name","sucursale_id","placeholder","Selec. Sucursal",1,"form-control",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"separator","separator-dashed","my-6"],[1,"col-12"],[1,"col-6"],[1,"d-flex","mt-3"],[1,"form-check","form-check-custom","form-check-solid","me-5"],["type","radio","name","allow_reviews","id","contract_process",1,"form-check-input",3,"checked","click"],["for","contract_process",1,"form-check-label"],["class","form-check form-check-custom form-check-solid me-5",4,"ngIf"],["class","form-check form-check-custom form-check-solid",4,"ngIf"],[1,"card-body","pt-0"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"btn","btn-primary","mx-2",3,"click"],[1,"ki-duotone","ki-add-folder","fs-2","text-white"],[1,"path1"],[1,"path2"],[1,"mx-2","btn","btn-success",3,"click"],[1,"ki-duotone","ki-update-folder","fs-2","text-white"],[1,"mx-2","btn","btn-info",3,"click"],[1,"ki-duotone","ki-questionnaire-tablet","fs-2","text-white"],[1,"mx-2","btn","btn-warning",3,"click"],[1,"ki-duotone","ki-file-added","fs-2","text-white"],[1,"mx-2","btn","btn-dark",3,"click"],[1,"ki-duotone","ki-delete-folder","fs-2","text-white"],[3,"value"],["type","radio","name","allow_reviews","id","ingresos",1,"form-check-input",3,"checked","click"],["for","ingresos",1,"form-check-label"],[1,"form-check","form-check-custom","form-check-solid"],["type","radio","name","allow_reviews","id","egresos",1,"form-check-input",3,"checked","click"],["for","egresos",1,"form-check-label"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","(N\xb0) Proforma ",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-3"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Cliente",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-3","d-flex"],["placement","top-start","ngbTooltip","Buscar",1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-magnifier","fs-2"],["placement","top-start","ngbTooltip","Limpiar",1,"btn","btn-dark","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-loading","fs-2"],["id","kt_customers_table_wrapper",1,"dt-container","dt-bootstrap5","dt-empty-footer"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],["data-dt-column","2","rowspan","1","colspan","1","aria-label","Email: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc",2,"background-color","#ffdca5"],["data-dt-column","5","rowspan","1","colspan","1","aria-label","Created Date: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"min-w-70px","dt-orderable-none"],[1,"dt-column-title"],[1,"fw-semibold","text-gray-600"],[1,"d-flex","align-items-center"],[1,"d-flex","justify-content-start","flex-column"],["href","#",1,"text-gray-900","fw-bold","text-hover-primary","mb-1","fs-6"],[1,"text-muted","fw-semibold","text-muted","d-block","fs-7"],[2,"text-wrap","nowrap"],["class","badge badge-light-primary",4,"ngIf"],["class","badge badge-light-danger",4,"ngIf"],["class","badge badge-light-warning",4,"ngIf"],["class","badge badge-light-success",4,"ngIf"],[2,"background-color","#ffdca5"],[1,"d-flex"],["href","#","onclick","return false;","placement","top-start","ngbTooltip","Abrir Detallado",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-questionnaire-tablet","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"],[1,"badge","badge-light-primary"],[1,"badge","badge-light-danger"],[1,"badge","badge-light-warning"],[1,"badge","badge-light-success"],[1,"row","justify-content-end"],["class","btn btn-primary",3,"click",4,"ngIf"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"text-end","min-w-70px","dt-orderable-none"],[1,"btn","btn-primary",3,"click"],[1,"ki-duotone","ki-bill","fs-2","text-white"],[1,"path6"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"ki-duotone","ki-price-tag","fd-2","text-white"]],template:function(a,n){1&a&&(e.TgZ(0,"div",0),e.YNc(1,qe,1,0,"span",1),e.ALo(2,"async"),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),e.YNc(7,Ue,2,3,"h2",6),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,Pe,5,0,"button",8),e.YNc(10,Me,5,0,"button",9),e.YNc(11,Le,5,0,"button",10),e.YNc(12,Ne,5,0,"button",11),e.YNc(13,Oe,5,0,"button",12),e.qZA(),e.TgZ(14,"div",13)(15,"select",14),e.NdJ("ngModelChange",function(r){return n.sucursale_id=r})("change",function(r){return n.changeSucursale(r)}),e.YNc(16,Je,3,2,"ng-container",15),e.qZA()(),e._UZ(17,"div",16),e.TgZ(18,"div",17)(19,"div",4)(20,"div",18)(21,"div",19)(22,"div",20)(23,"input",21),e.NdJ("click",function(){return n.type_option_selected=1}),e.qZA(),e.TgZ(24,"label",22),e._uU(25," Contratos procesados "),e.qZA()(),e.YNc(26,Ie,4,1,"div",23),e.YNc(27,Se,4,1,"div",24),e.qZA()()()(),e._UZ(28,"div",16),e.qZA()(),e.YNc(29,Fe,1,0,"span",1),e.ALo(30,"async"),e.qZA(),e.TgZ(31,"div",25),e.YNc(32,Be,75,3,"ng-container",6),e.YNc(33,Ke,28,2,"ng-container",6),e.YNc(34,Xe,28,2,"ng-container",6),e.qZA()()),2&a&&(e.xp6(1),e.Q6J("ngIf",e.lcZ(2,16,n.isLoading$)),e.xp6(6),e.Q6J("ngIf",n.caja),e.xp6(2),e.Q6J("ngIf",!n.caja_sucursale),e.xp6(1),e.Q6J("ngIf",n.isPermission("valid_payments")&&n.caja_sucursale),e.xp6(1),e.Q6J("ngIf",n.isPermission("reports_caja")&&n.caja_sucursale),e.xp6(1),e.Q6J("ngIf",n.isPermission("record_contract_process")&&n.caja_sucursale),e.xp6(1),e.Q6J("ngIf",n.isPermission("close_caja")&&n.caja_sucursale),e.xp6(2),e.Q6J("ngModel",n.sucursale_id),e.xp6(1),e.Q6J("ngForOf",n.sucursales),e.xp6(7),e.Q6J("checked",1==n.type_option_selected),e.xp6(3),e.Q6J("ngIf",n.isPermission("ingreso")),e.xp6(1),e.Q6J("ngIf",n.isPermission("egreso")),e.xp6(2),e.Q6J("ngIf",e.lcZ(30,18,n.isLoading$)),e.xp6(3),e.Q6J("ngIf",1==n.type_option_selected),e.xp6(1),e.Q6J("ngIf",2==n.type_option_selected),e.xp6(1),e.Q6J("ngIf",3==n.type_option_selected))},dependencies:[l.sg,l.O5,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.On,d._L,l.Ov]})}return o})()}]}];let tt=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[Z.Bz.forChild(et),Z.Bz]})}return o})();var nt=u(53);let at=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=e.oAB({type:o});static \u0275inj=e.cJS({imports:[l.ez,tt,_.JF,s.u5,d.IJ,s.UX,nt.vi,d.bz,d.jF]})}return o})()}}]);
"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[333],{9333:(pt,b,c)=>{c.r(b),c.d(b,{TransportsModule:()=>dt});var d=c(6814),T=c(7304),t=c(5879);let E=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=t.Xpm({type:o,selectors:[["app-transports"]],decls:1,vars:0,template:function(i,e){1&i&&t._UZ(0,"router-outlet")},dependencies:[T.lC]})}return o})();var Z=c(9756),u=c(1274),f=c(2425),p=c(9862),S=c(5619),_=c(4716),h=c(6988),v=c(3595);let m=(()=>{class o{http;authservice;isLoading$;isLoadingSubject;constructor(n,i){this.http=n,this.authservice=i,this.isLoadingSubject=new S.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}configAll(){this.isLoadingSubject.next(!0);let n=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(h.$g+"/transport/config",{headers:n}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}searchProducts(n){this.isLoadingSubject.next(!0);let i="";n&&(i+="&search="+n);let e=h.$g+"/proformas/search-products?p=1"+i,r=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(e,{headers:r}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}createTransport(n){this.isLoadingSubject.next(!0);let i=h.$g+"/transport",e=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(i,n,{headers:e}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}listTransport(n=1,i){this.isLoadingSubject.next(!0);let e=h.$g+"/transport/index?page="+n,r=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(e,i,{headers:r}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}showTransport(n){this.isLoadingSubject.next(!0);let i=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(h.$g+"/transport/"+n,{headers:i}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}editTransport(n,i){this.isLoadingSubject.next(!0);let e=h.$g+"/transport/"+n,r=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(e,i,{headers:r}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}deleteTransport(n){this.isLoadingSubject.next(!0);let i=h.$g+"/transport/"+n,e=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(i,{headers:e}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}addTransportDetail(n){this.isLoadingSubject.next(!0);let i=h.$g+"/transport-detail",e=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(i,n,{headers:e}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}editTransportDetail(n,i){this.isLoadingSubject.next(!0);let e=h.$g+"/transport-detail/"+n,r=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(e,i,{headers:r}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}deleteTransportDetail(n,i=0,e=0,r=0,s=""){this.isLoadingSubject.next(!0);let g=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(h.$g+"/transport-detail/"+n+"?total="+i+"&importe="+e+"&igv="+r+"&transport_id="+s,{headers:g}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}static \u0275fac=function(i){return new(i||o)(t.LFG(p.eN),t.LFG(v.e8))};static \u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var l=c(6223);function q(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",25),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.unit.id),t.xp6(1),t.Oqu(n.unit.name)}}function N(o,a){1&o&&t._UZ(0,"span",26)}let A=(()=>{class o{modal;toast;transportService;detail_transport;units=[];index=0;importe=0;is_edit=null;warehouse_start_id;EditItemTranport=new t.vpe;search_product="";unit_id="";price_unit=0;total_old=0;quantity=0;isLoading;constructor(n,i,e){this.modal=n,this.toast=i,this.transportService=e}ngOnInit(){this.units=this.detail_transport.product.warehouses.filter(n=>n.warehouse.id==this.warehouse_start_id),this.unit_id=this.detail_transport.unit.id,this.price_unit=this.detail_transport.price_unit,this.quantity=this.detail_transport.quantity,this.total_old=this.detail_transport.total}edit(){if(!this.unit_id)return void this.toast.error("Validacion","Se necesita seleccionar una unidad");if(!this.quantity)return void this.toast.error("Validacion","Se necesita digitar una cantidad");let n=this.units.find(i=>i.unit.id==this.unit_id);if(n&&n.quantity<this.quantity)this.toast.error("Validacion","No puedes solicitar esa cantidad, porque no hay stock disponible ("+n.quantity+")");else if(this.detail_transport.unit=n.unit,this.detail_transport.price_unit=this.price_unit,this.detail_transport.quantity=this.quantity,this.detail_transport.total=Number((this.price_unit*this.quantity).toFixed(2)),1==this.is_edit){let i=Number((this.importe-this.total_old+Number((this.price_unit*this.quantity).toFixed(2))).toFixed(2)),e=Number((.18*i).toFixed(2));this.detail_transport.total_purchase=i+e,this.detail_transport.importe=i,this.detail_transport.igv=e,this.transportService.editTransportDetail(this.detail_transport.id,this.detail_transport).subscribe(r=>{this.toast.success("Exito","Se edito el detallado correctamente"),this.modal.close(),this.EditItemTranport.emit(r)})}else this.modal.close(),this.EditItemTranport.emit(this.detail_transport)}static \u0275fac=function(i){return new(i||o)(t.Y36(u.Kz),t.Y36(f._W),t.Y36(m))};static \u0275cmp=t.Xpm({type:o,selectors:[["app-edit-detail-transports"]],inputs:{detail_transport:"detail_transport",index:"index",importe:"importe",is_edit:"is_edit",warehouse_start_id:"warehouse_start_id"},outputs:{EditItemTranport:"EditItemTranport"},decls:42,vars:9,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"row"],[1,"col-12"],[1,"required","fw-bold","fs-6","mb-2"],[1,"col-6","mt-4"],["name","unit_id","placeholder","Selec. Unidad",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["type","number","name","price_unit","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","number","name","quantity","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[3,"value"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return e.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"label",13),t._uU(15,"Producto: (*) "),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"span"),t._uU(18),t.qZA()(),t.TgZ(19,"div",14)(20,"label",13),t._uU(21,"Unidades: (*) "),t.qZA(),t.TgZ(22,"select",15),t.NdJ("ngModelChange",function(s){return e.unit_id=s}),t.TgZ(23,"option",16),t._uU(24,"Ninguno"),t.qZA(),t.YNc(25,q,3,2,"ng-container",17),t.qZA()(),t.TgZ(26,"div",14)(27,"label",13),t._uU(28,"Precio Unitario: (*) "),t.qZA(),t.TgZ(29,"input",18),t.NdJ("ngModelChange",function(s){return e.price_unit=s}),t.qZA()(),t.TgZ(30,"div",14)(31,"label",13),t._uU(32,"Cantidad Solic.: (*) "),t.qZA(),t.TgZ(33,"input",19),t.NdJ("ngModelChange",function(s){return e.quantity=s}),t.qZA()()()(),t.TgZ(34,"div",20)(35,"button",21),t.NdJ("click",function(){return e.modal.dismiss()}),t._uU(36,"Cerrar"),t.qZA(),t.TgZ(37,"button",22),t.NdJ("click",function(){return e.edit()}),t.TgZ(38,"span",23),t._uU(39,"Editar"),t.qZA(),t.YNc(40,N,1,0,"span",24),t.ALo(41,"async"),t.qZA()()()()()),2&i&&(t.xp6(3),t.hij("Edit Purchase Detail: #",e.index+1,""),t.xp6(15),t.Oqu(e.detail_transport.product.title),t.xp6(4),t.Q6J("ngModel",e.unit_id),t.xp6(3),t.Q6J("ngForOf",e.units),t.xp6(4),t.Q6J("ngModel",e.price_unit),t.xp6(4),t.Q6J("ngModel",e.quantity),t.xp6(7),t.Q6J("ngIf",t.lcZ(41,7,e.isLoading)))},dependencies:[d.sg,d.O5,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.On,l.F,d.Ov]})}return o})();function U(o,a){1&o&&t._UZ(0,"span",15)}let C=(()=>{class o{modal;toast;transportService;DeleteItemTransport=new t.vpe;detail_transport;importe=0;is_edit=null;transport_id=null;index;isLoading;constructor(n,i,e){this.modal=n,this.toast=i,this.transportService=e}ngOnInit(){}delete(){if(1==this.is_edit){let n=Number((this.importe-this.detail_transport.total).toFixed(2)),i=Number((.18*n).toFixed(2));this.transportService.deleteTransportDetail(this.detail_transport.id,n+i,n,i,this.transport_id).subscribe(e=>{console.log(e),this.DeleteItemTransport.emit(e),this.modal.close(),this.toast.success("Exito","La eliminaci\xf3n se hizo correctamente")})}else this.DeleteItemTransport.emit(""),this.modal.close(),this.toast.success("Exito","La eliminaci\xf3n se hizo correctamente")}static \u0275fac=function(i){return new(i||o)(t.Y36(u.Kz),t.Y36(f._W),t.Y36(m))};static \u0275cmp=t.Xpm({type:o,selectors:[["app-delete-detail-transports"]],inputs:{detail_transport:"detail_transport",importe:"importe",is_edit:"is_edit",transport_id:"transport_id",index:"index"},outputs:{DeleteItemTransport:"DeleteItemTransport"},decls:21,vars:5,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return e.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"p"),t._uU(12),t.qZA(),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){return e.modal.dismiss()}),t._uU(15,"Cerrar"),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){return e.delete()}),t.TgZ(17,"span",13),t._uU(18,"ELIMINAR"),t.qZA(),t.YNc(19,U,1,0,"span",14),t.ALo(20,"async"),t.qZA()()()()()),2&i&&(t.xp6(3),t.hij("Delete Detail Transport: #",e.index+1,""),t.xp6(9),t.hij(' \xbfESTAS SEGURO DE ELIMINAR ESTE DETALLADO DEL PRODUCTO : "',e.detail_transport.product.title,'"? '),t.xp6(7),t.Q6J("ngIf",t.lcZ(20,3,e.isLoading)))},dependencies:[d.O5,l._Y,l.JL,l.F,d.Ov]})}return o})();function w(o,a){1&o&&t._UZ(0,"span",39)}function L(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",40),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function x(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",40),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function M(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",40),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.unit.id),t.xp6(1),t.Oqu(n.unit.name)}}function R(o,a){if(1&o){const n=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",41),t._uU(3),t.qZA(),t.TgZ(4,"td",41),t._uU(5),t.qZA(),t.TgZ(6,"td",41),t._uU(7),t.qZA(),t.TgZ(8,"td",41),t._uU(9),t.qZA(),t.TgZ(10,"td",41),t._uU(11),t.qZA(),t.TgZ(12,"td",42)(13,"a",43),t.NdJ("click",function(){const e=t.CHM(n),r=e.index,s=e.$implicit,g=t.oxw();return t.KtG(g.editItemTransport(r,s))}),t.TgZ(14,"i",44),t._UZ(15,"span",20)(16,"span",21),t.qZA()(),t.TgZ(17,"a",45),t.NdJ("click",function(){const e=t.CHM(n),r=e.index,s=e.$implicit,g=t.oxw();return t.KtG(g.deleteItemTransport(r,s))}),t.TgZ(18,"i",46),t._UZ(19,"span",20)(20,"span",21)(21,"span",47)(22,"span",48)(23,"span",49),t.qZA()()()(),t.BQk()}if(2&o){const n=a.$implicit;t.xp6(3),t.hij(" ",n.product.title," "),t.xp6(2),t.hij(" ",n.unit.name," "),t.xp6(2),t.hij(" ",n.price_unit," PEN "),t.xp6(2),t.hij(" ",n.quantity," "),t.xp6(2),t.hij(" ",n.total," PEN ")}}let y=(()=>{class o{transportService;toast;modalService;full_name_user="";sucursal_user="";warehouse_start_id="";warehouse_end_id="";date_emision=null;type_comprobant="";n_comprobant="";description="";search_product="";unit_id="";price_unit=0;quantity=0;importe=0;igv=0;total=0;user;warehouses_start=[];warehouses_end=[];units=[];isLoading$;PRODUCT_SELECTED;TRANSPORTS_DETAILS=[];constructor(n,i,e){this.transportService=n,this.toast=i,this.modalService=e}ngOnInit(){this.user=this.transportService.authservice.user,this.full_name_user=this.user.full_name,this.sucursal_user=this.user.sucursale_name,this.configAll(),this.isLoading$=this.transportService.isLoading$}configAll(){this.transportService.configAll().subscribe(n=>{this.warehouses_start=n.warehouses,this.warehouses_end=n.warehouses,this.date_emision=n.now})}isLoadingProcess(){this.transportService.isLoadingSubject.next(!0),setTimeout(()=>{this.transportService.isLoadingSubject.next(!1)},50)}listProducts(){this.search_product?this.warehouse_start_id?this.transportService.searchProducts(this.search_product).subscribe(n=>{console.log(n),n.products.data.length>1?this.openSelectedProduct(n.products.data):1==n.products.data.length?(this.PRODUCT_SELECTED=n.products.data[0],this.search_product=this.PRODUCT_SELECTED.title,this.units=this.PRODUCT_SELECTED.warehouses.filter(i=>i.warehouse.id==this.warehouse_start_id),this.toast.success("Exito","Se selecciono el producto "),this.isLoadingProcess()):this.toast.error("Validaci\xf3n","No hay coincidencia en la busqueda")}):this.toast.error("Validacion","Se necesita seleccionar un almacen de atenci\xf3n"):this.toast.error("Validaci\xf3n","Necesitas ingresar al menos uno de los campos")}openSelectedProduct(n=[]){const i=this.modalService.open(Z.T,{size:"lg",centered:!0});i.componentInstance.products=n,i.componentInstance.ProductSelected.subscribe(e=>{this.PRODUCT_SELECTED=e,this.search_product=this.PRODUCT_SELECTED.title,this.units=this.PRODUCT_SELECTED.warehouses.filter(r=>r.warehouse.id==this.warehouse_start_id),this.isLoadingProcess(),this.toast.success("Exito","Se selecciono el producto")})}updatedUnit(){this.PRODUCT_SELECTED&&(this.units=this.PRODUCT_SELECTED.warehouses.filter(n=>n.warehouse.id==this.warehouse_start_id))}addDetail(){if(!this.PRODUCT_SELECTED)return void this.toast.error("Validacion","Se necesita seleccionar un producto");if(!this.unit_id)return void this.toast.error("Validacion","Se necesita seleccionar una unidad");if(!this.quantity)return void this.toast.error("Validacion","Se necesita digitar una cantidad");let n=this.units.find(i=>i.unit.id==this.unit_id);n&&n.quantity<this.quantity?this.toast.error("Validacion","No puedes solicitar esa cantidad, porque no hay stock disponible ("+n.quantity+")"):(this.TRANSPORTS_DETAILS.push({product:this.PRODUCT_SELECTED,unit:n.unit,price_unit:this.price_unit,quantity:this.quantity,total:Number((this.price_unit*this.quantity).toFixed(2))}),this.PRODUCT_SELECTED=null,this.unit_id="",this.price_unit=0,this.quantity=0,this.search_product="",this.units=[],this.calcTotalPurchase())}calcTotalPurchase(){this.importe=Number(this.TRANSPORTS_DETAILS.reduce((n,i)=>n+i.total,0).toFixed(2)),this.igv=Number((.18*this.importe).toFixed(2)),this.total=Number((this.importe+this.igv).toFixed(2)),this.isLoadingProcess()}editItemTransport(n,i){const e=this.modalService.open(A,{centered:!0,size:"md"});e.componentInstance.detail_transport=i,e.componentInstance.warehouse_start_id=this.warehouse_start_id,e.componentInstance.index=n,e.componentInstance.EditItemTranport.subscribe(r=>{this.TRANSPORTS_DETAILS[n]=r,this.isLoadingProcess(),setTimeout(()=>{this.calcTotalPurchase()},50)})}deleteItemTransport(n,i){const e=this.modalService.open(C,{centered:!0,size:"md"});e.componentInstance.detail_transport=i,e.componentInstance.index=n,e.componentInstance.DeleteItemTransport.subscribe(r=>{this.TRANSPORTS_DETAILS.splice(n,1),this.isLoadingProcess(),setTimeout(()=>{this.calcTotalPurchase()},50)})}createOrderTransport(){this.warehouse_start_id?this.warehouse_end_id?0!=this.TRANSPORTS_DETAILS.length?this.transportService.createTransport({warehouse_start_id:this.warehouse_start_id,warehouse_end_id:this.warehouse_end_id,date_emision:this.date_emision,description:this.description,importe:this.importe,igv:this.igv,total:this.total,details:this.TRANSPORTS_DETAILS}).subscribe(i=>{console.log(i),this.toast.success("Exito","La solicitud de transporte se ha generado correctamente"),this.warehouse_start_id="",this.warehouse_end_id="",this.description="",this.importe=0,this.igv=0,this.total=0,this.TRANSPORTS_DETAILS=[],this.calcTotalPurchase()},i=>{console.log(i),this.toast.error("ERROR","Hubo un problema en el servidor con tu orden, comunicate con soporte")}):this.toast.error("Validacion","Necesitas agregar al menos un producto al detallado"):this.toast.error("Validacion","Necesitas seleccionar un almacen de llegada"):this.toast.error("Validacion","Necesitas seleccionar un almacen de origen")}static \u0275fac=function(i){return new(i||o)(t.Y36(m),t.Y36(f._W),t.Y36(u.FF))};static \u0275cmp=t.Xpm({type:o,selectors:[["app-create-transports"]],decls:102,vars:20,consts:[[1,"card"],[1,"card-body"],[1,"row"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"col-3"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","disabled","","name","name","placeholder","Usuario de la compral",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","disabled","","name","name","placeholder","Por ejemplo: Lima",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","warehouse_start_id","placeholder","Selec. Almacen",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],["name","warehouse_end_id","placeholder","Selec. Almacen",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"row","py-5"],[1,"input-group","input-group-solid"],["type","date","name","date_emision",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-4"],[1,"fs-6","fw-semibold","mb-2"],["rows","3","name","description","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search Products",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],["name","unit_id","placeholder","Selec. Unidad",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"col-2"],["type","number","name","price_unit","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","number","name","quantity","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-row-bordered","table-row-gray-100","align-middle","gs-0","gy-3"],[1,"fw-bold","text-muted"],[1,"min-w-140px"],[1,"min-w-120px"],[1,"min-w-100px","text-end"],["type","number","disabled","","name","importe","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","number","disabled","","name","igv","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","number","disabled","","name","total","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[1,"text-gray-900","fw-bold","text-hover-primary","fs-6"],[1,"text-end"],["href","#","onclick","return false",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,w,1,0,"span",3),t.ALo(4,"async"),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"Responsable: (*) "),t.qZA(),t.TgZ(8,"input",6),t.NdJ("ngModelChange",function(s){return e.full_name_user=s}),t.qZA()(),t.TgZ(9,"div",4)(10,"label",5),t._uU(11,"Sucursal: (*) "),t.qZA(),t.TgZ(12,"input",7),t.NdJ("ngModelChange",function(s){return e.sucursal_user=s}),t.qZA()(),t.TgZ(13,"div",4)(14,"label",5),t._uU(15,"Almacen de Atenci\xf3n: (*) "),t.qZA(),t.TgZ(16,"select",8),t.NdJ("ngModelChange",function(s){return e.warehouse_start_id=s})("change",function(){return e.updatedUnit()}),t.TgZ(17,"option",9),t._uU(18,"Ninguno"),t.qZA(),t.YNc(19,L,3,2,"ng-container",10),t.qZA()(),t.TgZ(20,"div",4)(21,"label",5),t._uU(22,"Almacen de llegada: (*) "),t.qZA(),t.TgZ(23,"select",11),t.NdJ("ngModelChange",function(s){return e.warehouse_end_id=s}),t.TgZ(24,"option",9),t._uU(25,"Ninguno"),t.qZA(),t.YNc(26,x,3,2,"ng-container",10),t.qZA()()(),t.TgZ(27,"div",12)(28,"div",4)(29,"label",5),t._uU(30,"Fecha de Emisi\xf3n: (*) "),t.qZA(),t.TgZ(31,"div",13)(32,"input",14),t.NdJ("ngModelChange",function(s){return e.date_emision=s}),t.qZA()()(),t.TgZ(33,"div",15)(34,"label",16),t._uU(35,"Nota Final:"),t.qZA(),t.TgZ(36,"textarea",17),t.NdJ("ngModelChange",function(s){return e.description=s}),t.qZA()()(),t.TgZ(37,"div",12)(38,"div",4)(39,"label",5),t._uU(40,"Buscar Producto: (*) "),t.qZA(),t.TgZ(41,"div",18)(42,"i",19),t._UZ(43,"span",20)(44,"span",21),t.qZA(),t.TgZ(45,"input",22),t.NdJ("ngModelChange",function(s){return e.search_product=s})("keyup.enter",function(){return e.listProducts()}),t.qZA()()(),t.TgZ(46,"div",4)(47,"label",5),t._uU(48,"Unidades: (*) "),t.qZA(),t.TgZ(49,"select",23),t.NdJ("ngModelChange",function(s){return e.unit_id=s}),t.TgZ(50,"option",9),t._uU(51,"Ninguno"),t.qZA(),t.YNc(52,M,3,2,"ng-container",10),t.qZA()(),t.TgZ(53,"div",24)(54,"label",5),t._uU(55,"Precio Unitario: (*) "),t.qZA(),t.TgZ(56,"input",25),t.NdJ("ngModelChange",function(s){return e.price_unit=s}),t.qZA()(),t.TgZ(57,"div",24)(58,"label",5),t._uU(59,"Cantidad Solic.: (*) "),t.qZA(),t.TgZ(60,"input",26),t.NdJ("ngModelChange",function(s){return e.quantity=s}),t.qZA()(),t.TgZ(61,"div",24)(62,"button",27),t.NdJ("click",function(){return e.addDetail()}),t._uU(63,"+"),t.qZA()()(),t.TgZ(64,"div",12)(65,"div",28)(66,"div",29)(67,"table",30)(68,"thead")(69,"tr",31)(70,"th",32),t._uU(71,"Producto"),t.qZA(),t.TgZ(72,"th",33),t._uU(73,"Unidad"),t.qZA(),t.TgZ(74,"th",33),t._uU(75,"Precio Unitario"),t.qZA(),t.TgZ(76,"th",33),t._uU(77,"Cantidad"),t.qZA(),t.TgZ(78,"th",33),t._uU(79,"Total"),t.qZA(),t.TgZ(80,"th",34),t._uU(81,"Actions"),t.qZA()()(),t.TgZ(82,"tbody"),t.YNc(83,R,24,5,"ng-container",10),t.TgZ(84,"tr"),t._UZ(85,"td")(86,"td"),t.TgZ(87,"td")(88,"input",35),t.NdJ("ngModelChange",function(s){return e.importe=s}),t.qZA(),t.TgZ(89,"small"),t._uU(90,"Importe:"),t.qZA()(),t.TgZ(91,"td")(92,"input",36),t.NdJ("ngModelChange",function(s){return e.igv=s}),t.qZA(),t.TgZ(93,"small"),t._uU(94,"Igv:"),t.qZA()(),t.TgZ(95,"td")(96,"input",37),t.NdJ("ngModelChange",function(s){return e.total=s}),t.qZA(),t.TgZ(97,"small"),t._uU(98,"Total:"),t.qZA()()()()()()(),t.TgZ(99,"div",28)(100,"button",38),t.NdJ("click",function(){return e.createOrderTransport()}),t._uU(101,"Generar Solicitud de Transporte"),t.qZA()()()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,18,e.isLoading$)),t.xp6(5),t.Q6J("ngModel",e.full_name_user),t.xp6(4),t.Q6J("ngModel",e.sucursal_user),t.xp6(4),t.Q6J("ngModel",e.warehouse_start_id),t.xp6(3),t.Q6J("ngForOf",e.warehouses_start),t.xp6(4),t.Q6J("ngModel",e.warehouse_end_id),t.xp6(3),t.Q6J("ngForOf",e.warehouses_end),t.xp6(6),t.Q6J("ngModel",e.date_emision),t.xp6(4),t.Q6J("ngModel",e.description),t.xp6(9),t.Q6J("ngModel",e.search_product),t.xp6(4),t.Q6J("ngModel",e.unit_id),t.xp6(3),t.Q6J("ngForOf",e.units),t.xp6(4),t.Q6J("ngModel",e.price_unit),t.xp6(4),t.Q6J("ngModel",e.quantity),t.xp6(23),t.Q6J("ngForOf",e.TRANSPORTS_DETAILS),t.xp6(5),t.Q6J("ngModel",e.importe),t.xp6(4),t.Q6J("ngModel",e.igv),t.xp6(4),t.Q6J("ngModel",e.total))},dependencies:[d.sg,d.O5,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.On,d.Ov]})}return o})();function D(o,a){1&o&&t._UZ(0,"span",15)}let O=(()=>{class o{modal;toast;transportService;DeleteTransport=new t.vpe;transport;isLoading;constructor(n,i,e){this.modal=n,this.toast=i,this.transportService=e}ngOnInit(){}delete(){this.transportService.deleteTransport(this.transport.id).subscribe(n=>{console.log(n),this.DeleteTransport.emit(n),this.modal.close(),this.toast.success("Exito","La eliminaci\xf3n se hizo correctamente")})}static \u0275fac=function(i){return new(i||o)(t.Y36(u.Kz),t.Y36(f._W),t.Y36(m))};static \u0275cmp=t.Xpm({type:o,selectors:[["app-delete-transports"]],inputs:{transport:"transport"},outputs:{DeleteTransport:"DeleteTransport"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.NdJ("click",function(){return e.modal.dismiss()}),t.TgZ(5,"span",4),t.O4$(),t.TgZ(6,"svg",5),t._UZ(7,"rect",6)(8,"rect",7),t.qZA()()()(),t.kcU(),t.TgZ(9,"div",8)(10,"form",9)(11,"p"),t._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTA SOLICITUD DE TRANSPORTE? "),t.qZA(),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){return e.modal.dismiss()}),t._uU(15,"Cerrar"),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){return e.delete()}),t.TgZ(17,"span",13),t._uU(18,"ELIMINAR"),t.qZA(),t.YNc(19,D,1,0,"span",14),t.ALo(20,"async"),t.qZA()()()()()),2&i&&(t.xp6(3),t.hij("Delete Transport: #",e.transport.id,""),t.xp6(16),t.Q6J("ngIf",t.lcZ(20,2,e.isLoading)))},dependencies:[d.O5,l._Y,l.JL,l.F,d.Ov]})}return o})();function P(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",40),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function I(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",40),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function k(o,a){1&o&&t._UZ(0,"span",41)}function J(o,a){1&o&&(t.TgZ(0,"span",52),t._uU(1,"SOLICITUD"),t.qZA())}function Q(o,a){1&o&&(t.TgZ(0,"span",53),t._uU(1,"REVISION SALIDA"),t.qZA())}function F(o,a){1&o&&(t.TgZ(0,"span",54),t._uU(1,"SALIDA"),t.qZA())}function j(o,a){1&o&&(t.TgZ(0,"span",55),t._uU(1,"LLEGADA"),t.qZA())}function Y(o,a){1&o&&(t.TgZ(0,"span",56),t._uU(1,"REVISION LLEGADA"),t.qZA())}function $(o,a){1&o&&(t.TgZ(0,"span",57),t._uU(1,"ENTREGADO"),t.qZA())}function V(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"a",58),t.NdJ("click",function(){t.CHM(n);const e=t.oxw().$implicit,r=t.oxw();return t.KtG(r.deleteTransport(e))}),t.TgZ(1,"i",59),t._UZ(2,"span",7)(3,"span",8)(4,"span",60)(5,"span",61)(6,"span",62),t.qZA()()}}function B(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"tr")(2,"td"),t._uU(3),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t.YNc(19,J,2,0,"span",42),t.YNc(20,Q,2,0,"span",43),t.YNc(21,F,2,0,"span",44),t.YNc(22,j,2,0,"span",45),t.YNc(23,Y,2,0,"span",46),t.YNc(24,$,2,0,"span",47),t.qZA(),t.TgZ(25,"td",48)(26,"a",49)(27,"i",50),t._UZ(28,"span",7)(29,"span",8),t.qZA()(),t.YNc(30,V,7,0,"a",51),t.qZA()(),t.BQk()),2&o){const n=a.$implicit;t.xp6(3),t.hij(" #",n.id," "),t.xp6(2),t.hij(" ",n.warehouse_start.name," "),t.xp6(2),t.hij(" ",n.warehouse_end.name," "),t.xp6(2),t.hij(" ",n.user.full_name," "),t.xp6(2),t.hij(" ",n.date_emision," "),t.xp6(2),t.hij(" ",n.total," PEN"),t.xp6(2),t.hij(" ",n.importe," PEN"),t.xp6(2),t.hij(" ",n.igv," PEN"),t.xp6(2),t.Q6J("ngIf",1==n.state),t.xp6(1),t.Q6J("ngIf",2==n.state),t.xp6(1),t.Q6J("ngIf",3==n.state),t.xp6(1),t.Q6J("ngIf",4==n.state),t.xp6(1),t.Q6J("ngIf",5==n.state),t.xp6(1),t.Q6J("ngIf",6==n.state),t.xp6(2),t.Q6J("routerLink","/transportes/listado/editar/"+n.id),t.xp6(4),t.Q6J("ngIf",n.state<3)}}function G(o,a){1&o&&t._UZ(0,"span",32)}function K(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",33),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function H(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",33),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.id),t.xp6(1),t.Oqu(n.name)}}function W(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"button",34),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.editOrderTransport())}),t._uU(1,"Editar Solicitud de Transporte"),t.qZA()}}function X(o,a){1&o&&(t.ynx(0),t.TgZ(1,"option",35),t._uU(2,"SOLICITUD"),t.qZA(),t.TgZ(3,"option",36),t._uU(4,"REVISI\xd3N SALIDA"),t.qZA(),t.TgZ(5,"option",37),t._uU(6,"SALIDA"),t.qZA(),t.BQk())}function tt(o,a){1&o&&(t.ynx(0),t.TgZ(1,"option",37),t._uU(2,"SALIDA"),t.qZA(),t.TgZ(3,"option",38),t._uU(4,"LLEGADA"),t.qZA(),t.TgZ(5,"option",39),t._uU(6,"REVISION LLEGADA"),t.qZA(),t.TgZ(7,"option",40),t._uU(8,"ENTREGA"),t.qZA(),t.BQk())}function et(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"option",33),t._uU(2),t.qZA(),t.BQk()),2&o){const n=a.$implicit;t.xp6(1),t.Q6J("value",n.unit.id),t.xp6(1),t.Oqu(n.unit.name)}}function nt(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"div",21)(1,"div",4)(2,"label",5),t._uU(3,"Buscar Producto: (*) "),t.qZA(),t.TgZ(4,"div",41)(5,"i",42),t._UZ(6,"span",43)(7,"span",44),t.qZA(),t.TgZ(8,"input",45),t.NdJ("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.search_product=e)})("keyup.enter",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.listProducts())}),t.qZA()()(),t.TgZ(9,"div",4)(10,"label",5),t._uU(11,"Unidades: (*) "),t.qZA(),t.TgZ(12,"select",46),t.NdJ("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.unit_id=e)}),t.TgZ(13,"option",9),t._uU(14,"Ninguno"),t.qZA(),t.YNc(15,et,3,2,"ng-container",10),t.qZA()(),t.TgZ(16,"div",47)(17,"label",5),t._uU(18,"Precio Unitario: (*) "),t.qZA(),t.TgZ(19,"input",48),t.NdJ("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.price_unit=e)}),t.qZA()(),t.TgZ(20,"div",47)(21,"label",5),t._uU(22,"Cantidad Solic.: (*) "),t.qZA(),t.TgZ(23,"input",49),t.NdJ("ngModelChange",function(e){t.CHM(n);const r=t.oxw();return t.KtG(r.quantity=e)}),t.qZA()(),t.TgZ(24,"div",47)(25,"button",50),t.NdJ("click",function(){t.CHM(n);const e=t.oxw();return t.KtG(e.addDetail())}),t._uU(26,"+"),t.qZA()()()}if(2&o){const n=t.oxw();t.xp6(8),t.Q6J("ngModel",n.search_product),t.xp6(4),t.Q6J("ngModel",n.unit_id),t.xp6(3),t.Q6J("ngForOf",n.units),t.xp6(4),t.Q6J("ngModel",n.price_unit),t.xp6(4),t.Q6J("ngModel",n.quantity)}}function it(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"a",55),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(),r=e.index,s=e.$implicit,g=t.oxw();return t.KtG(g.editItemTransport(r,s))}),t.TgZ(1,"i",56),t._UZ(2,"span",43)(3,"span",44),t.qZA()()}}function ot(o,a){if(1&o){const n=t.EpF();t.TgZ(0,"a",57),t.NdJ("click",function(){t.CHM(n);const e=t.oxw(),r=e.index,s=e.$implicit,g=t.oxw();return t.KtG(g.deleteItemTransport(r,s))}),t.TgZ(1,"i",58),t._UZ(2,"span",43)(3,"span",44)(4,"span",59)(5,"span",60)(6,"span",61),t.qZA()()}}function rt(o,a){if(1&o&&(t.ynx(0),t.TgZ(1,"tr")(2,"td",51),t._uU(3),t.qZA(),t.TgZ(4,"td",51),t._uU(5),t.qZA(),t.TgZ(6,"td",51),t._uU(7),t.qZA(),t.TgZ(8,"td",51),t._uU(9),t.qZA(),t.TgZ(10,"td",51),t._uU(11),t.qZA(),t.TgZ(12,"td",52),t.YNc(13,it,4,0,"a",53),t.YNc(14,ot,7,0,"a",54),t.qZA()(),t.BQk()),2&o){const n=a.$implicit,i=t.oxw();t.xp6(3),t.hij(" ",n.product.title," "),t.xp6(2),t.hij(" ",n.unit.name," "),t.xp6(2),t.hij(" ",n.price_unit," PEN "),t.xp6(2),t.hij(" ",n.quantity," "),t.xp6(2),t.hij(" ",n.total," PEN "),t.xp6(2),t.Q6J("ngIf",i.TRANSPORT_SELECTED&&i.TRANSPORT_SELECTED.state<3),t.xp6(1),t.Q6J("ngIf",i.TRANSPORT_SELECTED&&i.TRANSPORT_SELECTED.state<3)}}const st=[{path:"",component:E,children:[{path:"registro",component:y},{path:"listado",component:(()=>{class o{modalService;transportService;TRANSPORTS=[];isLoading$;totalPages=0;currentPage=1;warehouses_start=[];warehouses_end=[];search="";warehouse_start_id="";warehouse_end_id="";search_product="";start_date=null;end_date=null;constructor(n,i){this.modalService=n,this.transportService=i}ngOnInit(){this.isLoading$=this.transportService.isLoading$,this.listTransport(),this.configAll()}listTransport(n=1){this.transportService.listTransport(n,{warehouse_start_id:this.warehouse_start_id,warehouse_end_id:this.warehouse_end_id,n_orden:this.search,start_date:this.start_date,end_date:this.end_date,search_product:this.search_product}).subscribe(e=>{console.log(e),this.TRANSPORTS=e.transports.data,this.totalPages=e.total,this.currentPage=n})}resetlistTransport(){this.search="",this.warehouse_start_id="",this.warehouse_end_id="",this.start_date=null,this.end_date=null,this.search_product="",this.listTransport()}configAll(){this.transportService.configAll().subscribe(n=>{console.log(n),this.warehouses_start=n.warehouses,this.warehouses_end=n.warehouses})}loadPage(n){this.listTransport(n)}deleteTransport(n){const i=this.modalService.open(O,{centered:!0,size:"md"});i.componentInstance.transport=n,i.componentInstance.DeleteTransport.subscribe(e=>{let r=this.TRANSPORTS.findIndex(s=>s.id==n.id);-1!=r&&this.TRANSPORTS.splice(r,1)})}static \u0275fac=function(i){return new(i||o)(t.Y36(u.FF),t.Y36(m))};static \u0275cmp=t.Xpm({type:o,selectors:[["app-list-transports"]],decls:104,vars:17,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"row","align-items-center"],[1,"col-3"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search N\xb0 Orden",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],["name","warehouse_start_id","placeholder","Selec. Almacen",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],[1,"text-muted","fs-7"],["name","warehouse_end_id","placeholder","Selec. Almacen",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search Producto",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-2"],[1,"input-group","input-group-solid"],["type","date",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-1","d-flex"],[1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-magnifier","fs-2"],[1,"btn","btn-dark","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-loading","fs-2"],["routerLink","/transportes/registro",1,"btn","btn-primary"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-body","pt-0"],["id","kt_customers_table_wrapper",1,"dt-container","dt-bootstrap5","dt-empty-footer"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],["data-dt-column","2","rowspan","1","colspan","1","aria-label","Email: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","5","rowspan","1","colspan","1","aria-label","Created Date: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"text-end","min-w-70px","dt-orderable-none"],[1,"dt-column-title"],[1,"fw-semibold","text-gray-600"],[3,"collectionSize","page","pageSize","rotate","boundaryLinks","pageChange"],[3,"value"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["class","badge badge-light-warning",4,"ngIf"],["class","badge badge-light-danger",4,"ngIf"],["class","badge badge-light-info",4,"ngIf"],["class","badge badge-light-success",4,"ngIf"],["class","badge badge-light-dark",4,"ngIf"],["class","badge badge-light-primary",4,"ngIf"],[1,""],[1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"routerLink"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false;","class","btn btn-icon btn-bg-light btn-active-color-primary btn-sm",3,"click",4,"ngIf"],[1,"badge","badge-light-warning"],[1,"badge","badge-light-danger"],[1,"badge","badge-light-info"],[1,"badge","badge-light-success"],[1,"badge","badge-light-dark"],[1,"badge","badge-light-primary"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"i",6),t._UZ(7,"span",7)(8,"span",8),t.qZA(),t.TgZ(9,"input",9),t.NdJ("ngModelChange",function(s){return e.search=s})("keyup.enter",function(){return e.listTransport()}),t.qZA()()(),t.TgZ(10,"div",4)(11,"select",10),t.NdJ("ngModelChange",function(s){return e.warehouse_start_id=s}),t.TgZ(12,"option",11),t._uU(13,"Ninguno"),t.qZA(),t.YNc(14,P,3,2,"ng-container",12),t.qZA(),t.TgZ(15,"div",13),t._uU(16,"Almacen de atenci\xf3n."),t.qZA()(),t.TgZ(17,"div",4)(18,"select",14),t.NdJ("ngModelChange",function(s){return e.warehouse_end_id=s}),t.TgZ(19,"option",11),t._uU(20,"Ninguno"),t.qZA(),t.YNc(21,I,3,2,"ng-container",12),t.qZA(),t.TgZ(22,"div",13),t._uU(23,"Almacen de llegada."),t.qZA()(),t.TgZ(24,"div",4)(25,"div",5)(26,"i",6),t._UZ(27,"span",7)(28,"span",8),t.qZA(),t.TgZ(29,"input",15),t.NdJ("ngModelChange",function(s){return e.search_product=s})("keyup.enter",function(){return e.listTransport()}),t.qZA()()(),t.TgZ(30,"div",16)(31,"div",17)(32,"input",18),t.NdJ("ngModelChange",function(s){return e.start_date=s}),t.qZA()(),t.TgZ(33,"div",13),t._uU(34,"Fecha de inicio(Emisi\xf3n)."),t.qZA()(),t.TgZ(35,"div",16)(36,"div",17)(37,"input",18),t.NdJ("ngModelChange",function(s){return e.end_date=s}),t.qZA()(),t.TgZ(38,"div",13),t._uU(39,"Fecha fin(Emisi\xf3n)."),t.qZA()(),t.TgZ(40,"div",19)(41,"button",20),t.NdJ("click",function(){return e.listTransport()}),t.TgZ(42,"i",21),t._UZ(43,"span",7)(44,"span",8),t.qZA()(),t.TgZ(45,"button",22),t.NdJ("click",function(){return e.resetlistTransport()}),t.TgZ(46,"i",23),t._UZ(47,"span",7)(48,"span",8),t.qZA()()(),t.TgZ(49,"div",16)(50,"a",24),t._uU(51," + Add Transport "),t.qZA()()()(),t.YNc(52,k,1,0,"span",25),t.ALo(53,"async"),t.qZA(),t.TgZ(54,"div",26)(55,"div",27)(56,"div",28)(57,"table",29)(58,"thead")(59,"tr",30)(60,"th",31)(61,"span",32),t._uU(62,"N\xb0 Orden"),t.qZA(),t._UZ(63,"span",33),t.qZA(),t.TgZ(64,"th",31)(65,"span",32),t._uU(66,"Almacen de atenci\xf3n"),t.qZA(),t._UZ(67,"span",33),t.qZA(),t.TgZ(68,"th",31)(69,"span",32),t._uU(70,"Almacen de llegada"),t.qZA(),t._UZ(71,"span",33),t.qZA(),t.TgZ(72,"th",31)(73,"span",32),t._uU(74,"Responsable"),t.qZA(),t._UZ(75,"span",33),t.qZA(),t.TgZ(76,"th",31)(77,"span",32),t._uU(78,"Fecha Emisi\xf3n"),t.qZA(),t._UZ(79,"span",33),t.qZA(),t.TgZ(80,"th",31)(81,"span",32),t._uU(82,"Total"),t.qZA(),t._UZ(83,"span",33),t.qZA(),t.TgZ(84,"th",31)(85,"span",32),t._uU(86,"Importe"),t.qZA(),t._UZ(87,"span",33),t.qZA(),t.TgZ(88,"th",34)(89,"span",32),t._uU(90,"Igv"),t.qZA(),t._UZ(91,"span",33),t.qZA(),t.TgZ(92,"th",35)(93,"span",32),t._uU(94,"State"),t.qZA(),t._UZ(95,"span",33),t.qZA(),t.TgZ(96,"th",36)(97,"span",37),t._uU(98,"Actions"),t.qZA(),t._UZ(99,"span",33),t.qZA()()(),t.TgZ(100,"tbody",38),t.YNc(101,B,31,16,"ng-container",12),t.qZA(),t._UZ(102,"tfoot"),t.qZA()(),t.TgZ(103,"ngb-pagination",39),t.NdJ("pageChange",function(s){return e.currentPage=s})("pageChange",function(s){return e.loadPage(s)}),t.qZA()()()()),2&i&&(t.xp6(9),t.Q6J("ngModel",e.search),t.xp6(2),t.Q6J("ngModel",e.warehouse_start_id),t.xp6(3),t.Q6J("ngForOf",e.warehouses_start),t.xp6(4),t.Q6J("ngModel",e.warehouse_end_id),t.xp6(3),t.Q6J("ngForOf",e.warehouses_end),t.xp6(8),t.Q6J("ngModel",e.search_product),t.xp6(3),t.Q6J("ngModel",e.start_date),t.xp6(5),t.Q6J("ngModel",e.end_date),t.xp6(15),t.Q6J("ngIf",t.lcZ(53,15,e.isLoading$)),t.xp6(49),t.Q6J("ngForOf",e.TRANSPORTS),t.xp6(2),t.Q6J("collectionSize",e.totalPages)("page",e.currentPage)("pageSize",25)("rotate",!0)("boundaryLinks",!0))},dependencies:[d.sg,d.O5,T.rH,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.On,u.N9,d.Ov]})}return o})()},{path:"listado/editar/:id",component:(()=>{class o{transportService;toast;modalService;activedRoute;full_name_user="";sucursal_user="";warehouse_start_id="";warehouse_end_id="";date_emision=null;type_comprobant="";n_comprobant="";description="";search_product="";unit_id="";price_unit=0;quantity=0;importe=0;igv=0;total=0;user;warehouses_start=[];warehouses_end=[];units=[];state="1";isLoading$;PRODUCT_SELECTED;TRANSPORTS_DETAILS=[];TRANSPORT_ID="";TRANSPORT_SELECTED=null;constructor(n,i,e,r){this.transportService=n,this.toast=i,this.modalService=e,this.activedRoute=r}ngOnInit(){this.activedRoute.params.subscribe(n=>{this.TRANSPORT_ID=n.id}),this.user=this.transportService.authservice.user,this.showTransport(),this.isLoading$=this.transportService.isLoading$}showTransport(){this.transportService.showTransport(this.TRANSPORT_ID).subscribe(n=>{console.log(n),this.TRANSPORT_SELECTED=n.transport,this.full_name_user=this.TRANSPORT_SELECTED.user.full_name,this.sucursal_user=this.TRANSPORT_SELECTED.user.sucursale.name,this.warehouse_start_id=this.TRANSPORT_SELECTED.warehouse_start_id,this.warehouse_end_id=this.TRANSPORT_SELECTED.warehouse_end_id,this.date_emision=this.TRANSPORT_SELECTED.date_emision,this.description=this.TRANSPORT_SELECTED.description,this.state=this.TRANSPORT_SELECTED.state,this.TRANSPORTS_DETAILS=this.TRANSPORT_SELECTED.details,this.total=this.TRANSPORT_SELECTED.total,this.importe=this.TRANSPORT_SELECTED.importe,this.igv=this.TRANSPORT_SELECTED.igv,0==this.warehouses_start.length&&this.configAll()})}configAll(){this.transportService.configAll().subscribe(n=>{this.warehouses_start=n.warehouses,this.warehouses_end=n.warehouses})}isLoadingProcess(){this.transportService.isLoadingSubject.next(!0),setTimeout(()=>{this.transportService.isLoadingSubject.next(!1)},50)}listProducts(){this.search_product?this.warehouse_start_id?this.transportService.searchProducts(this.search_product).subscribe(n=>{console.log(n),n.products.data.length>1?this.openSelectedProduct(n.products.data):1==n.products.data.length?(this.PRODUCT_SELECTED=n.products.data[0],this.search_product=this.PRODUCT_SELECTED.title,this.units=this.PRODUCT_SELECTED.warehouses.filter(i=>i.warehouse.id==this.warehouse_start_id),this.toast.success("Exito","Se selecciono el producto "),this.isLoadingProcess()):this.toast.error("Validaci\xf3n","No hay coincidencia en la busqueda")}):this.toast.error("Validacion","Se necesita seleccionar un almacen de atenci\xf3n"):this.toast.error("Validaci\xf3n","Necesitas ingresar al menos uno de los campos")}openSelectedProduct(n=[]){const i=this.modalService.open(Z.T,{size:"lg",centered:!0});i.componentInstance.products=n,i.componentInstance.ProductSelected.subscribe(e=>{this.PRODUCT_SELECTED=e,this.search_product=this.PRODUCT_SELECTED.title,this.units=this.PRODUCT_SELECTED.warehouses.filter(r=>r.warehouse.id==this.warehouse_start_id),this.isLoadingProcess(),this.toast.success("Exito","Se selecciono el producto")})}updatedUnit(){this.PRODUCT_SELECTED&&(this.units=this.PRODUCT_SELECTED.warehouses.filter(n=>n.warehouse.id==this.warehouse_start_id))}addDetail(){if(!this.PRODUCT_SELECTED)return void this.toast.error("Validacion","Se necesita seleccionar un producto");if(!this.unit_id)return void this.toast.error("Validacion","Se necesita seleccionar una unidad");if(!this.quantity)return void this.toast.error("Validacion","Se necesita digitar una cantidad");let n=this.units.find(r=>r.unit.id==this.unit_id);if(n&&n.quantity<this.quantity)return void this.toast.error("Validacion","No puedes solicitar esa cantidad, porque no hay stock disponible ("+n.quantity+")");let i=Number((this.importe+Number((this.price_unit*this.quantity).toFixed(2))).toFixed(2)),e=Number((.18*i).toFixed(2));this.transportService.addTransportDetail({product:this.PRODUCT_SELECTED,unit:n.unit,price_unit:this.price_unit,quantity:this.quantity,total:Number((this.price_unit*this.quantity).toFixed(2)),total_purchase:i+e,importe:i,igv:e,transport_id:this.TRANSPORT_ID}).subscribe(r=>{console.log(r),this.TRANSPORTS_DETAILS.push(r.transport_detail),this.PRODUCT_SELECTED=null,this.unit_id="",this.price_unit=0,this.quantity=0,this.search_product="",this.units=[],this.total=r.total,this.importe=r.importe,this.igv=r.igv})}calcTotalPurchase(){this.importe=Number(this.TRANSPORTS_DETAILS.reduce((n,i)=>n+i.total,0).toFixed(2)),this.igv=Number((.18*this.importe).toFixed(2)),this.total=Number((this.importe+this.igv).toFixed(2)),this.isLoadingProcess()}editItemTransport(n,i){const e=this.modalService.open(A,{centered:!0,size:"md"});e.componentInstance.detail_transport=i,e.componentInstance.warehouse_start_id=this.warehouse_start_id,e.componentInstance.index=n,e.componentInstance.importe=this.importe,e.componentInstance.is_edit=1,e.componentInstance.EditItemTranport.subscribe(r=>{this.TRANSPORTS_DETAILS[n]=r.transport_detail,this.total=r.total,this.importe=r.importe,this.igv=r.igv,this.isLoadingProcess()})}deleteItemTransport(n,i){const e=this.modalService.open(C,{centered:!0,size:"md"});e.componentInstance.detail_transport=i,e.componentInstance.importe=this.importe,e.componentInstance.index=n,e.componentInstance.is_edit=1,e.componentInstance.transport_id=this.TRANSPORT_ID,e.componentInstance.DeleteItemTransport.subscribe(r=>{this.TRANSPORTS_DETAILS.splice(n,1),this.importe=r.importe,this.total=r.total,this.igv=r.igv,this.isLoadingProcess()})}editOrderTransport(){this.warehouse_start_id?this.warehouse_end_id?0!=this.TRANSPORTS_DETAILS.length?this.transportService.editTransport(this.TRANSPORT_ID,{warehouse_start_id:this.warehouse_start_id,warehouse_end_id:this.warehouse_end_id,date_emision:this.date_emision,description:this.description,state:this.state}).subscribe(i=>{console.log(i),403==i.message?this.toast.error("Validaci\xf3n",i.message_text):(this.toast.success("Exito","La solicitud de transporte se ha editado correctamente"),this.showTransport())},i=>{console.log(i),this.toast.error("ERROR","Hubo un problema en el servidor con tu orden, comunicate con soporte")}):this.toast.error("Validacion","Necesitas agregar al menos un producto al detallado"):this.toast.error("Validacion","Necesitas seleccionar un almacen de llegada"):this.toast.error("Validacion","Necesitas seleccionar un almacen de origen")}static \u0275fac=function(i){return new(i||o)(t.Y36(m),t.Y36(f._W),t.Y36(u.FF),t.Y36(T.gz))};static \u0275cmp=t.Xpm({type:o,selectors:[["app-edit-transports"]],decls:81,vars:24,consts:[[1,"card"],[1,"card-body"],[1,"row"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"col-3"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","disabled","","name","name","placeholder","Usuario de la compral",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","disabled","","name","name","placeholder","Por ejemplo: Lima",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","warehouse_start_id","placeholder","Selec. Almacen",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","disabled","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],["name","warehouse_end_id","placeholder","Selec. Almacen",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","disabled","ngModelChange"],[1,"row","py-5","align-items-center"],[1,"input-group","input-group-solid"],["type","date","name","date_emision",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","disabled","ngModelChange"],[1,"fs-6","fw-semibold","mb-2"],["rows","3","name","description","placeholder","",1,"form-control","form-control-solid",3,"disabled","ngModel","ngModelChange"],["class","btn btn-primary",3,"click",4,"ngIf"],["name","state","placeholder","Selec. Tipo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[4,"ngIf"],["class","row py-5",4,"ngIf"],[1,"row","py-5"],[1,"col-12"],[1,"table-responsive"],[1,"table","table-row-bordered","table-row-gray-100","align-middle","gs-0","gy-3"],[1,"fw-bold","text-muted"],[1,"min-w-140px"],[1,"min-w-120px"],[1,"min-w-100px","text-end"],["type","number","disabled","","name","importe","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","number","disabled","","name","igv","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","number","disabled","","name","total","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[3,"value"],[1,"btn","btn-primary",3,"click"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search Products",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],["name","unit_id","placeholder","Selec. Unidad",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"col-2"],["type","number","name","price_unit","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","number","name","quantity","placeholder","Por ejemplo: 49.50",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"text-gray-900","fw-bold","text-hover-primary","fs-6"],[1,"text-end"],["href","#","onclick","return false","class","btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",3,"click",4,"ngIf"],["href","#","onclick","return false","class","btn btn-icon btn-bg-light btn-active-color-primary btn-sm",3,"click",4,"ngIf"],["href","#","onclick","return false",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,G,1,0,"span",3),t.ALo(4,"async"),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"Responsable: (*) "),t.qZA(),t.TgZ(8,"input",6),t.NdJ("ngModelChange",function(s){return e.full_name_user=s}),t.qZA()(),t.TgZ(9,"div",4)(10,"label",5),t._uU(11,"Sucursal: (*) "),t.qZA(),t.TgZ(12,"input",7),t.NdJ("ngModelChange",function(s){return e.sucursal_user=s}),t.qZA()(),t.TgZ(13,"div",4)(14,"label",5),t._uU(15,"Almacen de Atenci\xf3n: (*) "),t.qZA(),t.TgZ(16,"select",8),t.NdJ("ngModelChange",function(s){return e.warehouse_start_id=s})("change",function(){return e.updatedUnit()}),t.TgZ(17,"option",9),t._uU(18,"Ninguno"),t.qZA(),t.YNc(19,K,3,2,"ng-container",10),t.qZA()(),t.TgZ(20,"div",4)(21,"label",5),t._uU(22,"Almacen de llegada: (*) "),t.qZA(),t.TgZ(23,"select",11),t.NdJ("ngModelChange",function(s){return e.warehouse_end_id=s}),t.TgZ(24,"option",9),t._uU(25,"Ninguno"),t.qZA(),t.YNc(26,H,3,2,"ng-container",10),t.qZA()()(),t.TgZ(27,"div",12)(28,"div",4)(29,"label",5),t._uU(30,"Fecha de Emisi\xf3n: (*) "),t.qZA(),t.TgZ(31,"div",13)(32,"input",14),t.NdJ("ngModelChange",function(s){return e.date_emision=s}),t.qZA()()(),t.TgZ(33,"div",4)(34,"label",15),t._uU(35,"Nota Final:"),t.qZA(),t.TgZ(36,"textarea",16),t.NdJ("ngModelChange",function(s){return e.description=s}),t.qZA()(),t.TgZ(37,"div",4),t.YNc(38,W,2,0,"button",17),t.qZA(),t.TgZ(39,"div",4)(40,"label",5),t._uU(41,"State: (*) "),t.qZA(),t.TgZ(42,"select",18),t.NdJ("ngModelChange",function(s){return e.state=s}),t.YNc(43,X,7,0,"ng-container",19),t.YNc(44,tt,9,0,"ng-container",19),t.qZA()()(),t.YNc(45,nt,27,5,"div",20),t.TgZ(46,"div",21)(47,"div",22)(48,"div",23)(49,"table",24)(50,"thead")(51,"tr",25)(52,"th",26),t._uU(53,"Producto"),t.qZA(),t.TgZ(54,"th",27),t._uU(55,"Unidad"),t.qZA(),t.TgZ(56,"th",27),t._uU(57,"Precio Unitario"),t.qZA(),t.TgZ(58,"th",27),t._uU(59,"Cantidad"),t.qZA(),t.TgZ(60,"th",27),t._uU(61,"Total"),t.qZA(),t.TgZ(62,"th",28),t._uU(63,"Actions"),t.qZA()()(),t.TgZ(64,"tbody"),t.YNc(65,rt,15,7,"ng-container",10),t.TgZ(66,"tr"),t._UZ(67,"td")(68,"td"),t.TgZ(69,"td")(70,"input",29),t.NdJ("ngModelChange",function(s){return e.importe=s}),t.qZA(),t.TgZ(71,"small"),t._uU(72,"Importe:"),t.qZA()(),t.TgZ(73,"td")(74,"input",30),t.NdJ("ngModelChange",function(s){return e.igv=s}),t.qZA(),t.TgZ(75,"small"),t._uU(76,"Igv:"),t.qZA()(),t.TgZ(77,"td")(78,"input",31),t.NdJ("ngModelChange",function(s){return e.total=s}),t.qZA(),t.TgZ(79,"small"),t._uU(80,"Total:"),t.qZA()()()()()()()()()()),2&i&&(t.xp6(3),t.Q6J("ngIf",t.lcZ(4,22,e.isLoading$)),t.xp6(5),t.Q6J("ngModel",e.full_name_user),t.xp6(4),t.Q6J("ngModel",e.sucursal_user),t.xp6(4),t.Q6J("ngModel",e.warehouse_start_id)("disabled",!!(e.TRANSPORT_SELECTED&&e.TRANSPORT_SELECTED.state>=3)),t.xp6(3),t.Q6J("ngForOf",e.warehouses_start),t.xp6(4),t.Q6J("ngModel",e.warehouse_end_id)("disabled",!!(e.TRANSPORT_SELECTED&&e.TRANSPORT_SELECTED.state>=3)),t.xp6(3),t.Q6J("ngForOf",e.warehouses_end),t.xp6(6),t.Q6J("ngModel",e.date_emision)("disabled",!!(e.TRANSPORT_SELECTED&&e.TRANSPORT_SELECTED.state>=3)),t.xp6(4),t.Q6J("disabled",!!(e.TRANSPORT_SELECTED&&e.TRANSPORT_SELECTED.state>=3))("ngModel",e.description),t.xp6(2),t.Q6J("ngIf",e.TRANSPORT_SELECTED&&6!=e.TRANSPORT_SELECTED.state),t.xp6(4),t.Q6J("ngModel",e.state),t.xp6(1),t.Q6J("ngIf",e.TRANSPORT_SELECTED&&e.TRANSPORT_SELECTED.state<3),t.xp6(1),t.Q6J("ngIf",e.TRANSPORT_SELECTED&&e.TRANSPORT_SELECTED.state>=3),t.xp6(1),t.Q6J("ngIf",e.TRANSPORT_SELECTED&&e.TRANSPORT_SELECTED.state<3),t.xp6(20),t.Q6J("ngForOf",e.TRANSPORTS_DETAILS),t.xp6(5),t.Q6J("ngModel",e.importe),t.xp6(4),t.Q6J("ngModel",e.igv),t.xp6(4),t.Q6J("ngModel",e.total))},dependencies:[d.sg,d.O5,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.On,d.Ov]})}return o})()}]}];let at=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[T.Bz.forChild(st),T.Bz]})}return o})();var lt=c(53);let dt=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=t.oAB({type:o});static \u0275inj=t.cJS({imports:[d.ez,at,p.JF,l.u5,u.IJ,l.UX,lt.vi,u.bz,u.jF]})}return o})()}}]);
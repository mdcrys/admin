"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[26],{1996:(R,C,d)=>{d.r(C),d.d(C,{ConversionsModule:()=>D});var c=d(6814),h=d(7304),e=d(5879);let f=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=e.Xpm({type:i,selectors:[["app-conversions"]],decls:1,vars:0,template:function(o,n){1&o&&e._UZ(0,"router-outlet")},dependencies:[h.lC]})}return i})();var Z=d(9756),u=d(1274),p=d(9862),b=d(5619),_=d(4716),g=d(6988),T=d(3595);let m=(()=>{class i{http;authservice;isLoading$;isLoadingSubject;constructor(t,o){this.http=t,this.authservice=o,this.isLoadingSubject=new b.X(!1),this.isLoading$=this.isLoadingSubject.asObservable()}registerConversion(t){this.isLoadingSubject.next(!0);let o=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(g.$g+"/conversions",t,{headers:o}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}listConversions(t=1,o){this.isLoadingSubject.next(!0);let n=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.post(g.$g+"/conversions/index?page="+t,o,{headers:n}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}updateConversion(t,o){this.isLoadingSubject.next(!0);let n=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.put(g.$g+"/conversions/"+t,o,{headers:n}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}deleteConversion(t){this.isLoadingSubject.next(!0);let o=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.delete(g.$g+"/conversions/"+t,{headers:o}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}searchProducts(t){this.isLoadingSubject.next(!0);let o="";t&&(o+="&search="+t);let n=g.$g+"/proformas/search-products?p=1"+o,s=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(n,{headers:s}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}configAll(){this.isLoadingSubject.next(!0);let t=g.$g+"/conversions/config",o=new p.WM({Authorization:"Bearer "+this.authservice.token});return this.http.get(t,{headers:o}).pipe((0,_.x)(()=>this.isLoadingSubject.next(!1)))}static \u0275fac=function(o){return new(o||i)(e.LFG(p.eN),e.LFG(T.e8))};static \u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var v=d(2425),a=d(6223);function U(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"option",45),e._uU(2),e.qZA(),e.BQk()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function A(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"tr",46)(1,"td",47),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td",48)(6,"button",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.selectedUnit(s))}),e._uU(7,"+"),e.qZA()()()}if(2&i){const t=l.$implicit;e.xp6(2),e.hij(" ",t.unit.name," "),e.xp6(2),e.hij(" ",t.quantity," ")}}function y(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"option",45),e._uU(2),e.qZA(),e.BQk()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function q(i,l){1&i&&e._UZ(0,"span",50)}let S=(()=>{class i{modal;conversionService;toast;modalService;ConversionC=new e.vpe;units=[];isLoading;search_product="";PRODUCT_SELECTED=null;warehouse_id="";warehouses=[];unit_name="";unit_end_id="";unit_transforms=[];quantity_start=0;quantity_end=0;quantity=0;description="";WAREHOUSE_UNITS=[];UNIT_SELECTED=null;constructor(t,o,n,s){this.modal=t,this.conversionService=o,this.toast=n,this.modalService=s}ngOnInit(){this.isLoading=this.conversionService.isLoading$}isLoadingProcess(){this.conversionService.isLoadingSubject.next(!0),setTimeout(()=>{this.conversionService.isLoadingSubject.next(!1)},50)}listProducts(){this.search_product?this.conversionService.searchProducts(this.search_product).subscribe(t=>{console.log(t),t.products.data.length>1?this.openSelectedProduct(t.products.data):1==t.products.data.length?(this.PRODUCT_SELECTED=t.products.data[0],this.warehouses=[],this.PRODUCT_SELECTED.warehouses.forEach(o=>{-1==this.warehouses.findIndex(s=>s.id==o.warehouse.id)&&this.warehouses.push(o.warehouse)}),this.search_product=this.PRODUCT_SELECTED.title,this.toast.success("Exito","Se selecciono el producto "),this.isLoadingProcess()):this.toast.error("Validaci\xf3n","No hay coincidencia en la busqueda")}):this.toast.error("Validaci\xf3n","Necesitas ingresar al menos uno de los campos")}openSelectedProduct(t=[]){const o=this.modalService.open(Z.T,{size:"lg",centered:!0});o.componentInstance.products=t,o.componentInstance.ProductSelected.subscribe(n=>{this.PRODUCT_SELECTED=n,this.warehouses=[],this.PRODUCT_SELECTED.warehouses.forEach(s=>{-1==this.warehouses.findIndex(F=>F.id==s.warehouse.id)&&this.warehouses.push(s.warehouse)}),this.search_product=this.PRODUCT_SELECTED.title,this.isLoadingProcess(),this.toast.success("Exito","Se selecciono el producto")})}selectedWarehouse(){this.PRODUCT_SELECTED?(console.log(this.warehouse_id),this.WAREHOUSE_UNITS=this.PRODUCT_SELECTED.warehouses.filter(t=>t.warehouse.id==this.warehouse_id),console.log(this.WAREHOUSE_UNITS)):this.toast.error("Validaci\xf3n","Necesitas seleccionar un producto")}selectedUnit(t){console.log(t),this.UNIT_SELECTED=t.unit,this.unit_name=this.UNIT_SELECTED.name,this.unit_transforms=[];let o=this.units.find(n=>n.id==this.UNIT_SELECTED.id);o&&(this.unit_transforms=o.transforms)}calcTotal(){this.quantity=parseInt((this.quantity_start*this.quantity_end).toFixed(2)),this.isLoadingProcess()}store(){return this.PRODUCT_SELECTED?this.warehouse_id?this.UNIT_SELECTED?this.unit_end_id?0==this.quantity?(this.toast.error("Validaci\xf3n","Es necesario digitar una cantidad inicial y cantidad final"),!1):this.description?void this.conversionService.registerConversion({product_id:this.PRODUCT_SELECTED.id,warehouse_id:this.warehouse_id,unit_start_id:this.UNIT_SELECTED.id,unit_end_id:this.unit_end_id,quantity_start:this.quantity_start,quantity_end:this.quantity_end,quantity:this.quantity,description:this.description}).subscribe(o=>{console.log(o),403==o.message?this.toast.error("Validaci\xf3n",o.message_text):(this.toast.success("Exito","La conversi\xf3n se registro correctamente"),this.ConversionC.emit(o.conversion),this.modal.close())}):(this.toast.error("Validaci\xf3n","Es necesario dar una peque\xf1a nota del motivo de la conversi\xf3n"),!1):(this.toast.error("Validaci\xf3n","Es necesario seleccionar una unidad de conversi\xf3n"),!1):(this.toast.error("Validaci\xf3n","Es necesario seleccionar una unidad"),!1):(this.toast.error("Validaci\xf3n","El almacen debe ser seleccionado"),!1):(this.toast.error("Validaci\xf3n","El producto debe ser seleccionado"),!1)}static \u0275fac=function(o){return new(o||i)(e.Y36(u.Kz),e.Y36(m),e.Y36(v._W),e.Y36(u.FF))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-create-conversion"]],inputs:{units:"units"},outputs:{ConversionC:"ConversionC"},decls:78,vars:14,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","row","justify-content-center","mb-7"],[1,"col-7"],[1,"required","fw-bold","fs-6","mb-2"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search Products",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-5"],["name","warehouse_id","placeholder","Selec. Unidad",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["value",""],[4,"ngFor","ngForOf"],[1,"col-9","my-4"],[1,"table-responsive"],[1,"table","table-row-bordered","table-row-gray-100","align-middle","gs-0","gy-3"],[1,"fw-bold","text-muted"],[1,"min-w-140px"],[1,"min-w-120px"],[1,"min-w-100px"],["class","row-table","style","border-bottom: 0.1rem solid !important;",4,"ngFor","ngForOf"],[1,"col-3"],["type","text","disabled","","name","unit_name","placeholder","",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","unit_end_id","placeholder","Selec. Unidad",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["type","number","name","quantity_start","placeholder","",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","keyup","ngModelChange"],["type","number","name","quantity_end","placeholder","",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","keyup","ngModelChange"],["type","number","disabled","","name","quantity","placeholder","",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"col-6"],[1,"fs-6","fw-semibold","mb-2"],["rows","3","name","description","placeholder","",1,"form-control","form-control-solid",3,"ngModel","ngModelChange"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[3,"value"],[1,"row-table",2,"border-bottom","0.1rem solid !important"],[1,"text-gray-900","fw-bold","text-hover-primary","fs-6"],[1,""],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Add Conversi\xf3n"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"label",13),e._uU(15,"Buscar Producto: (*) "),e.qZA(),e.TgZ(16,"div",14)(17,"i",15),e._UZ(18,"span",16)(19,"span",17),e.qZA(),e.TgZ(20,"input",18),e.NdJ("ngModelChange",function(r){return n.search_product=r})("keyup.enter",function(){return n.listProducts()}),e.qZA()()(),e.TgZ(21,"div",19)(22,"label",13),e._uU(23,"Almacenes: (*) "),e.qZA(),e.TgZ(24,"select",20),e.NdJ("ngModelChange",function(r){return n.warehouse_id=r})("change",function(){return n.selectedWarehouse()}),e.TgZ(25,"option",21),e._uU(26,"Ninguno"),e.qZA(),e.YNc(27,U,3,2,"ng-container",22),e.qZA()(),e.TgZ(28,"div",23)(29,"div",24)(30,"table",25)(31,"thead")(32,"tr",26)(33,"th",27),e._uU(34,"Unidad"),e.qZA(),e.TgZ(35,"th",28),e._uU(36,"Cantidad"),e.qZA(),e.TgZ(37,"th",29),e._uU(38,"Actions"),e.qZA()()(),e.TgZ(39,"tbody"),e.YNc(40,A,8,2,"tr",30),e.qZA()()()()(),e.TgZ(41,"div",11)(42,"div",31)(43,"label",13),e._uU(44,"Unidad selec.: (*) "),e.qZA(),e.TgZ(45,"input",32),e.NdJ("ngModelChange",function(r){return n.unit_name=r}),e.qZA()(),e.TgZ(46,"div",31)(47,"label",13),e._uU(48,"Unidades: (*) "),e.qZA(),e.TgZ(49,"select",33),e.NdJ("ngModelChange",function(r){return n.unit_end_id=r}),e.TgZ(50,"option",21),e._uU(51,"Ninguno"),e.qZA(),e.YNc(52,y,3,2,"ng-container",22),e.qZA()(),e.TgZ(53,"div",31)(54,"label",13),e._uU(55,"Cantidad Inicial: (*) "),e.qZA(),e.TgZ(56,"input",34),e.NdJ("keyup",function(){return n.calcTotal()})("ngModelChange",function(r){return n.quantity_start=r}),e.qZA()(),e.TgZ(57,"div",31)(58,"label",13),e._uU(59,"Cantidad Final: (*) "),e.qZA(),e.TgZ(60,"input",35),e.NdJ("keyup",function(){return n.calcTotal()})("ngModelChange",function(r){return n.quantity_end=r}),e.qZA()()(),e.TgZ(61,"div",11)(62,"div",31)(63,"label",13),e._uU(64,"Cantidad Total: (*) "),e.qZA(),e.TgZ(65,"input",36),e.NdJ("ngModelChange",function(r){return n.quantity=r}),e.qZA()(),e.TgZ(66,"div",37)(67,"label",38),e._uU(68,"Descripci\xf3n:"),e.qZA(),e.TgZ(69,"textarea",39),e.NdJ("ngModelChange",function(r){return n.description=r}),e.qZA()()()(),e.TgZ(70,"div",40)(71,"button",41),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(72,"Cerrar"),e.qZA(),e.TgZ(73,"button",42),e.NdJ("click",function(){return n.store()}),e.TgZ(74,"span",43),e._uU(75,"Registrar"),e.qZA(),e.YNc(76,q,1,0,"span",44),e.ALo(77,"async"),e.qZA()()()()()),2&o&&(e.xp6(20),e.Q6J("ngModel",n.search_product),e.xp6(4),e.Q6J("ngModel",n.warehouse_id),e.xp6(3),e.Q6J("ngForOf",n.warehouses),e.xp6(13),e.Q6J("ngForOf",n.WAREHOUSE_UNITS),e.xp6(5),e.Q6J("ngModel",n.unit_name),e.xp6(4),e.Q6J("ngModel",n.unit_end_id),e.xp6(3),e.Q6J("ngForOf",n.unit_transforms),e.xp6(4),e.Q6J("ngModel",n.quantity_start),e.xp6(4),e.Q6J("ngModel",n.quantity_end),e.xp6(5),e.Q6J("ngModel",n.quantity),e.xp6(4),e.Q6J("ngModel",n.description),e.xp6(7),e.Q6J("ngIf",e.lcZ(77,12,n.isLoading)))},dependencies:[c.sg,c.O5,a._Y,a.YN,a.Kr,a.Fj,a.wV,a.EJ,a.JJ,a.JL,a.On,a.F,c.Ov],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black!important;text-align:center;padding:5px}th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]})}return i})();function x(i,l){1&i&&e._UZ(0,"span",15)}let E=(()=>{class i{modal;toast;conversionService;DeleteConversion=new e.vpe;conversion;isLoading;constructor(t,o,n){this.modal=t,this.toast=o,this.conversionService=n}ngOnInit(){}delete(){this.conversionService.deleteConversion(this.conversion.id).subscribe(t=>{console.log(t),403==t.message?this.toast.error("Exito",t.message_text):(this.DeleteConversion.emit(t),this.modal.close(),this.toast.success("Exito","La eliminaci\xf3n se hizo correctamente"))})}static \u0275fac=function(o){return new(o||i)(e.Y36(u.Kz),e.Y36(v._W),e.Y36(m))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-delete-conversion"]],inputs:{conversion:"conversion"},outputs:{DeleteConversion:"DeleteConversion"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return n.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"p"),e._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTA CONVERSION? "),e.qZA(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return n.modal.dismiss()}),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return n.delete()}),e.TgZ(17,"span",13),e._uU(18,"ELIMINAR"),e.qZA(),e.YNc(19,x,1,0,"span",14),e.ALo(20,"async"),e.qZA()()()()()),2&o&&(e.xp6(3),e.hij("Delete Conversion: #",n.conversion.id,""),e.xp6(16),e.Q6J("ngIf",e.lcZ(20,2,n.isLoading)))},dependencies:[c.O5,a._Y,a.JL,a.F,c.Ov]})}return i})();function w(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"option",48),e._uU(2),e.qZA(),e.BQk()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function k(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"option",48),e._uU(2),e.qZA(),e.BQk()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function L(i,l){if(1&i&&(e.ynx(0),e.TgZ(1,"option",48),e._uU(2),e.qZA(),e.BQk()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.name)}}function M(i,l){1&i&&e._UZ(0,"span",49)}function N(i,l){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td"),e._uU(13),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA(),e.TgZ(16,"td"),e._uU(17),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"td")(21,"a",50),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.deleteConversion(s))}),e.TgZ(22,"i",51),e._UZ(23,"span",7)(24,"span",8)(25,"span",52)(26,"span",53)(27,"span",54),e.qZA()()()(),e.BQk()}if(2&i){const t=l.$implicit;e.xp6(3),e.hij(" ",t.id," "),e.xp6(2),e.hij(" ",t.product.title," "),e.xp6(2),e.hij(" ",t.warehouse.name," "),e.xp6(2),e.hij(" ",t.unit_start.name," "),e.xp6(2),e.hij(" ",t.quantity_end," "),e.xp6(2),e.hij(" ",t.unit_end.name," "),e.xp6(2),e.hij(" ",t.quantity," "),e.xp6(2),e.hij(" ",t.user.full_name," "),e.xp6(2),e.hij(" ",t.created_at," ")}}const J=[{path:"",component:f,children:[{path:"listado",component:(()=>{class i{modalService;conversionService;search="";CONVERSIONS=[];isLoading$;totalPages=0;currentPage=1;warehouse_id="";warehouses=[];units=[];unit_start_id="";unit_end_id="";search_product="";start_date=null;end_date=null;constructor(t,o){this.modalService=t,this.conversionService=o}ngOnInit(){this.isLoading$=this.conversionService.isLoading$,this.listConversions(),this.configAll()}listConversions(t=1){this.conversionService.listConversions(t,{n_orden:this.search,warehouse_id:this.warehouse_id,unit_start_id:this.unit_start_id,unit_end_id:this.unit_end_id,search_product:this.search_product,start_date:this.start_date,end_date:this.end_date}).subscribe(n=>{console.log(n),this.CONVERSIONS=n.conversions.data,this.totalPages=n.total,this.currentPage=t})}configAll(){this.conversionService.configAll().subscribe(t=>{console.log(t),this.warehouses=t.warehouses,this.units=t.units})}resetlistConversions(){this.search="",this.warehouse_id="",this.unit_start_id="",this.unit_end_id="",this.search_product="",this.start_date=null,this.end_date=null,this.listConversions()}loadPage(t){this.listConversions(t)}createConversion(){const t=this.modalService.open(S,{centered:!0,size:"lg"});t.componentInstance.units=this.units,t.componentInstance.ConversionC.subscribe(o=>{this.CONVERSIONS.unshift(o)})}editConversion(t){}deleteConversion(t){const o=this.modalService.open(E,{centered:!0,size:"md"});o.componentInstance.conversion=t,o.componentInstance.DeleteConversion.subscribe(n=>{let s=this.CONVERSIONS.findIndex(r=>r.id==t.id);-1!=s&&this.CONVERSIONS.splice(s,1)})}static \u0275fac=function(o){return new(o||i)(e.Y36(u.FF),e.Y36(m))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-list-conversion"]],decls:119,vars:19,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"row","align-items-center"],[1,"col-3"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search N\xb0 Orden",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],["name","warehouse_id","placeholder","Selec. Almacen",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],[1,"text-muted","fs-7"],["name","unit_start_id","placeholder","Selec. Unidad",1,"form-control",3,"ngModel","ngModelChange"],["name","unit_end_id","placeholder","Selec. Unidad",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search Producto",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],[1,"col-2"],[1,"input-group","input-group-solid"],["type","date","name","start_date",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","date","name","end_date",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],[1,"col-1","d-flex"],[1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-magnifier","fs-2"],[1,"btn","btn-dark","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-loading","fs-2"],["type","button",1,"btn","btn-primary",3,"click"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","base",1,"d-flex","justify-content-end"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center","d-none"],[1,"fw-bold","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger"],[1,"card-body","pt-0"],["id","kt_customers_table_wrapper",1,"dt-container","dt-bootstrap5","dt-empty-footer"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],["data-dt-column","2","rowspan","1","colspan","1","aria-label","Email: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","5","rowspan","1","colspan","1","aria-label","Created Date: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"text-end","min-w-70px","dt-orderable-none"],[1,"dt-column-title"],[1,"fw-semibold","text-gray-600"],[3,"collectionSize","page","pageSize","rotate","boundaryLinks","pageChange"],[3,"value"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"i",6),e._UZ(7,"span",7)(8,"span",8),e.qZA(),e.TgZ(9,"input",9),e.NdJ("ngModelChange",function(r){return n.search=r})("keyup.enter",function(){return n.listConversions()}),e.qZA()()(),e.TgZ(10,"div",4)(11,"select",10),e.NdJ("ngModelChange",function(r){return n.warehouse_id=r}),e.TgZ(12,"option",11),e._uU(13,"Ninguno"),e.qZA(),e.YNc(14,w,3,2,"ng-container",12),e.qZA(),e.TgZ(15,"div",13),e._uU(16,"Almacen de atenci\xf3n."),e.qZA()(),e.TgZ(17,"div",4)(18,"select",14),e.NdJ("ngModelChange",function(r){return n.unit_start_id=r}),e.TgZ(19,"option",11),e._uU(20,"Ninguno"),e.qZA(),e.YNc(21,k,3,2,"ng-container",12),e.qZA(),e.TgZ(22,"div",13),e._uU(23,"Unidad Inicial."),e.qZA()(),e.TgZ(24,"div",4)(25,"select",15),e.NdJ("ngModelChange",function(r){return n.unit_end_id=r}),e.TgZ(26,"option",11),e._uU(27,"Ninguno"),e.qZA(),e.YNc(28,L,3,2,"ng-container",12),e.qZA(),e.TgZ(29,"div",13),e._uU(30,"Unidad Final."),e.qZA()(),e.TgZ(31,"div",4)(32,"div",5)(33,"i",6),e._UZ(34,"span",7)(35,"span",8),e.qZA(),e.TgZ(36,"input",16),e.NdJ("ngModelChange",function(r){return n.search_product=r})("keyup.enter",function(){return n.listConversions()}),e.qZA()()(),e.TgZ(37,"div",17)(38,"div",18)(39,"input",19),e.NdJ("ngModelChange",function(r){return n.start_date=r}),e.qZA()(),e.TgZ(40,"div",13),e._uU(41,"Fecha de inicio(Registro)."),e.qZA()(),e.TgZ(42,"div",17)(43,"div",18)(44,"input",20),e.NdJ("ngModelChange",function(r){return n.end_date=r}),e.qZA()(),e.TgZ(45,"div",13),e._uU(46,"Fecha fin(Registro)."),e.qZA()(),e.TgZ(47,"div",21)(48,"button",22),e.NdJ("click",function(){return n.listConversions()}),e.TgZ(49,"i",23),e._UZ(50,"span",7)(51,"span",8),e.qZA()(),e.TgZ(52,"button",24),e.NdJ("click",function(){return n.resetlistConversions()}),e.TgZ(53,"i",25),e._UZ(54,"span",7)(55,"span",8),e.qZA()()(),e.TgZ(56,"div",17)(57,"button",26),e.NdJ("click",function(){return n.createConversion()}),e._uU(58," + Add Conversion "),e.qZA()()()(),e.YNc(59,M,1,0,"span",27),e.ALo(60,"async"),e.TgZ(61,"div",28),e._UZ(62,"div",29),e.TgZ(63,"div",30)(64,"div",31),e._UZ(65,"span",32),e._uU(66," Selected "),e.qZA(),e.TgZ(67,"button",33),e._uU(68," Delete Selected "),e.qZA()()()(),e.TgZ(69,"div",34)(70,"div",35)(71,"div",36)(72,"table",37)(73,"thead")(74,"tr",38)(75,"th",39)(76,"span",40),e._uU(77,"N\xb0 Orden"),e.qZA(),e._UZ(78,"span",41),e.qZA(),e.TgZ(79,"th",42)(80,"span",40),e._uU(81,"Producto"),e.qZA(),e._UZ(82,"span",41),e.qZA(),e.TgZ(83,"th",42)(84,"span",40),e._uU(85,"Almacen"),e.qZA(),e._UZ(86,"span",41),e.qZA(),e.TgZ(87,"th",42)(88,"span",40),e._uU(89,"Unidad Inicial"),e.qZA(),e._UZ(90,"span",41),e.qZA(),e.TgZ(91,"th",42)(92,"span",40),e._uU(93,"Cantidad Pasada"),e.qZA(),e._UZ(94,"span",41),e.qZA(),e.TgZ(95,"th",42)(96,"span",40),e._uU(97,"Unidad Final"),e.qZA(),e._UZ(98,"span",41),e.qZA(),e.TgZ(99,"th",42)(100,"span",40),e._uU(101,"Cantidad Recibida"),e.qZA(),e._UZ(102,"span",41),e.qZA(),e.TgZ(103,"th",42)(104,"span",40),e._uU(105,"Responsable"),e.qZA(),e._UZ(106,"span",41),e.qZA(),e.TgZ(107,"th",43)(108,"span",40),e._uU(109,"Fecha de registro"),e.qZA(),e._UZ(110,"span",41),e.qZA(),e.TgZ(111,"th",44)(112,"span",45),e._uU(113,"Actions"),e.qZA(),e._UZ(114,"span",41),e.qZA()()(),e.TgZ(115,"tbody",46),e.YNc(116,N,28,9,"ng-container",12),e.qZA(),e._UZ(117,"tfoot"),e.qZA()(),e.TgZ(118,"ngb-pagination",47),e.NdJ("pageChange",function(r){return n.currentPage=r})("pageChange",function(r){return n.loadPage(r)}),e.qZA()()()()),2&o&&(e.xp6(9),e.Q6J("ngModel",n.search),e.xp6(2),e.Q6J("ngModel",n.warehouse_id),e.xp6(3),e.Q6J("ngForOf",n.warehouses),e.xp6(4),e.Q6J("ngModel",n.unit_start_id),e.xp6(3),e.Q6J("ngForOf",n.units),e.xp6(4),e.Q6J("ngModel",n.unit_end_id),e.xp6(3),e.Q6J("ngForOf",n.units),e.xp6(8),e.Q6J("ngModel",n.search_product),e.xp6(3),e.Q6J("ngModel",n.start_date),e.xp6(5),e.Q6J("ngModel",n.end_date),e.xp6(15),e.Q6J("ngIf",e.lcZ(60,17,n.isLoading$)),e.xp6(57),e.Q6J("ngForOf",n.CONVERSIONS),e.xp6(2),e.Q6J("collectionSize",n.totalPages)("page",n.currentPage)("pageSize",25)("rotate",!0)("boundaryLinks",!0))},dependencies:[c.sg,c.O5,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.On,u.N9,c.Ov]})}return i})()}]}];let O=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[h.Bz.forChild(J),h.Bz]})}return i})();var I=d(53);let D=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[c.ez,O,p.JF,a.u5,u.IJ,a.UX,I.vi,u.bz,u.jF]})}return i})()}}]);
"use strict";(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[877],{5877:(le,u,c)=>{c.r(u),c.d(u,{ClientsModule:()=>oe});var d=c(6814),p=c(7304),e=c(5879);let k=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275cmp=e.Xpm({type:i,selectors:[["app-clients"]],decls:1,vars:0,template:function(s,t){1&s&&e._UZ(0,"router-outlet")},dependencies:[p.lC]})}return i})();var E=c(9860),y=c(3113),h=c(1581),C=c(7954),f=c(2262),_=c(1274),g=c(8691),m=c(2425),r=c(6223);function q(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",56),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function N(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",56),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function U(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",56),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function I(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",56),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function M(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",56),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.full_name)}}function x(i,a){1&i&&e._UZ(0,"span",57)}const b=function(i){return{active:i}},Z=function(i){return{"show active":i}};let J=(()=>{class i{modal;clientsService;toast;ClientsE=new e.vpe;client_selected;client_segments=[];asesores=[];full_name="";client_segment_id="";type_document="";n_document=0;origen="";sexo=0;birthdate=null;phone=0;email="";asesor_id="";REGIONES=f.c;PROVINCIAS=C.M;DISTRITOS=h.x;PROVINCIA_SELECTEDS=[];DISTRITO_SELECTEDS=[];tab_selected=1;ubigeo_region="";ubigeo_provincia="";ubigeo_distrito="";region="";provincia="";distrito="";address="";is_parcial=1;isLoading;constructor(n,s,t){this.modal=n,this.clientsService=s,this.toast=t}ngOnInit(){this.full_name=this.client_selected.full_name,this.client_segment_id=this.client_selected.client_segment_id,this.type_document=this.client_selected.type_document,this.n_document=this.client_selected.n_document,this.origen=this.client_selected.origen,this.sexo=this.client_selected.sexo,this.birthdate=this.client_selected.birthdate,this.phone=this.client_selected.phone,this.email=this.client_selected.email,this.asesor_id=this.client_selected.asesor_id,this.ubigeo_region=this.client_selected.ubigeo_region,this.ubigeo_provincia=this.client_selected.ubigeo_provincia,this.ubigeo_distrito=this.client_selected.ubigeo_distrito,this.address=this.client_selected.address,this.is_parcial=this.client_selected.is_parcial,this.changeRegion({target:{value:this.client_selected.ubigeo_region}}),this.changeProvincia({target:{value:this.client_selected.ubigeo_provincia}})}changeRegion(n){console.log(n.target.value);let s=n.target.value,t=this.REGIONES.find(o=>o.id==s);t&&(this.region=t.name);let l=this.PROVINCIAS.filter(o=>o.department_id==s);console.log(l),this.PROVINCIA_SELECTEDS=l}changeProvincia(n){console.log(n.target.value);let s=n.target.value,t=this.PROVINCIAS.find(o=>o.id==s);t&&(this.provincia=t.name);let l=this.DISTRITOS.filter(o=>o.province_id==s);console.log(l),this.DISTRITO_SELECTEDS=l}selectedTab(n){this.tab_selected=n}selectedParcial(){this.is_parcial=1==this.is_parcial?2:1}store(){if(!(this.full_name&&this.client_segment_id&&this.type_document&&this.n_document&&this.origen&&this.sexo&&this.birthdate&&this.phone&&this.ubigeo_region&&this.ubigeo_provincia&&this.ubigeo_distrito&&this.address))return this.toast.error("Validaci\xf3n","Necesitas llenar todos los campos con la referencia (*)"),!1;let n=this.DISTRITOS.find(t=>t.id==this.ubigeo_distrito);n&&(this.distrito=n.name),this.clientsService.updateClient(this.client_selected.id,{full_name:this.full_name,client_segment_id:this.client_segment_id,type_document:this.type_document,n_document:this.n_document,origen:this.origen,sexo:this.sexo,birthdate:this.birthdate,phone:this.phone,email:this.email,asesor_id:this.asesor_id,ubigeo_region:this.ubigeo_region,ubigeo_provincia:this.ubigeo_provincia,ubigeo_distrito:this.ubigeo_distrito,region:this.region,provincia:this.provincia,distrito:this.distrito,address:this.address,is_parcial:this.is_parcial}).subscribe(t=>{console.log(t),403==t.message?this.toast.error("Validaci\xf3n",t.message_text):(this.toast.success("Exito","El cliente se actualizo correctamente"),this.ClientsE.emit(t.client),this.modal.close())})}static \u0275fac=function(s){return new(s||i)(e.Y36(_.Kz),e.Y36(g.a),e.Y36(m._W))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-edit-clients-company"]],inputs:{client_selected:"client_selected",client_segments:"client_segments",asesores:"asesores"},outputs:{ClientsE:"ClientsE"},decls:128,vars:35,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"nav","nav-custom","nav-tabs","nav-line-tabs","nav-line-tabs-2x","border-0","fs-4","fw-semibold","mb-5"],[1,"nav-item"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_general","onclick","return false;",1,"nav-link","text-active-primary","pb-4",3,"ngClass","click"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_advanced","onclick","return false;",1,"nav-link","text-active-primary","pb-4",3,"ngClass","click"],[1,"tab-content"],["id","kt_ecommerce_add_product_general","role","tab-panel",1,"tab-pane","fade",3,"ngClass"],[1,"d-flex","flex-column","scroll-y"],[1,"fv-row","row","mb-7"],[1,"col-6"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","name","name","placeholder","Razon social",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"col-4"],["name","client_segment_id","placeholder","Selec. Segment",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["name","type_document","placeholder","Selec. Tipo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value","RUC"],["value","RUC 20"],["type","number","name","n_document","placeholder","#00000000",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","origen","placeholder","Selec. Tipo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value","FACEBOOK"],["value","GOOGLE"],["value","YOUTUBE"],["value","CORREO"],["value","TIKTOK"],[1,"input-group","input-group-solid"],["type","date","name","birthdate",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","phone","placeholder","000-000-000",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","email","placeholder","example@gmail.com",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["id","kt_ecommerce_add_product_advanced","role","tab-panel",1,"tab-pane","fade",3,"ngClass"],["name","ubigeo_region","placeholder","Selec. Regi\xf3n",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","ubigeo_provincia","placeholder","Selec. Provincia",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","ubigeo_distrito","placeholder","Selec. Distrito",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"col-5"],["type","text","name","address","placeholder","Av, Mz ,Calle",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"col-3"],[1,"form-check","form-check-custom","form-check-solid","mb-2"],["type","checkbox",1,"form-check-input",3,"checked","click"],[1,"form-check-label"],["name","asesor_id","placeholder","Selec. Asesor",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[3,"value"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return t.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"ul",11)(13,"li",12)(14,"a",13),e.NdJ("click",function(){return t.selectedTab(1)}),e._uU(15,"General"),e.qZA()(),e.TgZ(16,"li",12)(17,"a",14),e.NdJ("click",function(){return t.selectedTab(2)}),e._uU(18,"Advanced"),e.qZA()()(),e.TgZ(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"label",20),e._uU(25,"Nombre de la empresa: (*) "),e.qZA(),e.TgZ(26,"input",21),e.NdJ("ngModelChange",function(o){return t.full_name=o}),e.qZA()(),e.TgZ(27,"div",22)(28,"label",20),e._uU(29,"Segmento de Cliente: (*) "),e.qZA(),e.TgZ(30,"select",23),e.NdJ("ngModelChange",function(o){return t.client_segment_id=o}),e.TgZ(31,"option",24),e._uU(32,"Ninguno"),e.qZA(),e.YNc(33,q,3,2,"ng-container",25),e.qZA()()(),e.TgZ(34,"div",18)(35,"div",22)(36,"label",20),e._uU(37,"Tipo de Documento: (*) "),e.qZA(),e.TgZ(38,"select",26),e.NdJ("ngModelChange",function(o){return t.type_document=o}),e.TgZ(39,"option",27),e._uU(40,"RUC"),e.qZA(),e.TgZ(41,"option",28),e._uU(42,"RUC 20"),e.qZA()()(),e.TgZ(43,"div",19)(44,"label",20),e._uU(45,"N\xb0 de RUC: (*) "),e.qZA(),e.TgZ(46,"input",29),e.NdJ("ngModelChange",function(o){return t.n_document=o}),e.qZA()()(),e.TgZ(47,"div",18)(48,"div",22)(49,"label",20),e._uU(50,"Origen: (*) "),e.qZA(),e.TgZ(51,"select",30),e.NdJ("ngModelChange",function(o){return t.origen=o}),e.TgZ(52,"option",24),e._uU(53,"Ninguno"),e.qZA(),e.TgZ(54,"option",31),e._uU(55,"FACEBOOK"),e.qZA(),e.TgZ(56,"option",32),e._uU(57,"GOOGLE"),e.qZA(),e.TgZ(58,"option",33),e._uU(59,"YOUTUBE"),e.qZA(),e.TgZ(60,"option",34),e._uU(61,"CORREO"),e.qZA(),e.TgZ(62,"option",35),e._uU(63,"TIKTOK"),e.qZA()()(),e.TgZ(64,"div",22)(65,"label",20),e._uU(66,"Aniversario: (*) "),e.qZA(),e.TgZ(67,"div",36)(68,"input",37),e.NdJ("ngModelChange",function(o){return t.birthdate=o}),e.qZA()()(),e.TgZ(69,"div",22)(70,"label",20),e._uU(71,"Telefono: (*) "),e.qZA(),e.TgZ(72,"input",38),e.NdJ("ngModelChange",function(o){return t.phone=o}),e.qZA()(),e.TgZ(73,"div",22)(74,"label",20),e._uU(75,"Correo electronico: (Opcional) "),e.qZA(),e.TgZ(76,"input",39),e.NdJ("ngModelChange",function(o){return t.email=o}),e.qZA()()()()(),e.TgZ(77,"div",40)(78,"div",17)(79,"div",18)(80,"div",22)(81,"label",20),e._uU(82,"Regi\xf3n: (*) "),e.qZA(),e.TgZ(83,"select",41),e.NdJ("ngModelChange",function(o){return t.ubigeo_region=o})("change",function(o){return t.changeRegion(o)}),e.TgZ(84,"option",24),e._uU(85,"Ninguno"),e.qZA(),e.YNc(86,N,3,2,"ng-container",25),e.qZA()(),e.TgZ(87,"div",22)(88,"label",20),e._uU(89,"Provincia: (*) "),e.qZA(),e.TgZ(90,"select",42),e.NdJ("ngModelChange",function(o){return t.ubigeo_provincia=o})("change",function(o){return t.changeProvincia(o)}),e.TgZ(91,"option",24),e._uU(92,"Ninguno"),e.qZA(),e.YNc(93,U,3,2,"ng-container",25),e.qZA()(),e.TgZ(94,"div",22)(95,"label",20),e._uU(96,"Distrito: (*) "),e.qZA(),e.TgZ(97,"select",43),e.NdJ("ngModelChange",function(o){return t.ubigeo_distrito=o}),e.TgZ(98,"option",24),e._uU(99,"Ninguno"),e.qZA(),e.YNc(100,I,3,2,"ng-container",25),e.qZA()()(),e.TgZ(101,"div",18)(102,"div",44)(103,"label",20),e._uU(104,"Direcci\xf3n: (*) "),e.qZA(),e.TgZ(105,"input",45),e.NdJ("ngModelChange",function(o){return t.address=o}),e.qZA()(),e.TgZ(106,"div",46)(107,"label",20),e._uU(108,"\xbfNecesita adelanto?: (Opcional) "),e.qZA(),e.TgZ(109,"div",47)(110,"input",48),e.NdJ("click",function(){return t.selectedParcial()}),e.qZA(),e.TgZ(111,"label",49),e._uU(112,"No"),e.qZA()()(),e.TgZ(113,"div",22)(114,"label",20),e._uU(115,"Asesores: (Opcional) "),e.qZA(),e.TgZ(116,"select",50),e.NdJ("ngModelChange",function(o){return t.asesor_id=o}),e.TgZ(117,"option",24),e._uU(118,"Ninguno"),e.qZA(),e.YNc(119,M,3,2,"ng-container",25),e.qZA()()()()()()(),e.TgZ(120,"div",51)(121,"button",52),e.NdJ("click",function(){return t.modal.dismiss()}),e._uU(122,"Cerrar"),e.qZA(),e.TgZ(123,"button",53),e.NdJ("click",function(){return t.store()}),e.TgZ(124,"span",54),e._uU(125,"Editar"),e.qZA(),e.YNc(126,x,1,0,"span",55),e.ALo(127,"async"),e.qZA()()()()()),2&s&&(e.xp6(3),e.hij('Edit Client Person: "',t.client_selected.full_name,'"'),e.xp6(11),e.Q6J("ngClass",e.VKq(27,b,1==t.tab_selected)),e.xp6(3),e.Q6J("ngClass",e.VKq(29,b,2==t.tab_selected)),e.xp6(3),e.Q6J("ngClass",e.VKq(31,Z,1==t.tab_selected)),e.xp6(6),e.Q6J("ngModel",t.full_name),e.xp6(4),e.Q6J("ngModel",t.client_segment_id),e.xp6(3),e.Q6J("ngForOf",t.client_segments),e.xp6(5),e.Q6J("ngModel",t.type_document),e.xp6(8),e.Q6J("ngModel",t.n_document),e.xp6(5),e.Q6J("ngModel",t.origen),e.xp6(17),e.Q6J("ngModel",t.birthdate),e.xp6(4),e.Q6J("ngModel",t.phone),e.xp6(4),e.Q6J("ngModel",t.email),e.xp6(1),e.Q6J("ngClass",e.VKq(33,Z,2==t.tab_selected)),e.xp6(6),e.Q6J("ngModel",t.ubigeo_region),e.xp6(3),e.Q6J("ngForOf",t.REGIONES),e.xp6(4),e.Q6J("ngModel",t.ubigeo_provincia),e.xp6(3),e.Q6J("ngForOf",t.PROVINCIA_SELECTEDS),e.xp6(4),e.Q6J("ngModel",t.ubigeo_distrito),e.xp6(3),e.Q6J("ngForOf",t.DISTRITO_SELECTEDS),e.xp6(5),e.Q6J("ngModel",t.address),e.xp6(5),e.Q6J("checked",2==t.is_parcial),e.xp6(6),e.Q6J("ngModel",t.asesor_id),e.xp6(3),e.Q6J("ngForOf",t.asesores),e.xp6(7),e.Q6J("ngIf",e.lcZ(127,25,t.isLoading)))},dependencies:[d.mk,d.sg,d.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.On,r.F,d.Ov]})}return i})();function O(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",64),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function S(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",64),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function R(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",64),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function w(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",64),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function Q(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",64),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.full_name)}}function L(i,a){1&i&&e._UZ(0,"span",65)}const T=function(i){return{active:i}},v=function(i){return{"show active":i}};let P=(()=>{class i{modal;clientsService;toast;ClientsE=new e.vpe;client_selected;client_segments=[];asesores=[];name="";surname="";client_segment_id="";type_document="";n_document=0;origen="";sexo=0;birthdate=null;phone=0;email="";asesor_id="";REGIONES=f.c;PROVINCIAS=C.M;DISTRITOS=h.x;PROVINCIA_SELECTEDS=[];DISTRITO_SELECTEDS=[];tab_selected=1;ubigeo_region="";ubigeo_provincia="";ubigeo_distrito="";region="";provincia="";distrito="";address="";is_parcial=1;isLoading;constructor(n,s,t){this.modal=n,this.clientsService=s,this.toast=t}ngOnInit(){this.name=this.client_selected.name,this.surname=this.client_selected.surname,this.client_segment_id=this.client_selected.client_segment_id,this.type_document=this.client_selected.type_document,this.n_document=this.client_selected.n_document,this.origen=this.client_selected.origen,this.sexo=this.client_selected.sexo,this.birthdate=this.client_selected.birthdate,this.phone=this.client_selected.phone,this.email=this.client_selected.email,this.asesor_id=this.client_selected.asesor_id,this.ubigeo_region=this.client_selected.ubigeo_region,this.ubigeo_provincia=this.client_selected.ubigeo_provincia,this.ubigeo_distrito=this.client_selected.ubigeo_distrito,this.address=this.client_selected.address,this.is_parcial=this.client_selected.is_parcial,this.changeRegion({target:{value:this.client_selected.ubigeo_region}}),this.changeProvincia({target:{value:this.client_selected.ubigeo_provincia}})}changeRegion(n){console.log(n.target.value);let s=n.target.value,t=this.REGIONES.find(o=>o.id==s);t&&(this.region=t.name);let l=this.PROVINCIAS.filter(o=>o.department_id==s);console.log(l),this.PROVINCIA_SELECTEDS=l}changeProvincia(n){console.log(n.target.value);let s=n.target.value,t=this.PROVINCIAS.find(o=>o.id==s);t&&(this.provincia=t.name);let l=this.DISTRITOS.filter(o=>o.province_id==s);console.log(l),this.DISTRITO_SELECTEDS=l}selectedTab(n){this.tab_selected=n}selectedParcial(){this.is_parcial=1==this.is_parcial?2:1}store(){if(!(this.name&&this.surname&&this.client_segment_id&&this.type_document&&this.n_document&&this.origen&&this.sexo&&this.birthdate&&this.phone&&this.ubigeo_region&&this.ubigeo_provincia&&this.ubigeo_distrito&&this.address))return this.toast.error("Validaci\xf3n","Necesitas llenar todos los campos con la referencia (*)"),!1;let n=this.DISTRITOS.find(t=>t.id==this.ubigeo_distrito);n&&(this.distrito=n.name),this.clientsService.updateClient(this.client_selected.id,{name:this.name,surname:this.surname,full_name:this.name+" "+this.surname,client_segment_id:this.client_segment_id,type_document:this.type_document,n_document:this.n_document,origen:this.origen,sexo:this.sexo,birthdate:this.birthdate,phone:this.phone,email:this.email,asesor_id:this.asesor_id,ubigeo_region:this.ubigeo_region,ubigeo_provincia:this.ubigeo_provincia,ubigeo_distrito:this.ubigeo_distrito,region:this.region,provincia:this.provincia,distrito:this.distrito,address:this.address,is_parcial:this.is_parcial}).subscribe(t=>{console.log(t),403==t.message?this.toast.error("Validaci\xf3n",t.message_text):(this.toast.success("Exito","El cliente se actualizo correctamente"),this.ClientsE.emit(t.client),this.modal.close())})}static \u0275fac=function(s){return new(s||i)(e.Y36(_.Kz),e.Y36(g.a),e.Y36(m._W))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-edit-clients-person"]],inputs:{client_selected:"client_selected",client_segments:"client_segments",asesores:"asesores"},outputs:{ClientsE:"ClientsE"},decls:148,vars:38,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"nav","nav-custom","nav-tabs","nav-line-tabs","nav-line-tabs-2x","border-0","fs-4","fw-semibold","mb-5"],[1,"nav-item"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_general","onclick","return false;",1,"nav-link","text-active-primary","pb-4",3,"ngClass","click"],["data-bs-toggle","tab","href","#kt_ecommerce_add_product_advanced","onclick","return false;",1,"nav-link","text-active-primary","pb-4",3,"ngClass","click"],[1,"tab-content"],["id","kt_ecommerce_add_product_general","role","tab-panel",1,"tab-pane","fade",3,"ngClass"],[1,"d-flex","flex-column","scroll-y"],[1,"fv-row","row","mb-7"],[1,"col-4"],[1,"required","fw-bold","fs-6","mb-2"],["type","text","name","name","placeholder","Nombre",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","surname","placeholder","Apellido",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","client_segment_id","placeholder","Selec. Segment",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["name","type_document","placeholder","Selec. Tipo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value","DNI"],["value","RUC"],["value","CARNET DE EXTRANJERIA"],["type","number","name","n_document","placeholder","#00000000",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["name","origen","placeholder","Selec. Tipo",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],["value","FACEBOOK"],["value","GOOGLE"],["value","YOUTUBE"],["value","CORREO"],["value","TIKTOK"],[1,"d-flex","mt-3"],[1,"form-check","form-check-custom","form-check-solid","me-5"],["type","radio","value","1","name","sexo","id","sexo_yes",1,"form-check-input",3,"checked","click"],["for","sexo_yes",1,"form-check-label"],[1,"form-check","form-check-custom","form-check-solid"],["type","radio","value","2","name","sexo","id","sexo_no",1,"form-check-input",3,"checked","click"],["for","sexo_no",1,"form-check-label"],[1,"input-group","input-group-solid"],["type","date","name","birthdate",1,"form-control","form-control-lg","form-control-solid",3,"ngModel","ngModelChange"],["type","number","name","phone","placeholder","000-000-000",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["type","text","name","email","placeholder","example@gmail.com",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],["id","kt_ecommerce_add_product_advanced","role","tab-panel",1,"tab-pane","fade",3,"ngClass"],["name","ubigeo_region","placeholder","Selec. Regi\xf3n",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","ubigeo_provincia","placeholder","Selec. Provincia",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange","change"],["name","ubigeo_distrito","placeholder","Selec. Distrito",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"col-5"],["type","text","name","address","placeholder","Av, Mz ,Calle",1,"form-control","form-control-solid","mb-3","mb-lg-0",3,"ngModel","ngModelChange"],[1,"col-3"],[1,"form-check","form-check-custom","form-check-solid","mb-2"],["type","checkbox",1,"form-check-input",3,"checked","click"],[1,"form-check-label"],["name","asesor_id","placeholder","Selec. Asesor",1,"form-control","form-select-solid","fw-bolder",3,"ngModel","ngModelChange"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[3,"value"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return t.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"ul",11)(13,"li",12)(14,"a",13),e.NdJ("click",function(){return t.selectedTab(1)}),e._uU(15,"General"),e.qZA()(),e.TgZ(16,"li",12)(17,"a",14),e.NdJ("click",function(){return t.selectedTab(2)}),e._uU(18,"Advanced"),e.qZA()()(),e.TgZ(19,"div",15)(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"label",20),e._uU(25,"Nombre completo: (*) "),e.qZA(),e.TgZ(26,"input",21),e.NdJ("ngModelChange",function(o){return t.name=o}),e.qZA()(),e.TgZ(27,"div",19)(28,"label",20),e._uU(29,"Apellido completo: (*) "),e.qZA(),e.TgZ(30,"input",22),e.NdJ("ngModelChange",function(o){return t.surname=o}),e.qZA()(),e.TgZ(31,"div",19)(32,"label",20),e._uU(33,"Segmento de Cliente: (*) "),e.qZA(),e.TgZ(34,"select",23),e.NdJ("ngModelChange",function(o){return t.client_segment_id=o}),e.TgZ(35,"option",24),e._uU(36,"Ninguno"),e.qZA(),e.YNc(37,O,3,2,"ng-container",25),e.qZA()()(),e.TgZ(38,"div",18)(39,"div",19)(40,"label",20),e._uU(41,"Tipo de Documento: (*) "),e.qZA(),e.TgZ(42,"select",26),e.NdJ("ngModelChange",function(o){return t.type_document=o}),e.TgZ(43,"option",24),e._uU(44,"Ninguno"),e.qZA(),e.TgZ(45,"option",27),e._uU(46,"DNI"),e.qZA(),e.TgZ(47,"option",28),e._uU(48,"RUC"),e.qZA(),e.TgZ(49,"option",29),e._uU(50,"CARNET DE EXTRANJERIA"),e.qZA()()(),e.TgZ(51,"div",19)(52,"label",20),e._uU(53,"N\xb0 de documento: (*) "),e.qZA(),e.TgZ(54,"input",30),e.NdJ("ngModelChange",function(o){return t.n_document=o}),e.qZA()(),e.TgZ(55,"div",19)(56,"label",20),e._uU(57,"Origen: (*) "),e.qZA(),e.TgZ(58,"select",31),e.NdJ("ngModelChange",function(o){return t.origen=o}),e.TgZ(59,"option",24),e._uU(60,"Ninguno"),e.qZA(),e.TgZ(61,"option",32),e._uU(62,"FACEBOOK"),e.qZA(),e.TgZ(63,"option",33),e._uU(64,"GOOGLE"),e.qZA(),e.TgZ(65,"option",34),e._uU(66,"YOUTUBE"),e.qZA(),e.TgZ(67,"option",35),e._uU(68,"CORREO"),e.qZA(),e.TgZ(69,"option",36),e._uU(70,"TIKTOK"),e.qZA()()()(),e.TgZ(71,"div",18)(72,"div",19)(73,"label",20),e._uU(74,"Sexo: (*) "),e.qZA(),e.TgZ(75,"div",37)(76,"div",38)(77,"input",39),e.NdJ("click",function(){return t.sexo=1}),e.qZA(),e.TgZ(78,"label",40),e._uU(79," Hombre "),e.qZA()(),e.TgZ(80,"div",41)(81,"input",42),e.NdJ("click",function(){return t.sexo=2}),e.qZA(),e.TgZ(82,"label",43),e._uU(83," Mujer "),e.qZA()()()(),e.TgZ(84,"div",19)(85,"label",20),e._uU(86,"Cumplea\xf1o: (*) "),e.qZA(),e.TgZ(87,"div",44)(88,"input",45),e.NdJ("ngModelChange",function(o){return t.birthdate=o}),e.qZA()()(),e.TgZ(89,"div",19)(90,"label",20),e._uU(91,"Telefono: (*) "),e.qZA(),e.TgZ(92,"input",46),e.NdJ("ngModelChange",function(o){return t.phone=o}),e.qZA()(),e.TgZ(93,"div",19)(94,"label",20),e._uU(95,"Correo electronico: (Opcional) "),e.qZA(),e.TgZ(96,"input",47),e.NdJ("ngModelChange",function(o){return t.email=o}),e.qZA()()()()(),e.TgZ(97,"div",48)(98,"div",17)(99,"div",18)(100,"div",19)(101,"label",20),e._uU(102,"Regi\xf3n: (*) "),e.qZA(),e.TgZ(103,"select",49),e.NdJ("ngModelChange",function(o){return t.ubigeo_region=o})("change",function(o){return t.changeRegion(o)}),e.TgZ(104,"option",24),e._uU(105,"Ninguno"),e.qZA(),e.YNc(106,S,3,2,"ng-container",25),e.qZA()(),e.TgZ(107,"div",19)(108,"label",20),e._uU(109,"Provincia: (*) "),e.qZA(),e.TgZ(110,"select",50),e.NdJ("ngModelChange",function(o){return t.ubigeo_provincia=o})("change",function(o){return t.changeProvincia(o)}),e.TgZ(111,"option",24),e._uU(112,"Ninguno"),e.qZA(),e.YNc(113,R,3,2,"ng-container",25),e.qZA()(),e.TgZ(114,"div",19)(115,"label",20),e._uU(116,"Distrito: (*) "),e.qZA(),e.TgZ(117,"select",51),e.NdJ("ngModelChange",function(o){return t.ubigeo_distrito=o}),e.TgZ(118,"option",24),e._uU(119,"Ninguno"),e.qZA(),e.YNc(120,w,3,2,"ng-container",25),e.qZA()()(),e.TgZ(121,"div",18)(122,"div",52)(123,"label",20),e._uU(124,"Direcci\xf3n: (*) "),e.qZA(),e.TgZ(125,"input",53),e.NdJ("ngModelChange",function(o){return t.address=o}),e.qZA()(),e.TgZ(126,"div",54)(127,"label",20),e._uU(128,"\xbfNecesita adelanto?: (Opcional) "),e.qZA(),e.TgZ(129,"div",55)(130,"input",56),e.NdJ("click",function(){return t.selectedParcial()}),e.qZA(),e.TgZ(131,"label",57),e._uU(132,"No"),e.qZA()()(),e.TgZ(133,"div",19)(134,"label",20),e._uU(135,"Asesores: (Opcional) "),e.qZA(),e.TgZ(136,"select",58),e.NdJ("ngModelChange",function(o){return t.asesor_id=o}),e.TgZ(137,"option",24),e._uU(138,"Ninguno"),e.qZA(),e.YNc(139,Q,3,2,"ng-container",25),e.qZA()()()()()()(),e.TgZ(140,"div",59)(141,"button",60),e.NdJ("click",function(){return t.modal.dismiss()}),e._uU(142,"Cerrar"),e.qZA(),e.TgZ(143,"button",61),e.NdJ("click",function(){return t.store()}),e.TgZ(144,"span",62),e._uU(145,"Editar"),e.qZA(),e.YNc(146,L,1,0,"span",63),e.ALo(147,"async"),e.qZA()()()()()),2&s&&(e.xp6(3),e.hij('Edit Client Person: "',t.client_selected.full_name,'"'),e.xp6(11),e.Q6J("ngClass",e.VKq(30,T,1==t.tab_selected)),e.xp6(3),e.Q6J("ngClass",e.VKq(32,T,2==t.tab_selected)),e.xp6(3),e.Q6J("ngClass",e.VKq(34,v,1==t.tab_selected)),e.xp6(6),e.Q6J("ngModel",t.name),e.xp6(4),e.Q6J("ngModel",t.surname),e.xp6(4),e.Q6J("ngModel",t.client_segment_id),e.xp6(3),e.Q6J("ngForOf",t.client_segments),e.xp6(5),e.Q6J("ngModel",t.type_document),e.xp6(12),e.Q6J("ngModel",t.n_document),e.xp6(4),e.Q6J("ngModel",t.origen),e.xp6(19),e.Q6J("checked",1==t.sexo),e.xp6(4),e.Q6J("checked",2==t.sexo),e.xp6(7),e.Q6J("ngModel",t.birthdate),e.xp6(4),e.Q6J("ngModel",t.phone),e.xp6(4),e.Q6J("ngModel",t.email),e.xp6(1),e.Q6J("ngClass",e.VKq(36,v,2==t.tab_selected)),e.xp6(6),e.Q6J("ngModel",t.ubigeo_region),e.xp6(3),e.Q6J("ngForOf",t.REGIONES),e.xp6(4),e.Q6J("ngModel",t.ubigeo_provincia),e.xp6(3),e.Q6J("ngForOf",t.PROVINCIA_SELECTEDS),e.xp6(4),e.Q6J("ngModel",t.ubigeo_distrito),e.xp6(3),e.Q6J("ngForOf",t.DISTRITO_SELECTEDS),e.xp6(5),e.Q6J("ngModel",t.address),e.xp6(5),e.Q6J("checked",2==t.is_parcial),e.xp6(6),e.Q6J("ngModel",t.asesor_id),e.xp6(3),e.Q6J("ngForOf",t.asesores),e.xp6(7),e.Q6J("ngIf",e.lcZ(147,28,t.isLoading)))},dependencies:[d.mk,d.sg,d.O5,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.On,r.F,d.Ov]})}return i})();function D(i,a){1&i&&e._UZ(0,"span",15)}let F=(()=>{class i{modal;clientsService;toast;ClientsD=new e.vpe;client_selected;isLoading;constructor(n,s,t){this.modal=n,this.clientsService=s,this.toast=t}ngOnInit(){}delete(){this.clientsService.deleteClient(this.client_selected.id).subscribe(n=>{console.log(n),403==n.message?this.toast.error("Validaci\xf3n",n.message_text):(this.toast.success("Exito","El cliente se elimino correctamente"),this.ClientsD.emit(n.message),this.modal.close())})}static \u0275fac=function(s){return new(s||i)(e.Y36(_.Kz),e.Y36(g.a),e.Y36(m._W))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-delete-clients"]],inputs:{client_selected:"client_selected"},outputs:{ClientsD:"ClientsD"},decls:21,vars:4,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","mx-xl-15","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-danger",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return t.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"p"),e._uU(12," \xbfESTAS SEGURO DE ELIMINAR ESTE CLIENTE? "),e.qZA(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return t.modal.dismiss()}),e._uU(15,"Cerrar"),e.qZA(),e.TgZ(16,"button",12),e.NdJ("click",function(){return t.delete()}),e.TgZ(17,"span",13),e._uU(18,"ELIMINAR"),e.qZA(),e.YNc(19,D,1,0,"span",14),e.ALo(20,"async"),e.qZA()()()()()),2&s&&(e.xp6(3),e.hij("Delete Client : #",t.client_selected.full_name,""),e.xp6(16),e.Q6J("ngIf",e.lcZ(20,2,t.isLoading)))},dependencies:[d.O5,r._Y,r.JL,r.F,d.Ov]})}return i})();var A=c(6988);function Y(i,a){1&i&&e._UZ(0,"span",21)}let B=(()=>{class i{modal;clientService;toast;importClient=new e.vpe;isLoading;file_excel;constructor(n,s,t){this.modal=n,this.clientService=s,this.toast=t}ngOnInit(){}processFile(n){this.file_excel=n.target.files[0]}store(){if(!this.file_excel)return this.toast.error("Validaci\xf3n","EL ARCHIVO ES REQUERIDO"),!1;let n=new FormData;n.append("import_file",this.file_excel),this.clientService.importClient(n).subscribe(s=>{console.log(s),this.toast.success("Exito","Los clientes han sido importados exitosamente"),this.importClient.emit(s.message),this.modal.close()},s=>{console.log(s)})}static \u0275fac=function(s){return new(s||i)(e.Y36(_.Kz),e.Y36(g.a),e.Y36(m._W))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-import-clients"]],outputs:{importClient:"importClient"},decls:27,vars:3,consts:[[1,"modal-content"],["id","kt_modal_add_user_header",1,"modal-header"],[1,"fw-bolder"],["data-kt-users-modal-action","close",1,"btn","btn-icon","btn-sm","btn-active-icon-primary",3,"click"],[1,"svg-icon","svg-icon-1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["opacity","0.5","x","6","y","17.3137","width","16","height","2","rx","1","transform","rotate(-45 6 17.3137)","fill","currentColor"],["x","7.41422","y","6","width","16","height","2","rx","1","transform","rotate(45 7.41422 6)","fill","currentColor"],[1,"modal-body","scroll-y","mx-5","my-7"],["id","kt_modal_add_user_form","action","#",1,"form"],["id","kt_modal_add_user_scroll","data-kt-scroll","true","data-kt-scroll-activate","{default: false, lg: true}","data-kt-scroll-max-height","auto","data-kt-scroll-dependencies","#kt_modal_add_user_header","data-kt-scroll-wrappers","#kt_modal_add_user_scroll","data-kt-scroll-offset","300px",1,"d-flex","flex-column","scroll-y","me-n7","pe-7"],[1,"fv-row","mb-7"],[1,"form-label"],[1,"custom-file"],["type","file","id","customFile","accept",".xls, .xlsx, .csv",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],[1,"text-center","pt-15"],["type","reset",1,"btn","btn-light","me-3",3,"click"],["type","button","data-kt-users-modal-action","submit",1,"btn","btn-primary",3,"click"],[1,"indicator-label"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Import Clients (.xls,.xlsx,.csv)"),e.qZA(),e.TgZ(4,"div",3),e.NdJ("click",function(){return t.modal.dismiss()}),e.TgZ(5,"span",4),e.O4$(),e.TgZ(6,"svg",5),e._UZ(7,"rect",6)(8,"rect",7),e.qZA()()()(),e.kcU(),e.TgZ(9,"div",8)(10,"form",9)(11,"div",10)(12,"div",11)(13,"label",12),e._uU(14,"Sube tu archivo excel: *"),e.qZA(),e.TgZ(15,"div",13)(16,"input",14),e.NdJ("change",function(o){return t.processFile(o)}),e.qZA(),e.TgZ(17,"label",15),e._uU(18,"Choose file"),e.qZA()()()(),e.TgZ(19,"div",16)(20,"button",17),e.NdJ("click",function(){return t.modal.dismiss()}),e._uU(21,"Cerrar"),e.qZA(),e.TgZ(22,"button",18),e.NdJ("click",function(){return t.store()}),e.TgZ(23,"span",19),e._uU(24,"Importar"),e.qZA(),e.YNc(25,Y,1,0,"span",20),e.ALo(26,"async"),e.qZA()()()()()),2&s&&(e.xp6(25),e.Q6J("ngIf",e.lcZ(26,1,t.isLoading)))},dependencies:[d.O5,r._Y,r.JL,r.F,d.Ov]})}return i})();function V(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",50),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.name)}}function K(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"option",50),e._uU(2),e.qZA(),e.BQk()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("value",n.id),e.xp6(1),e.Oqu(n.full_name)}}function G(i,a){1&i&&e._UZ(0,"span",51)}function z(i,a){1&i&&(e.TgZ(0,"span",61),e._uU(1,"Activo"),e.qZA())}function $(i,a){1&i&&(e.TgZ(0,"span",62),e._uU(1,"Inactivo"),e.qZA())}function j(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"a",63),e.NdJ("click",function(){e.CHM(n);const t=e.oxw().$implicit,l=e.oxw();return e.KtG(l.editClientPerson(t))}),e.TgZ(1,"i",64),e._UZ(2,"span",7)(3,"span",8),e.qZA()()}}function X(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"a",63),e.NdJ("click",function(){e.CHM(n);const t=e.oxw().$implicit,l=e.oxw();return e.KtG(l.editClientCompany(t))}),e.TgZ(1,"i",64),e._UZ(2,"span",7)(3,"span",8),e.qZA()()}}function H(i,a){if(1&i){const n=e.EpF();e.TgZ(0,"a",65),e.NdJ("click",function(){e.CHM(n);const t=e.oxw().$implicit,l=e.oxw();return e.KtG(l.deleteClient(t))}),e.TgZ(1,"i",66),e._UZ(2,"span",7)(3,"span",8)(4,"span",67)(5,"span",68)(6,"span",69),e.qZA()()}}function W(i,a){if(1&i&&(e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"div",52)(4,"div",53)(5,"a",54),e._uU(6),e.qZA(),e.TgZ(7,"span",55),e._uU(8),e.qZA()()()(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA(),e.TgZ(19,"td"),e.YNc(20,z,2,0,"span",56),e.YNc(21,$,2,0,"span",57),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"td",58),e.YNc(25,j,4,0,"a",59),e.YNc(26,X,4,0,"a",59),e.YNc(27,H,7,0,"a",60),e.qZA()(),e.BQk()),2&i){const n=a.$implicit,s=e.oxw();e.xp6(6),e.Oqu(n.full_name),e.xp6(2),e.hij("Tipo: ",1==n.type?"PERSONA":"EMPRESA",""),e.xp6(2),e.hij(" ",n.client_segment.name," "),e.xp6(2),e.hij(" ",n.type_document," "),e.xp6(2),e.hij(" ",n.n_document," "),e.xp6(2),e.hij(" ",n.phone," "),e.xp6(2),e.lnq(" ",n.region,"/",n.provincia,"/",n.distrito," "),e.xp6(2),e.Q6J("ngIf",1==n.state),e.xp6(1),e.Q6J("ngIf",2==n.state),e.xp6(2),e.hij(" ",n.created_at," "),e.xp6(2),e.Q6J("ngIf",s.isPermission("edit_clientes")&&1==n.type),e.xp6(1),e.Q6J("ngIf",s.isPermission("edit_clientes")&&2==n.type),e.xp6(1),e.Q6J("ngIf",s.isPermission("delete_clientes"))}}const ee=[{path:"",component:k,children:[{path:"list",component:(()=>{class i{modalService;clientsService;search="";CLIENTS=[];isLoading$;totalPages=0;currentPage=1;client_segments=[];asesores=[];client_segment_id="";type="";asesor_id="";constructor(n,s){this.modalService=n,this.clientsService=s}ngOnInit(){this.isLoading$=this.clientsService.isLoading$,this.listClients(),this.listConfig()}listClients(n=1){this.clientsService.listClients(n,{search:this.search,client_segment_id:this.client_segment_id,type:this.type,asesor_id:this.asesor_id}).subscribe(t=>{console.log(t),this.CLIENTS=t.clients.data,this.totalPages=t.total,this.currentPage=n})}resetlistClients(){this.search="",this.client_segment_id="",this.type="",this.asesor_id="",this.listClients()}listConfig(){this.clientsService.listConfig().subscribe(n=>{console.log(n),this.client_segments=n.client_segments,this.asesores=n.asesores})}loadPage(n){this.listClients(n)}createClientCompany(){const n=this.modalService.open(E.P,{centered:!0,size:"lg"});n.componentInstance.client_segments=this.client_segments,n.componentInstance.asesores=this.asesores,n.componentInstance.ClientsC.subscribe(s=>{this.CLIENTS.unshift(s)})}createClientPerson(){const n=this.modalService.open(y.q,{centered:!0,size:"lg"});n.componentInstance.client_segments=this.client_segments,n.componentInstance.asesores=this.asesores,n.componentInstance.ClientsC.subscribe(s=>{this.CLIENTS.unshift(s)})}editClientCompany(n){const s=this.modalService.open(J,{centered:!0,size:"lg"});s.componentInstance.client_selected=n,s.componentInstance.client_segments=this.client_segments,s.componentInstance.asesores=this.asesores,s.componentInstance.ClientsE.subscribe(t=>{let l=this.CLIENTS.findIndex(o=>o.id==n.id);-1!=l&&(this.CLIENTS[l]=t)})}editClientPerson(n){const s=this.modalService.open(P,{centered:!0,size:"lg"});s.componentInstance.client_selected=n,s.componentInstance.client_segments=this.client_segments,s.componentInstance.asesores=this.asesores,s.componentInstance.ClientsE.subscribe(t=>{let l=this.CLIENTS.findIndex(o=>o.id==n.id);-1!=l&&(this.CLIENTS[l]=t)})}deleteClient(n){const s=this.modalService.open(F,{centered:!0,size:"md"});s.componentInstance.client_selected=n,s.componentInstance.ClientsD.subscribe(t=>{let l=this.CLIENTS.findIndex(o=>o.id==n.id);-1!=l&&this.CLIENTS.splice(l,1)})}exportClients(){let n="";this.search&&(n+="&search="+this.search),this.client_segment_id&&(n+="&client_segment_id="+this.client_segment_id),this.type&&(n+="&type="+this.type),this.asesor_id&&(n+="&asesor_id="+this.asesor_id),window.open(A.$g+"/excel/export-clients?z=1"+n,"_blank")}importClients(){this.modalService.open(B,{centered:!0,size:"md"}).componentInstance.importClient.subscribe(s=>{this.listClients()})}isPermission(n){return(0,A.me)(n)}static \u0275fac=function(s){return new(s||i)(e.Y36(_.FF),e.Y36(g.a))};static \u0275cmp=e.Xpm({type:i,selectors:[["app-lists-clients"]],decls:111,vars:15,consts:[[1,"card"],[1,"card-header","border-0","pt-6"],[1,"card-title"],[1,"row","align-items-center"],[1,"col-3"],[1,"d-flex","align-items-center","position-relative","my-1"],[1,"ki-duotone","ki-magnifier","fs-3","position-absolute","ms-5"],[1,"path1"],[1,"path2"],["type","text","name","search","data-kt-customer-table-filter","search","placeholder","Search Client (Nombre,apellido,ruc o dni,telefono)",1,"form-control","form-control-solid","ps-12",3,"ngModel","ngModelChange","keyup.enter"],["name","client_segment_id","placeholder","Selec. Segment",1,"form-control",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],[1,"text-muted","fs-7"],[1,"col-2"],["name","type","placeholder","Selec. Tipo Cliente",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["name","asesor_id","placeholder","Selec. Asesores",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-1","d-flex"],[1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-magnifier","fs-2"],[1,"btn","btn-dark","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-loading","fs-2"],[1,"btn","btn-success","btn-sm","mx-1",3,"click"],[1,"ki-duotone","ki-folder-down","fs-2"],[1,"ki-duotone","ki-update-folder","fs-2"],["class","spinner-border spinner-border-sm align-middle ms-2",4,"ngIf"],[1,"card-toolbar"],["data-kt-customer-table-toolbar","base",1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-primary","mx-2",3,"click"],["data-kt-customer-table-toolbar","selected",1,"d-flex","justify-content-end","align-items-center","d-none"],[1,"fw-bold","me-5"],["data-kt-customer-table-select","selected_count",1,"me-2"],["type","button","data-kt-customer-table-select","delete_selected",1,"btn","btn-danger"],[1,"card-body","pt-0"],["id","kt_customers_table_wrapper",1,"dt-container","dt-bootstrap5","dt-empty-footer"],["id","",1,"table-responsive"],["id","kt_customers_table",1,"table","align-middle","table-row-dashed","fs-6","gy-5","dataTable",2,"width","1199.5px"],["role","row",1,"text-start","text-gray-500","fw-bold","fs-7","text-uppercase","gs-0"],["data-dt-column","1","rowspan","1","colspan","1","aria-label","Customer Name: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["role","button",1,"dt-column-title"],[1,"dt-column-order"],["data-dt-column","2","rowspan","1","colspan","1","aria-label","Email: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","5","rowspan","1","colspan","1","aria-label","Created Date: Activate to sort","tabindex","0",1,"min-w-125px","dt-orderable-asc","dt-orderable-desc"],["data-dt-column","6","rowspan","1","colspan","1","aria-label","Actions",1,"text-end","min-w-70px","dt-orderable-none"],[1,"dt-column-title"],[1,"fw-semibold","text-gray-600"],[3,"collectionSize","page","pageSize","rotate","boundaryLinks","pageChange"],[3,"value"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],[1,"d-flex","align-items-center"],[1,"d-flex","justify-content-start","flex-column"],["href","#",1,"text-gray-900","fw-bold","text-hover-primary","mb-1","fs-6"],[1,"text-muted","fw-semibold","text-muted","d-block","fs-7"],["class","badge badge-light-success",4,"ngIf"],["class","badge badge-light-danger",4,"ngIf"],[1,""],["href","#","onclick","return false;","class","btn btn-icon btn-bg-light btn-active-color-primary btn-sm me-1",3,"click",4,"ngIf"],["href","#","onclick","return false;","class","btn btn-icon btn-bg-light btn-active-color-primary btn-sm",3,"click",4,"ngIf"],[1,"badge","badge-light-success"],[1,"badge","badge-light-danger"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","me-1",3,"click"],[1,"ki-duotone","ki-pencil","fs-2"],["href","#","onclick","return false;",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm",3,"click"],[1,"ki-duotone","ki-trash","fs-2"],[1,"path3"],[1,"path4"],[1,"path5"]],template:function(s,t){1&s&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"i",6),e._UZ(7,"span",7)(8,"span",8),e.qZA(),e.TgZ(9,"input",9),e.NdJ("ngModelChange",function(o){return t.search=o})("keyup.enter",function(){return t.listClients()}),e.qZA()()(),e.TgZ(10,"div",4)(11,"select",10),e.NdJ("ngModelChange",function(o){return t.client_segment_id=o}),e.TgZ(12,"option",11),e._uU(13,"Ninguno"),e.qZA(),e.YNc(14,V,3,2,"ng-container",12),e.qZA(),e.TgZ(15,"div",13),e._uU(16,"Segmento de cliente."),e.qZA()(),e.TgZ(17,"div",14)(18,"select",15),e.NdJ("ngModelChange",function(o){return t.type=o}),e.TgZ(19,"option",11),e._uU(20,"Ninguno"),e.qZA(),e.TgZ(21,"option",16),e._uU(22,"PERSONA"),e.qZA(),e.TgZ(23,"option",17),e._uU(24,"EMPRESA"),e.qZA()(),e.TgZ(25,"div",13),e._uU(26,"Tipo de cliente."),e.qZA()(),e.TgZ(27,"div",4)(28,"select",18),e.NdJ("ngModelChange",function(o){return t.asesor_id=o}),e.TgZ(29,"option",11),e._uU(30,"Ninguno"),e.qZA(),e.YNc(31,K,3,2,"ng-container",12),e.qZA(),e.TgZ(32,"div",13),e._uU(33,"Asesores."),e.qZA()(),e.TgZ(34,"div",19)(35,"button",20),e.NdJ("click",function(){return t.listClients()}),e.TgZ(36,"i",21),e._UZ(37,"span",7)(38,"span",8),e.qZA()(),e.TgZ(39,"button",22),e.NdJ("click",function(){return t.resetlistClients()}),e.TgZ(40,"i",23),e._UZ(41,"span",7)(42,"span",8),e.qZA()(),e.TgZ(43,"button",24),e.NdJ("click",function(){return t.exportClients()}),e.TgZ(44,"i",25),e._UZ(45,"span",7)(46,"span",8),e.qZA()(),e.TgZ(47,"button",24),e.NdJ("click",function(){return t.importClients()}),e.TgZ(48,"i",26),e._UZ(49,"span",7)(50,"span",8),e.qZA()()()()(),e.YNc(51,G,1,0,"span",27),e.ALo(52,"async"),e.TgZ(53,"div",28)(54,"div",29)(55,"button",30),e.NdJ("click",function(){return t.createClientCompany()}),e._uU(56," + Add Company "),e.qZA(),e.TgZ(57,"button",31),e.NdJ("click",function(){return t.createClientPerson()}),e._uU(58," + Add Client "),e.qZA()(),e.TgZ(59,"div",32)(60,"div",33),e._UZ(61,"span",34),e._uU(62," Selected "),e.qZA(),e.TgZ(63,"button",35),e._uU(64," Delete Selected "),e.qZA()()()(),e.TgZ(65,"div",36)(66,"div",37)(67,"div",38)(68,"table",39)(69,"thead")(70,"tr",40)(71,"th",41)(72,"span",42),e._uU(73,"Datos cliente"),e.qZA(),e._UZ(74,"span",43),e.qZA(),e.TgZ(75,"th",41)(76,"span",42),e._uU(77,"Segmento de cliente"),e.qZA(),e._UZ(78,"span",43),e.qZA(),e.TgZ(79,"th",41)(80,"span",42),e._uU(81,"Tipo de documento"),e.qZA(),e._UZ(82,"span",43),e.qZA(),e.TgZ(83,"th",41)(84,"span",42),e._uU(85,"N\xb0 de documento"),e.qZA(),e._UZ(86,"span",43),e.qZA(),e.TgZ(87,"th",41)(88,"span",42),e._uU(89,"Telefono"),e.qZA(),e._UZ(90,"span",43),e.qZA(),e.TgZ(91,"th",41)(92,"span",42),e._uU(93,"Ubigeo"),e.qZA(),e._UZ(94,"span",43),e.qZA(),e.TgZ(95,"th",44)(96,"span",42),e._uU(97,"Estado"),e.qZA(),e._UZ(98,"span",43),e.qZA(),e.TgZ(99,"th",45)(100,"span",42),e._uU(101,"Fecha de registro"),e.qZA(),e._UZ(102,"span",43),e.qZA(),e.TgZ(103,"th",46)(104,"span",47),e._uU(105,"Actions"),e.qZA(),e._UZ(106,"span",43),e.qZA()()(),e.TgZ(107,"tbody",48),e.YNc(108,W,28,15,"ng-container",12),e.qZA(),e._UZ(109,"tfoot"),e.qZA()(),e.TgZ(110,"ngb-pagination",49),e.NdJ("pageChange",function(o){return t.currentPage=o})("pageChange",function(o){return t.loadPage(o)}),e.qZA()()()()),2&s&&(e.xp6(9),e.Q6J("ngModel",t.search),e.xp6(2),e.Q6J("ngModel",t.client_segment_id),e.xp6(3),e.Q6J("ngForOf",t.client_segments),e.xp6(4),e.Q6J("ngModel",t.type),e.xp6(10),e.Q6J("ngModel",t.asesor_id),e.xp6(3),e.Q6J("ngForOf",t.asesores),e.xp6(20),e.Q6J("ngIf",e.lcZ(52,13,t.isLoading$)),e.xp6(57),e.Q6J("ngForOf",t.CLIENTS),e.xp6(2),e.Q6J("collectionSize",t.totalPages)("page",t.currentPage)("pageSize",25)("rotate",!0)("boundaryLinks",!0))},dependencies:[d.sg,d.O5,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.On,_.N9,d.Ov]})}return i})()}]}];let te=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[p.Bz.forChild(ee),p.Bz]})}return i})();var ne=c(9862),ie=c(53);let oe=(()=>{class i{static \u0275fac=function(s){return new(s||i)};static \u0275mod=e.oAB({type:i});static \u0275inj=e.cJS({imports:[d.ez,te,ne.JF,r.u5,_.IJ,r.UX,ie.vi,_.bz,_.jF]})}return i})()}}]);